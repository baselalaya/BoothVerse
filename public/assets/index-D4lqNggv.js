var eb=t=>{throw TypeError(t)};var hp=(t,e,n)=>e.has(t)||eb("Cannot "+n);var ne=(t,e,n)=>(hp(t,e,"read from private field"),n?n.call(t):e.get(t)),pt=(t,e,n)=>e.has(t)?eb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Qe=(t,e,n,i)=>(hp(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),mn=(t,e,n)=>(hp(t,e,"access private method"),n);var qu=(t,e,n,i)=>({set _(s){Qe(t,e,s,n)},get _(){return ne(t,e,i)}});function XP(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function K1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z1={exports:{}},Tf={},Q1={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),$P=Symbol.for("react.portal"),qP=Symbol.for("react.fragment"),YP=Symbol.for("react.strict_mode"),KP=Symbol.for("react.profiler"),ZP=Symbol.for("react.provider"),QP=Symbol.for("react.context"),JP=Symbol.for("react.forward_ref"),eR=Symbol.for("react.suspense"),tR=Symbol.for("react.memo"),nR=Symbol.for("react.lazy"),tb=Symbol.iterator;function iR(t){return t===null||typeof t!="object"?null:(t=tb&&t[tb]||t["@@iterator"],typeof t=="function"?t:null)}var J1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eT=Object.assign,tT={};function kl(t,e,n){this.props=t,this.context=e,this.refs=tT,this.updater=n||J1}kl.prototype.isReactComponent={};kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nT(){}nT.prototype=kl.prototype;function T0(t,e,n){this.props=t,this.context=e,this.refs=tT,this.updater=n||J1}var E0=T0.prototype=new nT;E0.constructor=T0;eT(E0,kl.prototype);E0.isPureReactComponent=!0;var nb=Array.isArray,iT=Object.prototype.hasOwnProperty,M0={current:null},sT={key:!0,ref:!0,__self:!0,__source:!0};function rT(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)iT.call(e,i)&&!sT.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Nu,type:t,key:r,ref:o,props:s,_owner:M0.current}}function sR(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function A0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function rR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ib=/\/+/g;function fp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rR(""+t.key):e.toString(36)}function Zd(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nu:case $P:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+fp(o,0):i,nb(s)?(n="",t!=null&&(n=t.replace(ib,"$&/")+"/"),Zd(s,e,n,"",function(c){return c})):s!=null&&(A0(s)&&(s=sR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ib,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",nb(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+fp(r,a);o+=Zd(r,e,n,l,s)}else if(l=iR(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+fp(r,a++),o+=Zd(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yu(t,e,n){if(t==null)return t;var i=[],s=0;return Zd(t,i,"","",function(r){return e.call(n,r,s++)}),i}function oR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},Qd={transition:null},aR={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Qd,ReactCurrentOwner:M0};function oT(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!A0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=kl;it.Fragment=qP;it.Profiler=KP;it.PureComponent=T0;it.StrictMode=YP;it.Suspense=eR;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aR;it.act=oT;it.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=eT({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=M0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iT.call(e,l)&&!sT.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Nu,type:t.type,key:s,ref:r,props:i,_owner:o}};it.createContext=function(t){return t={$$typeof:QP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZP,_context:t},t.Consumer=t};it.createElement=rT;it.createFactory=function(t){var e=rT.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:JP,render:t}};it.isValidElement=A0;it.lazy=function(t){return{$$typeof:nR,_payload:{_status:-1,_result:t},_init:oR}};it.memo=function(t,e){return{$$typeof:tR,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=Qd.transition;Qd.transition={};try{t()}finally{Qd.transition=e}};it.unstable_act=oT;it.useCallback=function(t,e){return On.current.useCallback(t,e)};it.useContext=function(t){return On.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return On.current.useDeferredValue(t)};it.useEffect=function(t,e){return On.current.useEffect(t,e)};it.useId=function(){return On.current.useId()};it.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return On.current.useMemo(t,e)};it.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};it.useRef=function(t){return On.current.useRef(t)};it.useState=function(t){return On.current.useState(t)};it.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};it.useTransition=function(){return On.current.useTransition()};it.version="18.3.1";Q1.exports=it;var M=Q1.exports;const wt=K1(M),lR=XP({__proto__:null,default:wt},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR=M,uR=Symbol.for("react.element"),dR=Symbol.for("react.fragment"),hR=Object.prototype.hasOwnProperty,fR=cR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pR={key:!0,ref:!0,__self:!0,__source:!0};function aT(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)hR.call(e,i)&&!pR.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:uR,type:t,key:r,ref:o,props:s,_owner:fR.current}}Tf.Fragment=dR;Tf.jsx=aT;Tf.jsxs=aT;Z1.exports=Tf;var u=Z1.exports,lT={exports:{}},di={},cT={exports:{}},uT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var q=N.length;N.push(B);e:for(;0<q;){var ee=q-1>>>1,xe=N[ee];if(0<s(xe,B))N[ee]=B,N[q]=xe,q=ee;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var B=N[0],q=N.pop();if(q!==B){N[0]=q;e:for(var ee=0,xe=N.length,Be=xe>>>1;ee<Be;){var We=2*(ee+1)-1,Q=N[We],ce=We+1,re=N[ce];if(0>s(Q,q))ce<xe&&0>s(re,Q)?(N[ee]=re,N[ce]=q,ee=ce):(N[ee]=Q,N[We]=q,ee=We);else if(ce<xe&&0>s(re,q))N[ee]=re,N[ce]=q,ee=ce;else break e}}return B}function s(N,B){var q=N.sortIndex-B.sortIndex;return q!==0?q:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,x=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=N)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function _(N){if(v=!1,b(N),!x)if(n(l)!==null)x=!0,H(w);else{var B=n(c);B!==null&&j(_,B.startTime-N)}}function w(N,B){x=!1,v&&(v=!1,m(E),E=-1),p=!0;var q=f;try{for(b(B),h=n(l);h!==null&&(!(h.expirationTime>B)||N&&!R());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var xe=ee(h.expirationTime<=B);B=t.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(l)&&i(l),b(B)}else i(l);h=n(l)}if(h!==null)var Be=!0;else{var We=n(c);We!==null&&j(_,We.startTime-B),Be=!1}return Be}finally{h=null,f=q,p=!1}}var T=!1,A=null,E=-1,C=5,S=-1;function R(){return!(t.unstable_now()-S<C)}function D(){if(A!==null){var N=t.unstable_now();S=N;var B=!0;try{B=A(!0,N)}finally{B?F():(T=!1,A=null)}}else T=!1}var F;if(typeof y=="function")F=function(){y(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,G=O.port2;O.port1.onmessage=D,F=function(){G.postMessage(null)}}else F=function(){g(D,0)};function H(N){A=N,T||(T=!0,F())}function j(N,B){E=g(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,H(w))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var q=f;f=B;try{return N()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=f;f=N;try{return B()}finally{f=q}},t.unstable_scheduleCallback=function(N,B,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,N){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=q+xe,N={id:d++,callback:B,priorityLevel:N,startTime:q,expirationTime:xe,sortIndex:-1},q>ee?(N.sortIndex=q,e(c,N),n(l)===null&&N===n(c)&&(v?(m(E),E=-1):v=!0,j(_,q-ee))):(N.sortIndex=xe,e(l,N),x||p||(x=!0,H(w))),N},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(N){var B=f;return function(){var q=f;f=B;try{return N.apply(this,arguments)}finally{f=q}}}})(uT);cT.exports=uT;var mR=cT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR=M,ci=mR;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dT=new Set,$c={};function Jo(t,e){dl(t,e),dl(t+"Capture",e)}function dl(t,e){for($c[t]=e,t=0;t<e.length;t++)dT.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lg=Object.prototype.hasOwnProperty,xR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sb={},rb={};function vR(t){return lg.call(rb,t)?!0:lg.call(sb,t)?!1:xR.test(t)?rb[t]=!0:(sb[t]=!0,!1)}function yR(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bR(t,e,n,i){if(e===null||typeof e>"u"||yR(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pn[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pn[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pn[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pn[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pn[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pn[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pn[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pn[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pn[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var C0=/[\-:]([a-z])/g;function P0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(C0,P0);pn[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(C0,P0);pn[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(C0,P0);pn[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pn[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});pn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pn[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function R0(t,e,n,i){var s=pn.hasOwnProperty(e)?pn[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bR(e,n,s,i)&&(n=null),i||s===null?vR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var mr=gR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),_a=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),hT=Symbol.for("react.provider"),fT=Symbol.for("react.context"),I0=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),L0=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),pT=Symbol.for("react.offscreen"),ob=Symbol.iterator;function Ql(t){return t===null||typeof t!="object"?null:(t=ob&&t[ob]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,pp;function bc(t){if(pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pp=e&&e[1]||""}return`
`+pp+t}var mp=!1;function gp(t,e){if(!t||mp)return"";mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bc(t):""}function _R(t){switch(t.tag){case 5:return bc(t.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return t=gp(t.type,!1),t;case 11:return t=gp(t.type.render,!1),t;case 1:return t=gp(t.type,!0),t;default:return""}}function hg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case _a:return"Portal";case cg:return"Profiler";case N0:return"StrictMode";case ug:return"Suspense";case dg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fT:return(t.displayName||"Context")+".Consumer";case hT:return(t._context.displayName||"Context")+".Provider";case I0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L0:return e=t.displayName||null,e!==null?e:hg(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return hg(t(e))}catch{}}return null}function wR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hg(e);case 8:return e===N0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function no(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SR(t){var e=mT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=SR(t))}function gT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=mT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Mh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fg(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ab(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=no(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xT(t,e){e=e.checked,e!=null&&R0(t,"checked",e,!1)}function pg(t,e){xT(t,e);var n=no(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mg(t,e.type,n):e.hasOwnProperty("defaultValue")&&mg(t,e.type,no(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mg(t,e,n){(e!=="number"||Mh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _c=Array.isArray;function Va(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+no(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function gg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(_c(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:no(n)}}function vT(t,e){var n=no(e.value),i=no(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ub(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,bT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TR=["Webkit","ms","Moz","O"];Object.keys(Cc).forEach(function(t){TR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cc[e]=Cc[t]})});function _T(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cc.hasOwnProperty(t)&&Cc[t]?(""+e).trim():e+"px"}function wT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=_T(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var ER=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vg(t,e){if(e){if(ER[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function yg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bg=null;function D0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _g=null,Ha=null,Ga=null;function db(t){if(t=Du(t)){if(typeof _g!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Pf(e),_g(t.stateNode,t.type,e))}}function ST(t){Ha?Ga?Ga.push(t):Ga=[t]:Ha=t}function TT(){if(Ha){var t=Ha,e=Ga;if(Ga=Ha=null,db(t),e)for(t=0;t<e.length;t++)db(e[t])}}function ET(t,e){return t(e)}function MT(){}var xp=!1;function AT(t,e,n){if(xp)return t(e,n);xp=!0;try{return ET(t,e,n)}finally{xp=!1,(Ha!==null||Ga!==null)&&(MT(),TT())}}function Yc(t,e){var n=t.stateNode;if(n===null)return null;var i=Pf(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var wg=!1;if(ar)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){wg=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{wg=!1}function MR(t,e,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Pc=!1,Ah=null,Ch=!1,Sg=null,AR={onError:function(t){Pc=!0,Ah=t}};function CR(t,e,n,i,s,r,o,a,l){Pc=!1,Ah=null,MR.apply(AR,arguments)}function PR(t,e,n,i,s,r,o,a,l){if(CR.apply(this,arguments),Pc){if(Pc){var c=Ah;Pc=!1,Ah=null}else throw Error(le(198));Ch||(Ch=!0,Sg=c)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hb(t){if(ea(t)!==t)throw Error(le(188))}function RR(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return hb(s),t;if(r===i)return hb(s),e;r=r.sibling}throw Error(le(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==i)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function PT(t){return t=RR(t),t!==null?RT(t):null}function RT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RT(t);if(e!==null)return e;t=t.sibling}return null}var NT=ci.unstable_scheduleCallback,fb=ci.unstable_cancelCallback,NR=ci.unstable_shouldYield,IR=ci.unstable_requestPaint,Wt=ci.unstable_now,LR=ci.unstable_getCurrentPriorityLevel,k0=ci.unstable_ImmediatePriority,IT=ci.unstable_UserBlockingPriority,Ph=ci.unstable_NormalPriority,DR=ci.unstable_LowPriority,LT=ci.unstable_IdlePriority,Ef=null,ys=null;function kR(t){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(Ef,t,void 0,(t.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:FR,OR=Math.log,jR=Math.LN2;function FR(t){return t>>>=0,t===0?32:31-(OR(t)/jR|0)|0}var Ju=64,ed=4194304;function wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=wc(a):(r&=o,r!==0&&(i=wc(r)))}else o=n&~s,o!==0?i=wc(o):r!==0&&(i=wc(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-$i(e),s=1<<n,i|=t[n],e&=~s;return i}function UR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BR(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-$i(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=UR(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function Tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DT(){var t=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),t}function vp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Iu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$i(e),t[e]=n}function zR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$i(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function O0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-$i(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var xt=0;function kT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OT,j0,jT,FT,UT,Eg=!1,td=[],Wr=null,Xr=null,$r=null,Kc=new Map,Zc=new Map,Ir=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pb(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(e.pointerId)}}function ec(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Du(e),e!==null&&j0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function HR(t,e,n,i,s){switch(e){case"focusin":return Wr=ec(Wr,t,e,n,i,s),!0;case"dragenter":return Xr=ec(Xr,t,e,n,i,s),!0;case"mouseover":return $r=ec($r,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Kc.set(r,ec(Kc.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Zc.set(r,ec(Zc.get(r)||null,t,e,n,i,s)),!0}return!1}function BT(t){var e=Io(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=CT(n),e!==null){t.blockedOn=e,UT(t.priority,function(){jT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);bg=i,n.target.dispatchEvent(i),bg=null}else return e=Du(n),e!==null&&j0(e),t.blockedOn=n,!1;e.shift()}return!0}function mb(t,e,n){Jd(t)&&n.delete(e)}function GR(){Eg=!1,Wr!==null&&Jd(Wr)&&(Wr=null),Xr!==null&&Jd(Xr)&&(Xr=null),$r!==null&&Jd($r)&&($r=null),Kc.forEach(mb),Zc.forEach(mb)}function tc(t,e){t.blockedOn===e&&(t.blockedOn=null,Eg||(Eg=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,GR)))}function Qc(t){function e(s){return tc(s,t)}if(0<td.length){tc(td[0],t);for(var n=1;n<td.length;n++){var i=td[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Wr!==null&&tc(Wr,t),Xr!==null&&tc(Xr,t),$r!==null&&tc($r,t),Kc.forEach(e),Zc.forEach(e),n=0;n<Ir.length;n++)i=Ir[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)BT(n),n.blockedOn===null&&Ir.shift()}var Wa=mr.ReactCurrentBatchConfig,Nh=!0;function WR(t,e,n,i){var s=xt,r=Wa.transition;Wa.transition=null;try{xt=1,F0(t,e,n,i)}finally{xt=s,Wa.transition=r}}function XR(t,e,n,i){var s=xt,r=Wa.transition;Wa.transition=null;try{xt=4,F0(t,e,n,i)}finally{xt=s,Wa.transition=r}}function F0(t,e,n,i){if(Nh){var s=Mg(t,e,n,i);if(s===null)Cp(t,e,i,Ih,n),pb(t,i);else if(HR(s,t,e,n,i))i.stopPropagation();else if(pb(t,i),e&4&&-1<VR.indexOf(t)){for(;s!==null;){var r=Du(s);if(r!==null&&OT(r),r=Mg(t,e,n,i),r===null&&Cp(t,e,i,Ih,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Cp(t,e,i,null,n)}}var Ih=null;function Mg(t,e,n,i){if(Ih=null,t=D0(i),t=Io(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ih=t,null}function zT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LR()){case k0:return 1;case IT:return 4;case Ph:case DR:return 16;case LT:return 536870912;default:return 16}default:return 16}}var Br=null,U0=null,eh=null;function VT(){if(eh)return eh;var t,e=U0,n=e.length,i,s="value"in Br?Br.value:Br.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return eh=s.slice(t,1<i?1-i:void 0)}function th(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nd(){return!0}function gb(){return!1}function hi(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?nd:gb,this.isPropagationStopped=gb,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nd)},persist:function(){},isPersistent:nd}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B0=hi(Ol),Lu=jt({},Ol,{view:0,detail:0}),$R=hi(Lu),yp,bp,nc,Mf=jt({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nc&&(nc&&t.type==="mousemove"?(yp=t.screenX-nc.screenX,bp=t.screenY-nc.screenY):bp=yp=0,nc=t),yp)},movementY:function(t){return"movementY"in t?t.movementY:bp}}),xb=hi(Mf),qR=jt({},Mf,{dataTransfer:0}),YR=hi(qR),KR=jt({},Lu,{relatedTarget:0}),_p=hi(KR),ZR=jt({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),QR=hi(ZR),JR=jt({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eN=hi(JR),tN=jt({},Ol,{data:0}),vb=hi(tN),nN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sN[t])?!!e[t]:!1}function z0(){return rN}var oN=jt({},Lu,{key:function(t){if(t.key){var e=nN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=th(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z0,charCode:function(t){return t.type==="keypress"?th(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?th(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aN=hi(oN),lN=jt({},Mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yb=hi(lN),cN=jt({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z0}),uN=hi(cN),dN=jt({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),hN=hi(dN),fN=jt({},Mf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pN=hi(fN),mN=[9,13,27,32],V0=ar&&"CompositionEvent"in window,Rc=null;ar&&"documentMode"in document&&(Rc=document.documentMode);var gN=ar&&"TextEvent"in window&&!Rc,HT=ar&&(!V0||Rc&&8<Rc&&11>=Rc),bb=" ",_b=!1;function GT(t,e){switch(t){case"keyup":return mN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function xN(t,e){switch(t){case"compositionend":return WT(e);case"keypress":return e.which!==32?null:(_b=!0,bb);case"textInput":return t=e.data,t===bb&&_b?null:t;default:return null}}function vN(t,e){if(Sa)return t==="compositionend"||!V0&&GT(t,e)?(t=VT(),eh=U0=Br=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HT&&e.locale!=="ko"?null:e.data;default:return null}}var yN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yN[t.type]:e==="textarea"}function XT(t,e,n,i){ST(i),e=Lh(e,"onChange"),0<e.length&&(n=new B0("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Nc=null,Jc=null;function bN(t){iE(t,0)}function Af(t){var e=Ma(t);if(gT(e))return t}function _N(t,e){if(t==="change")return e}var $T=!1;if(ar){var wp;if(ar){var Sp="oninput"in document;if(!Sp){var Sb=document.createElement("div");Sb.setAttribute("oninput","return;"),Sp=typeof Sb.oninput=="function"}wp=Sp}else wp=!1;$T=wp&&(!document.documentMode||9<document.documentMode)}function Tb(){Nc&&(Nc.detachEvent("onpropertychange",qT),Jc=Nc=null)}function qT(t){if(t.propertyName==="value"&&Af(Jc)){var e=[];XT(e,Jc,t,D0(t)),AT(bN,e)}}function wN(t,e,n){t==="focusin"?(Tb(),Nc=e,Jc=n,Nc.attachEvent("onpropertychange",qT)):t==="focusout"&&Tb()}function SN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Af(Jc)}function TN(t,e){if(t==="click")return Af(e)}function EN(t,e){if(t==="input"||t==="change")return Af(e)}function MN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ji=typeof Object.is=="function"?Object.is:MN;function eu(t,e){if(Ji(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!lg.call(e,s)||!Ji(t[s],e[s]))return!1}return!0}function Eb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mb(t,e){var n=Eb(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eb(n)}}function YT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KT(){for(var t=window,e=Mh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mh(t.document)}return e}function H0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AN(t){var e=KT(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YT(n.ownerDocument.documentElement,n)){if(i!==null&&H0(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=Mb(n,r);var o=Mb(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CN=ar&&"documentMode"in document&&11>=document.documentMode,Ta=null,Ag=null,Ic=null,Cg=!1;function Ab(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cg||Ta==null||Ta!==Mh(i)||(i=Ta,"selectionStart"in i&&H0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ic&&eu(Ic,i)||(Ic=i,i=Lh(Ag,"onSelect"),0<i.length&&(e=new B0("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ta)))}function id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ea={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},Tp={},ZT={};ar&&(ZT=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Cf(t){if(Tp[t])return Tp[t];if(!Ea[t])return t;var e=Ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZT)return Tp[t]=e[n];return t}var QT=Cf("animationend"),JT=Cf("animationiteration"),eE=Cf("animationstart"),tE=Cf("transitionend"),nE=new Map,Cb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){nE.set(t,e),Jo(e,[t])}for(var Ep=0;Ep<Cb.length;Ep++){var Mp=Cb[Ep],PN=Mp.toLowerCase(),RN=Mp[0].toUpperCase()+Mp.slice(1);lo(PN,"on"+RN)}lo(QT,"onAnimationEnd");lo(JT,"onAnimationIteration");lo(eE,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(tE,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function Pb(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,PR(i,e,void 0,t),t.currentTarget=null}function iE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Pb(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Pb(s,a,c),r=l}}}if(Ch)throw t=Sg,Ch=!1,Sg=null,t}function Ct(t,e){var n=e[Lg];n===void 0&&(n=e[Lg]=new Set);var i=t+"__bubble";n.has(i)||(sE(e,t,2,!1),n.add(i))}function Ap(t,e,n){var i=0;e&&(i|=4),sE(n,t,i,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function tu(t){if(!t[sd]){t[sd]=!0,dT.forEach(function(n){n!=="selectionchange"&&(NN.has(n)||Ap(n,!1,t),Ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,Ap("selectionchange",!1,e))}}function sE(t,e,n,i){switch(zT(e)){case 1:var s=WR;break;case 4:s=XR;break;default:s=F0}n=s.bind(null,e,n,t),s=void 0,!wg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cp(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Io(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}AT(function(){var c=r,d=D0(n),h=[];e:{var f=nE.get(t);if(f!==void 0){var p=B0,x=t;switch(t){case"keypress":if(th(n)===0)break e;case"keydown":case"keyup":p=aN;break;case"focusin":x="focus",p=_p;break;case"focusout":x="blur",p=_p;break;case"beforeblur":case"afterblur":p=_p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uN;break;case QT:case JT:case eE:p=QR;break;case tE:p=hN;break;case"scroll":p=$R;break;case"wheel":p=pN;break;case"copy":case"cut":case"paste":p=eN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yb}var v=(e&4)!==0,g=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,m!==null&&(_=Yc(y,m),_!=null&&v.push(nu(y,_,b)))),g)break;y=y.return}0<v.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==bg&&(x=n.relatedTarget||n.fromElement)&&(Io(x)||x[lr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?Io(x):null,x!==null&&(g=ea(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(v=xb,_="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=yb,_="onPointerLeave",m="onPointerEnter",y="pointer"),g=p==null?f:Ma(p),b=x==null?f:Ma(x),f=new v(_,y+"leave",p,n,d),f.target=g,f.relatedTarget=b,_=null,Io(d)===c&&(v=new v(m,y+"enter",x,n,d),v.target=b,v.relatedTarget=g,_=v),g=_,p&&x)t:{for(v=p,m=x,y=0,b=v;b;b=sa(b))y++;for(b=0,_=m;_;_=sa(_))b++;for(;0<y-b;)v=sa(v),y--;for(;0<b-y;)m=sa(m),b--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=sa(v),m=sa(m)}v=null}else v=null;p!==null&&Rb(h,f,p,v,!1),x!==null&&g!==null&&Rb(h,g,x,v,!0)}}e:{if(f=c?Ma(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=_N;else if(wb(f))if($T)w=EN;else{w=SN;var T=wN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=TN);if(w&&(w=w(t,c))){XT(h,w,n,d);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&mg(f,"number",f.value)}switch(T=c?Ma(c):window,t){case"focusin":(wb(T)||T.contentEditable==="true")&&(Ta=T,Ag=c,Ic=null);break;case"focusout":Ic=Ag=Ta=null;break;case"mousedown":Cg=!0;break;case"contextmenu":case"mouseup":case"dragend":Cg=!1,Ab(h,n,d);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":Ab(h,n,d)}var A;if(V0)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Sa?GT(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(HT&&n.locale!=="ko"&&(Sa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Sa&&(A=VT()):(Br=d,U0="value"in Br?Br.value:Br.textContent,Sa=!0)),T=Lh(c,E),0<T.length&&(E=new vb(E,t,null,n,d),h.push({event:E,listeners:T}),A?E.data=A:(A=WT(n),A!==null&&(E.data=A)))),(A=gN?xN(t,n):vN(t,n))&&(c=Lh(c,"onBeforeInput"),0<c.length&&(d=new vb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=A))}iE(h,e)})}function nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lh(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Yc(t,n),r!=null&&i.unshift(nu(t,r,s)),r=Yc(t,e),r!=null&&i.push(nu(t,r,s))),t=t.return}return i}function sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rb(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=Yc(n,r),l!=null&&o.unshift(nu(n,l,a))):s||(l=Yc(n,r),l!=null&&o.push(nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IN=/\r\n?/g,LN=/\u0000|\uFFFD/g;function Nb(t){return(typeof t=="string"?t:""+t).replace(IN,`
`).replace(LN,"")}function rd(t,e,n){if(e=Nb(e),Nb(t)!==e&&n)throw Error(le(425))}function Dh(){}var Pg=null,Rg=null;function Ng(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ig=typeof setTimeout=="function"?setTimeout:void 0,DN=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,kN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(t){return Ib.resolve(null).then(t).catch(ON)}:Ig;function ON(t){setTimeout(function(){throw t})}function Pp(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Qc(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Qc(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jl=Math.random().toString(36).slice(2),fs="__reactFiber$"+jl,iu="__reactProps$"+jl,lr="__reactContainer$"+jl,Lg="__reactEvents$"+jl,jN="__reactListeners$"+jl,FN="__reactHandles$"+jl;function Io(t){var e=t[fs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[fs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lb(t);t!==null;){if(n=t[fs])return n;t=Lb(t)}return e}t=n,n=t.parentNode}return null}function Du(t){return t=t[fs]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Pf(t){return t[iu]||null}var Dg=[],Aa=-1;function co(t){return{current:t}}function Pt(t){0>Aa||(t.current=Dg[Aa],Dg[Aa]=null,Aa--)}function Et(t,e){Aa++,Dg[Aa]=t.current,t.current=e}var io={},Mn=co(io),Gn=co(!1),Ho=io;function hl(t,e){var n=t.type.contextTypes;if(!n)return io;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wn(t){return t=t.childContextTypes,t!=null}function kh(){Pt(Gn),Pt(Mn)}function Db(t,e,n){if(Mn.current!==io)throw Error(le(168));Et(Mn,e),Et(Gn,n)}function rE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(le(108,wR(t)||"Unknown",s));return jt({},n,i)}function Oh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||io,Ho=Mn.current,Et(Mn,t),Et(Gn,Gn.current),!0}function kb(t,e,n){var i=t.stateNode;if(!i)throw Error(le(169));n?(t=rE(t,e,Ho),i.__reactInternalMemoizedMergedChildContext=t,Pt(Gn),Pt(Mn),Et(Mn,t)):Pt(Gn),Et(Gn,n)}var qs=null,Rf=!1,Rp=!1;function oE(t){qs===null?qs=[t]:qs.push(t)}function UN(t){Rf=!0,oE(t)}function uo(){if(!Rp&&qs!==null){Rp=!0;var t=0,e=xt;try{var n=qs;for(xt=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}qs=null,Rf=!1}catch(s){throw qs!==null&&(qs=qs.slice(t+1)),NT(k0,uo),s}finally{xt=e,Rp=!1}}return null}var Ca=[],Pa=0,jh=null,Fh=0,Ti=[],Ei=0,Go=null,Ks=1,Zs="";function Eo(t,e){Ca[Pa++]=Fh,Ca[Pa++]=jh,jh=t,Fh=e}function aE(t,e,n){Ti[Ei++]=Ks,Ti[Ei++]=Zs,Ti[Ei++]=Go,Go=t;var i=Ks;t=Zs;var s=32-$i(i)-1;i&=~(1<<s),n+=1;var r=32-$i(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Ks=1<<32-$i(e)+s|n<<s|i,Zs=r+t}else Ks=1<<r|n<<s|i,Zs=t}function G0(t){t.return!==null&&(Eo(t,1),aE(t,1,0))}function W0(t){for(;t===jh;)jh=Ca[--Pa],Ca[Pa]=null,Fh=Ca[--Pa],Ca[Pa]=null;for(;t===Go;)Go=Ti[--Ei],Ti[Ei]=null,Zs=Ti[--Ei],Ti[Ei]=null,Ks=Ti[--Ei],Ti[Ei]=null}var oi=null,ri=null,Rt=!1,Vi=null;function lE(t,e){var n=Mi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ob(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oi=t,ri=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oi=t,ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Go!==null?{id:Ks,overflow:Zs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,oi=t,ri=null,!0):!1;default:return!1}}function kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Og(t){if(Rt){var e=ri;if(e){var n=e;if(!Ob(t,e)){if(kg(t))throw Error(le(418));e=qr(n.nextSibling);var i=oi;e&&Ob(t,e)?lE(i,n):(t.flags=t.flags&-4097|2,Rt=!1,oi=t)}}else{if(kg(t))throw Error(le(418));t.flags=t.flags&-4097|2,Rt=!1,oi=t}}}function jb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oi=t}function od(t){if(t!==oi)return!1;if(!Rt)return jb(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ng(t.type,t.memoizedProps)),e&&(e=ri)){if(kg(t))throw cE(),Error(le(418));for(;e;)lE(t,e),e=qr(e.nextSibling)}if(jb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ri=qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ri=null}}else ri=oi?qr(t.stateNode.nextSibling):null;return!0}function cE(){for(var t=ri;t;)t=qr(t.nextSibling)}function fl(){ri=oi=null,Rt=!1}function X0(t){Vi===null?Vi=[t]:Vi.push(t)}var BN=mr.ReactCurrentBatchConfig;function ic(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var i=n.stateNode}if(!i)throw Error(le(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function ad(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fb(t){var e=t._init;return e(t._payload)}function uE(t){function e(m,y){if(t){var b=m.deletions;b===null?(m.deletions=[y],m.flags|=16):b.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function i(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=Qr(m,y),m.index=0,m.sibling=null,m}function r(m,y,b){return m.index=b,t?(b=m.alternate,b!==null?(b=b.index,b<y?(m.flags|=2,y):b):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,b,_){return y===null||y.tag!==6?(y=jp(b,m.mode,_),y.return=m,y):(y=s(y,b),y.return=m,y)}function l(m,y,b,_){var w=b.type;return w===wa?d(m,y,b.props.children,_,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rr&&Fb(w)===y.type)?(_=s(y,b.props),_.ref=ic(m,y,b),_.return=m,_):(_=lh(b.type,b.key,b.props,null,m.mode,_),_.ref=ic(m,y,b),_.return=m,_)}function c(m,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Fp(b,m.mode,_),y.return=m,y):(y=s(y,b.children||[]),y.return=m,y)}function d(m,y,b,_,w){return y===null||y.tag!==7?(y=zo(b,m.mode,_,w),y.return=m,y):(y=s(y,b),y.return=m,y)}function h(m,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jp(""+y,m.mode,b),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ku:return b=lh(y.type,y.key,y.props,null,m.mode,b),b.ref=ic(m,null,y),b.return=m,b;case _a:return y=Fp(y,m.mode,b),y.return=m,y;case Rr:var _=y._init;return h(m,_(y._payload),b)}if(_c(y)||Ql(y))return y=zo(y,m.mode,b,null),y.return=m,y;ad(m,y)}return null}function f(m,y,b,_){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(m,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:return b.key===w?l(m,y,b,_):null;case _a:return b.key===w?c(m,y,b,_):null;case Rr:return w=b._init,f(m,y,w(b._payload),_)}if(_c(b)||Ql(b))return w!==null?null:d(m,y,b,_,null);ad(m,b)}return null}function p(m,y,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(b)||null,a(y,m,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return m=m.get(_.key===null?b:_.key)||null,l(y,m,_,w);case _a:return m=m.get(_.key===null?b:_.key)||null,c(y,m,_,w);case Rr:var T=_._init;return p(m,y,b,T(_._payload),w)}if(_c(_)||Ql(_))return m=m.get(b)||null,d(y,m,_,w,null);ad(y,_)}return null}function x(m,y,b,_){for(var w=null,T=null,A=y,E=y=0,C=null;A!==null&&E<b.length;E++){A.index>E?(C=A,A=null):C=A.sibling;var S=f(m,A,b[E],_);if(S===null){A===null&&(A=C);break}t&&A&&S.alternate===null&&e(m,A),y=r(S,y,E),T===null?w=S:T.sibling=S,T=S,A=C}if(E===b.length)return n(m,A),Rt&&Eo(m,E),w;if(A===null){for(;E<b.length;E++)A=h(m,b[E],_),A!==null&&(y=r(A,y,E),T===null?w=A:T.sibling=A,T=A);return Rt&&Eo(m,E),w}for(A=i(m,A);E<b.length;E++)C=p(A,m,E,b[E],_),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?E:C.key),y=r(C,y,E),T===null?w=C:T.sibling=C,T=C);return t&&A.forEach(function(R){return e(m,R)}),Rt&&Eo(m,E),w}function v(m,y,b,_){var w=Ql(b);if(typeof w!="function")throw Error(le(150));if(b=w.call(b),b==null)throw Error(le(151));for(var T=w=null,A=y,E=y=0,C=null,S=b.next();A!==null&&!S.done;E++,S=b.next()){A.index>E?(C=A,A=null):C=A.sibling;var R=f(m,A,S.value,_);if(R===null){A===null&&(A=C);break}t&&A&&R.alternate===null&&e(m,A),y=r(R,y,E),T===null?w=R:T.sibling=R,T=R,A=C}if(S.done)return n(m,A),Rt&&Eo(m,E),w;if(A===null){for(;!S.done;E++,S=b.next())S=h(m,S.value,_),S!==null&&(y=r(S,y,E),T===null?w=S:T.sibling=S,T=S);return Rt&&Eo(m,E),w}for(A=i(m,A);!S.done;E++,S=b.next())S=p(A,m,E,S.value,_),S!==null&&(t&&S.alternate!==null&&A.delete(S.key===null?E:S.key),y=r(S,y,E),T===null?w=S:T.sibling=S,T=S);return t&&A.forEach(function(D){return e(m,D)}),Rt&&Eo(m,E),w}function g(m,y,b,_){if(typeof b=="object"&&b!==null&&b.type===wa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:e:{for(var w=b.key,T=y;T!==null;){if(T.key===w){if(w=b.type,w===wa){if(T.tag===7){n(m,T.sibling),y=s(T,b.props.children),y.return=m,m=y;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rr&&Fb(w)===T.type){n(m,T.sibling),y=s(T,b.props),y.ref=ic(m,T,b),y.return=m,m=y;break e}n(m,T);break}else e(m,T);T=T.sibling}b.type===wa?(y=zo(b.props.children,m.mode,_,b.key),y.return=m,m=y):(_=lh(b.type,b.key,b.props,null,m.mode,_),_.ref=ic(m,y,b),_.return=m,m=_)}return o(m);case _a:e:{for(T=b.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(m,y.sibling),y=s(y,b.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Fp(b,m.mode,_),y.return=m,m=y}return o(m);case Rr:return T=b._init,g(m,y,T(b._payload),_)}if(_c(b))return x(m,y,b,_);if(Ql(b))return v(m,y,b,_);ad(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,b),y.return=m,m=y):(n(m,y),y=jp(b,m.mode,_),y.return=m,m=y),o(m)):n(m,y)}return g}var pl=uE(!0),dE=uE(!1),Uh=co(null),Bh=null,Ra=null,$0=null;function q0(){$0=Ra=Bh=null}function Y0(t){var e=Uh.current;Pt(Uh),t._currentValue=e}function jg(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Xa(t,e){Bh=t,$0=Ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if($0!==t)if(t={context:t,memoizedValue:e,next:null},Ra===null){if(Bh===null)throw Error(le(308));Ra=t,Bh.dependencies={lanes:0,firstContext:t}}else Ra=Ra.next=t;return e}var Lo=null;function K0(t){Lo===null?Lo=[t]:Lo.push(t)}function hE(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,K0(e)):(n.next=s.next,s.next=n),e.interleaved=n,cr(t,i)}function cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nr=!1;function Z0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,lt&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,cr(t,n)}return s=i.interleaved,s===null?(e.next=e,K0(i)):(e.next=s.next,s.next=e),i.interleaved=e,cr(t,n)}function nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,O0(t,n)}}function Ub(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zh(t,e,n,i){var s=t.updateQueue;Nr=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,d=c=l=null,a=r;do{var f=a.lane,p=a.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(f=e,p=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=jt({},h,f);break e;case 2:Nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Xo|=o,t.lanes=o,t.memoizedState=h}}function Bb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(le(191,s));s.call(i)}}}var ku={},bs=co(ku),su=co(ku),ru=co(ku);function Do(t){if(t===ku)throw Error(le(174));return t}function Q0(t,e){switch(Et(ru,e),Et(su,t),Et(bs,ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xg(e,t)}Pt(bs),Et(bs,e)}function ml(){Pt(bs),Pt(su),Pt(ru)}function pE(t){Do(ru.current);var e=Do(bs.current),n=xg(e,t.type);e!==n&&(Et(su,t),Et(bs,n))}function J0(t){su.current===t&&(Pt(bs),Pt(su))}var Dt=co(0);function Vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function ev(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var ih=mr.ReactCurrentDispatcher,Ip=mr.ReactCurrentBatchConfig,Wo=0,Ot=null,Qt=null,on=null,Hh=!1,Lc=!1,ou=0,zN=0;function gn(){throw Error(le(321))}function tv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ji(t[n],e[n]))return!1;return!0}function nv(t,e,n,i,s,r){if(Wo=r,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ih.current=t===null||t.memoizedState===null?WN:XN,t=n(i,s),Lc){r=0;do{if(Lc=!1,ou=0,25<=r)throw Error(le(301));r+=1,on=Qt=null,e.updateQueue=null,ih.current=$N,t=n(i,s)}while(Lc)}if(ih.current=Gh,e=Qt!==null&&Qt.next!==null,Wo=0,on=Qt=Ot=null,Hh=!1,e)throw Error(le(300));return t}function iv(){var t=ou!==0;return ou=0,t}function ls(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ot.memoizedState=on=t:on=on.next=t,on}function Ri(){if(Qt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=on===null?Ot.memoizedState:on.next;if(e!==null)on=e,Qt=t;else{if(t===null)throw Error(le(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},on===null?Ot.memoizedState=on=t:on=on.next=t}return on}function au(t,e){return typeof e=="function"?e(t):e}function Lp(t){var e=Ri(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var i=Qt,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var d=c.lane;if((Wo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Ot.lanes|=d,Xo|=d}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,Ji(i,e.memoizedState)||(Vn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,Ot.lanes|=r,Xo|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dp(t){var e=Ri(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Ji(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function mE(){}function gE(t,e){var n=Ot,i=Ri(),s=e(),r=!Ji(i.memoizedState,s);if(r&&(i.memoizedState=s,Vn=!0),i=i.queue,sv(yE.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||on!==null&&on.memoizedState.tag&1){if(n.flags|=2048,lu(9,vE.bind(null,n,i,s,e),void 0,null),cn===null)throw Error(le(349));Wo&30||xE(n,e,s)}return s}function xE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vE(t,e,n,i){e.value=n,e.getSnapshot=i,bE(e)&&_E(t)}function yE(t,e,n){return n(function(){bE(e)&&_E(t)})}function bE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ji(t,n)}catch{return!0}}function _E(t){var e=cr(t,1);e!==null&&qi(e,t,1,-1)}function zb(t){var e=ls();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:t},e.queue=t,t=t.dispatch=GN.bind(null,Ot,t),[e.memoizedState,t]}function lu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function wE(){return Ri().memoizedState}function sh(t,e,n,i){var s=ls();Ot.flags|=t,s.memoizedState=lu(1|e,n,void 0,i===void 0?null:i)}function Nf(t,e,n,i){var s=Ri();i=i===void 0?null:i;var r=void 0;if(Qt!==null){var o=Qt.memoizedState;if(r=o.destroy,i!==null&&tv(i,o.deps)){s.memoizedState=lu(e,n,r,i);return}}Ot.flags|=t,s.memoizedState=lu(1|e,n,r,i)}function Vb(t,e){return sh(8390656,8,t,e)}function sv(t,e){return Nf(2048,8,t,e)}function SE(t,e){return Nf(4,2,t,e)}function TE(t,e){return Nf(4,4,t,e)}function EE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ME(t,e,n){return n=n!=null?n.concat([t]):null,Nf(4,4,EE.bind(null,e,t),n)}function rv(){}function AE(t,e){var n=Ri();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tv(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function CE(t,e){var n=Ri();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tv(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function PE(t,e,n){return Wo&21?(Ji(n,e)||(n=DT(),Ot.lanes|=n,Xo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function VN(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var i=Ip.transition;Ip.transition={};try{t(!1),e()}finally{xt=n,Ip.transition=i}}function RE(){return Ri().memoizedState}function HN(t,e,n){var i=Zr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},NE(t))IE(e,n);else if(n=hE(t,e,n,i),n!==null){var s=Ln();qi(n,t,i,s),LE(n,e,i)}}function GN(t,e,n){var i=Zr(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(NE(t))IE(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ji(a,o)){var l=e.interleaved;l===null?(s.next=s,K0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=hE(t,e,s,i),n!==null&&(s=Ln(),qi(n,t,i,s),LE(n,e,i))}}function NE(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function IE(t,e){Lc=Hh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,O0(t,n)}}var Gh={readContext:Pi,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},WN={readContext:Pi,useCallback:function(t,e){return ls().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:Vb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sh(4194308,4,EE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sh(4194308,4,t,e)},useInsertionEffect:function(t,e){return sh(4,2,t,e)},useMemo:function(t,e){var n=ls();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ls();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=HN.bind(null,Ot,t),[i.memoizedState,t]},useRef:function(t){var e=ls();return t={current:t},e.memoizedState=t},useState:zb,useDebugValue:rv,useDeferredValue:function(t){return ls().memoizedState=t},useTransition:function(){var t=zb(!1),e=t[0];return t=VN.bind(null,t[1]),ls().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ot,s=ls();if(Rt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),cn===null)throw Error(le(349));Wo&30||xE(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Vb(yE.bind(null,i,r,t),[t]),i.flags|=2048,lu(9,vE.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=ls(),e=cn.identifierPrefix;if(Rt){var n=Zs,i=Ks;n=(i&~(1<<32-$i(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XN={readContext:Pi,useCallback:AE,useContext:Pi,useEffect:sv,useImperativeHandle:ME,useInsertionEffect:SE,useLayoutEffect:TE,useMemo:CE,useReducer:Lp,useRef:wE,useState:function(){return Lp(au)},useDebugValue:rv,useDeferredValue:function(t){var e=Ri();return PE(e,Qt.memoizedState,t)},useTransition:function(){var t=Lp(au)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:RE,unstable_isNewReconciler:!1},$N={readContext:Pi,useCallback:AE,useContext:Pi,useEffect:sv,useImperativeHandle:ME,useInsertionEffect:SE,useLayoutEffect:TE,useMemo:CE,useReducer:Dp,useRef:wE,useState:function(){return Dp(au)},useDebugValue:rv,useDeferredValue:function(t){var e=Ri();return Qt===null?e.memoizedState=t:PE(e,Qt.memoizedState,t)},useTransition:function(){var t=Dp(au)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:RE,unstable_isNewReconciler:!1};function Fi(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fg(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var If={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ln(),s=Zr(t),r=tr(i,s);r.payload=e,n!=null&&(r.callback=n),e=Yr(t,r,s),e!==null&&(qi(e,t,s,i),nh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ln(),s=Zr(t),r=tr(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Yr(t,r,s),e!==null&&(qi(e,t,s,i),nh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),i=Zr(t),s=tr(n,i);s.tag=2,e!=null&&(s.callback=e),e=Yr(t,s,i),e!==null&&(qi(e,t,i,n),nh(e,t,i))}};function Hb(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!eu(n,i)||!eu(s,r):!0}function DE(t,e,n){var i=!1,s=io,r=e.contextType;return typeof r=="object"&&r!==null?r=Pi(r):(s=Wn(e)?Ho:Mn.current,i=e.contextTypes,r=(i=i!=null)?hl(t,s):io),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=If,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Gb(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&If.enqueueReplaceState(e,e.state,null)}function Ug(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Z0(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Pi(r):(r=Wn(e)?Ho:Mn.current,s.context=hl(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Fg(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&If.enqueueReplaceState(s,s.state,null),zh(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function gl(t,e){try{var n="",i=e;do n+=_R(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qN=typeof WeakMap=="function"?WeakMap:Map;function kE(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Xh||(Xh=!0,Kg=i),Bg(t,e)},n}function OE(t,e,n){n=tr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Bg(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Bg(t,e),typeof i!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wb(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new qN;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=lI.bind(null,t,e,n),e.then(t,t))}function Xb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $b(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t)}var YN=mr.ReactCurrentOwner,Vn=!1;function Nn(t,e,n,i){e.child=t===null?dE(e,null,n,i):pl(e,t.child,n,i)}function qb(t,e,n,i,s){n=n.render;var r=e.ref;return Xa(e,s),i=nv(t,e,n,i,r,s),n=iv(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ur(t,e,s)):(Rt&&n&&G0(e),e.flags|=1,Nn(t,e,i,s),e.child)}function Yb(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!fv(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,jE(t,e,r,i,s)):(t=lh(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:eu,n(o,i)&&t.ref===e.ref)return ur(t,e,s)}return e.flags|=1,t=Qr(r,i),t.ref=e.ref,t.return=e,e.child=t}function jE(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(eu(r,i)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,ur(t,e,s)}return zg(t,e,n,i,s)}function FE(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Ia,ni),ni|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Et(Ia,ni),ni|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,Et(Ia,ni),ni|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,Et(Ia,ni),ni|=i;return Nn(t,e,s,n),e.child}function UE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zg(t,e,n,i,s){var r=Wn(n)?Ho:Mn.current;return r=hl(e,r),Xa(e,s),n=nv(t,e,n,i,r,s),i=iv(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ur(t,e,s)):(Rt&&i&&G0(e),e.flags|=1,Nn(t,e,n,s),e.child)}function Kb(t,e,n,i,s){if(Wn(n)){var r=!0;Oh(e)}else r=!1;if(Xa(e,s),e.stateNode===null)rh(t,e),DE(e,n,i),Ug(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pi(c):(c=Wn(n)?Ho:Mn.current,c=hl(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Gb(e,o,i,c),Nr=!1;var f=e.memoizedState;o.state=f,zh(e,i,o,s),l=e.memoizedState,a!==i||f!==l||Gn.current||Nr?(typeof d=="function"&&(Fg(e,n,d,i),l=e.memoizedState),(a=Nr||Hb(e,n,a,i,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,fE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Fi(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Wn(n)?Ho:Mn.current,l=hl(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Gb(e,o,i,l),Nr=!1,f=e.memoizedState,o.state=f,zh(e,i,o,s);var x=e.memoizedState;a!==h||f!==x||Gn.current||Nr?(typeof p=="function"&&(Fg(e,n,p,i),x=e.memoizedState),(c=Nr||Hb(e,n,c,i,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),o.props=i,o.state=x,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Vg(t,e,n,i,r,s)}function Vg(t,e,n,i,s,r){UE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&kb(e,n,!1),ur(t,e,r);i=e.stateNode,YN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=pl(e,t.child,null,r),e.child=pl(e,null,a,r)):Nn(t,e,a,r),e.memoizedState=i.state,s&&kb(e,n,!0),e.child}function BE(t){var e=t.stateNode;e.pendingContext?Db(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Db(t,e.context,!1),Q0(t,e.containerInfo)}function Zb(t,e,n,i,s){return fl(),X0(s),e.flags|=256,Nn(t,e,n,i),e.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function Gg(t){return{baseLanes:t,cachePool:null,transitions:null}}function zE(t,e,n){var i=e.pendingProps,s=Dt.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Et(Dt,s&1),t===null)return Og(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=kf(o,i,0,null),t=zo(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Gg(n),e.memoizedState=Hg,t):ov(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return KN(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Qr(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Qr(a,r):(r=zo(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Gg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Hg,i}return r=t.child,t=r.sibling,i=Qr(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ov(t,e){return e=kf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ld(t,e,n,i){return i!==null&&X0(i),pl(e,t.child,null,n),t=ov(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KN(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=kp(Error(le(422))),ld(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=kf({mode:"visible",children:i.children},s,0,null),r=zo(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&pl(e,t.child,null,o),e.child.memoizedState=Gg(o),e.memoizedState=Hg,r);if(!(e.mode&1))return ld(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(le(419)),i=kp(r,i,void 0),ld(t,e,o,i)}if(a=(o&t.childLanes)!==0,Vn||a){if(i=cn,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,cr(t,s),qi(i,t,s,-1))}return hv(),i=kp(Error(le(421))),ld(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cI.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,ri=qr(s.nextSibling),oi=e,Rt=!0,Vi=null,t!==null&&(Ti[Ei++]=Ks,Ti[Ei++]=Zs,Ti[Ei++]=Go,Ks=t.id,Zs=t.overflow,Go=e),e=ov(e,i.children),e.flags|=4096,e)}function Qb(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),jg(t.return,e,n)}function Op(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function VE(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Nn(t,e,i.children,n),i=Dt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qb(t,n,e);else if(t.tag===19)Qb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Et(Dt,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Op(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Op(e,!0,n,null,r);break;case"together":Op(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZN(t,e,n){switch(e.tag){case 3:BE(e),fl();break;case 5:pE(e);break;case 1:Wn(e.type)&&Oh(e);break;case 4:Q0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Et(Uh,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Et(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?zE(t,e,n):(Et(Dt,Dt.current&1),t=ur(t,e,n),t!==null?t.sibling:null);Et(Dt,Dt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return VE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Et(Dt,Dt.current),i)break;return null;case 22:case 23:return e.lanes=0,FE(t,e,n)}return ur(t,e,n)}var HE,Wg,GE,WE;HE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wg=function(){};GE=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Do(bs.current);var r=null;switch(n){case"input":s=fg(t,s),i=fg(t,i),r=[];break;case"select":s=jt({},s,{value:void 0}),i=jt({},i,{value:void 0}),r=[];break;case"textarea":s=gg(t,s),i=gg(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Dh)}vg(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($c.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($c.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ct("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};WE=function(t,e,n,i){n!==i&&(e.flags|=4)};function sc(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function QN(t,e,n){var i=e.pendingProps;switch(W0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(e),null;case 1:return Wn(e.type)&&kh(),xn(e),null;case 3:return i=e.stateNode,ml(),Pt(Gn),Pt(Mn),ev(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vi!==null&&(Jg(Vi),Vi=null))),Wg(t,e),xn(e),null;case 5:J0(e);var s=Do(ru.current);if(n=e.type,t!==null&&e.stateNode!=null)GE(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(le(166));return xn(e),null}if(t=Do(bs.current),od(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[fs]=e,i[iu]=r,t=(e.mode&1)!==0,n){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(s=0;s<Sc.length;s++)Ct(Sc[s],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":ab(i,r),Ct("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Ct("invalid",i);break;case"textarea":cb(i,r),Ct("invalid",i)}vg(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&rd(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&rd(i.textContent,a,t),s=["children",""+a]):$c.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ct("scroll",i)}switch(n){case"input":Zu(i),lb(i,r,!0);break;case"textarea":Zu(i),ub(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Dh)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[fs]=e,t[iu]=i,HE(t,e,!1,!1),e.stateNode=t;e:{switch(o=yg(n,i),n){case"dialog":Ct("cancel",t),Ct("close",t),s=i;break;case"iframe":case"object":case"embed":Ct("load",t),s=i;break;case"video":case"audio":for(s=0;s<Sc.length;s++)Ct(Sc[s],t);s=i;break;case"source":Ct("error",t),s=i;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),s=i;break;case"details":Ct("toggle",t),s=i;break;case"input":ab(t,i),s=fg(t,i),Ct("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=jt({},i,{value:void 0}),Ct("invalid",t);break;case"textarea":cb(t,i),s=gg(t,i),Ct("invalid",t);break;default:s=i}vg(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?wT(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bT(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qc(t,l):typeof l=="number"&&qc(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&($c.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Ct("scroll",t):l!=null&&R0(t,r,l,o))}switch(n){case"input":Zu(t),lb(t,i,!1);break;case"textarea":Zu(t),ub(t);break;case"option":i.value!=null&&t.setAttribute("value",""+no(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Va(t,!!i.multiple,r,!1):i.defaultValue!=null&&Va(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Dh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xn(e),null;case 6:if(t&&e.stateNode!=null)WE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(le(166));if(n=Do(ru.current),Do(bs.current),od(e)){if(i=e.stateNode,n=e.memoizedProps,i[fs]=e,(r=i.nodeValue!==n)&&(t=oi,t!==null))switch(t.tag){case 3:rd(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rd(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[fs]=e,e.stateNode=i}return xn(e),null;case 13:if(Pt(Dt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&ri!==null&&e.mode&1&&!(e.flags&128))cE(),fl(),e.flags|=98560,r=!1;else if(r=od(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(le(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(le(317));r[fs]=e}else fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xn(e),r=!1}else Vi!==null&&(Jg(Vi),Vi=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?en===0&&(en=3):hv())),e.updateQueue!==null&&(e.flags|=4),xn(e),null);case 4:return ml(),Wg(t,e),t===null&&tu(e.stateNode.containerInfo),xn(e),null;case 10:return Y0(e.type._context),xn(e),null;case 17:return Wn(e.type)&&kh(),xn(e),null;case 19:if(Pt(Dt),r=e.memoizedState,r===null)return xn(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)sc(r,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vh(t),o!==null){for(e.flags|=128,sc(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Et(Dt,Dt.current&1|2),e.child}t=t.sibling}r.tail!==null&&Wt()>xl&&(e.flags|=128,i=!0,sc(r,!1),e.lanes=4194304)}else{if(!i)if(t=Vh(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Rt)return xn(e),null}else 2*Wt()-r.renderingStartTime>xl&&n!==1073741824&&(e.flags|=128,i=!0,sc(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Wt(),e.sibling=null,n=Dt.current,Et(Dt,i?n&1|2:n&1),e):(xn(e),null);case 22:case 23:return dv(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ni&1073741824&&(xn(e),e.subtreeFlags&6&&(e.flags|=8192)):xn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function JN(t,e){switch(W0(e),e.tag){case 1:return Wn(e.type)&&kh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ml(),Pt(Gn),Pt(Mn),ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return J0(e),null;case 13:if(Pt(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(Dt),null;case 4:return ml(),null;case 10:return Y0(e.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var cd=!1,Sn=!1,eI=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){zt(t,e,i)}else n.current=null}function Xg(t,e,n){try{n()}catch(i){zt(t,e,i)}}var Jb=!1;function tI(t,e){if(Pg=Nh,t=KT(),H0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==r||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===r&&++d===i&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rg={focusedElem:t,selectionRange:n},Nh=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,g=x.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Fi(e.type,v),g);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(_){zt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return x=Jb,Jb=!1,x}function Dc(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&Xg(e,n,r)}s=s.next}while(s!==i)}}function Lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function $g(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XE(t){var e=t.alternate;e!==null&&(t.alternate=null,XE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fs],delete e[iu],delete e[Lg],delete e[jN],delete e[FN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $E(t){return t.tag===5||t.tag===3||t.tag===4}function e_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$E(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dh));else if(i!==4&&(t=t.child,t!==null))for(qg(t,e,n),t=t.sibling;t!==null;)qg(t,e,n),t=t.sibling}function Yg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}var dn=null,zi=!1;function gr(t,e,n){for(n=n.child;n!==null;)qE(t,e,n),n=n.sibling}function qE(t,e,n){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(Ef,n)}catch{}switch(n.tag){case 5:Sn||Na(n,e);case 6:var i=dn,s=zi;dn=null,gr(t,e,n),dn=i,zi=s,dn!==null&&(zi?(t=dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(zi?(t=dn,n=n.stateNode,t.nodeType===8?Pp(t.parentNode,n):t.nodeType===1&&Pp(t,n),Qc(t)):Pp(dn,n.stateNode));break;case 4:i=dn,s=zi,dn=n.stateNode.containerInfo,zi=!0,gr(t,e,n),dn=i,zi=s;break;case 0:case 11:case 14:case 15:if(!Sn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Xg(n,e,o),s=s.next}while(s!==i)}gr(t,e,n);break;case 1:if(!Sn&&(Na(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){zt(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(Sn=(i=Sn)||n.memoizedState!==null,gr(t,e,n),Sn=i):gr(t,e,n);break;default:gr(t,e,n)}}function t_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eI),e.forEach(function(i){var s=uI.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Li(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dn=a.stateNode,zi=!1;break e;case 3:dn=a.stateNode.containerInfo,zi=!0;break e;case 4:dn=a.stateNode.containerInfo,zi=!0;break e}a=a.return}if(dn===null)throw Error(le(160));qE(r,o,s),dn=null,zi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){zt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YE(e,t),e=e.sibling}function YE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Li(e,t),os(t),i&4){try{Dc(3,t,t.return),Lf(3,t)}catch(v){zt(t,t.return,v)}try{Dc(5,t,t.return)}catch(v){zt(t,t.return,v)}}break;case 1:Li(e,t),os(t),i&512&&n!==null&&Na(n,n.return);break;case 5:if(Li(e,t),os(t),i&512&&n!==null&&Na(n,n.return),t.flags&32){var s=t.stateNode;try{qc(s,"")}catch(v){zt(t,t.return,v)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&xT(s,r),yg(a,o);var c=yg(a,r);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?wT(s,h):d==="dangerouslySetInnerHTML"?bT(s,h):d==="children"?qc(s,h):R0(s,d,h,c)}switch(a){case"input":pg(s,r);break;case"textarea":vT(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?Va(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?Va(s,!!r.multiple,r.defaultValue,!0):Va(s,!!r.multiple,r.multiple?[]:"",!1))}s[iu]=r}catch(v){zt(t,t.return,v)}}break;case 6:if(Li(e,t),os(t),i&4){if(t.stateNode===null)throw Error(le(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(v){zt(t,t.return,v)}}break;case 3:if(Li(e,t),os(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Qc(e.containerInfo)}catch(v){zt(t,t.return,v)}break;case 4:Li(e,t),os(t);break;case 13:Li(e,t),os(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(cv=Wt())),i&4&&t_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Sn=(c=Sn)||d,Li(e,t),Sn=c):Li(e,t),os(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Se=t,d=t.child;d!==null;){for(h=Se=d;Se!==null;){switch(f=Se,p=f.child,f.tag){case 0:case 11:case 14:case 15:Dc(4,f,f.return);break;case 1:Na(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){zt(i,n,v)}}break;case 5:Na(f,f.return);break;case 22:if(f.memoizedState!==null){i_(h);continue}}p!==null?(p.return=f,Se=p):i_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_T("display",o))}catch(v){zt(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){zt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Li(e,t),os(t),i&4&&t_(t);break;case 21:break;default:Li(e,t),os(t)}}function os(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($E(n)){var i=n;break e}n=n.return}throw Error(le(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(qc(s,""),i.flags&=-33);var r=e_(t);Yg(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=e_(t);qg(t,a,o);break;default:throw Error(le(161))}}catch(l){zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nI(t,e,n){Se=t,KE(t)}function KE(t,e,n){for(var i=(t.mode&1)!==0;Se!==null;){var s=Se,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||cd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Sn;a=cd;var c=Sn;if(cd=o,(Sn=l)&&!c)for(Se=s;Se!==null;)o=Se,l=o.child,o.tag===22&&o.memoizedState!==null?s_(s):l!==null?(l.return=o,Se=l):s_(s);for(;r!==null;)Se=r,KE(r),r=r.sibling;Se=s,cd=a,Sn=c}n_(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,Se=r):n_(t)}}function n_(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||Lf(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Sn)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Fi(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Bb(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Sn||e.flags&512&&$g(e)}catch(f){zt(e,e.return,f)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function i_(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function s_(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lf(4,e)}catch(l){zt(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){zt(e,s,l)}}var r=e.return;try{$g(e)}catch(l){zt(e,r,l)}break;case 5:var o=e.return;try{$g(e)}catch(l){zt(e,o,l)}}}catch(l){zt(e,e.return,l)}if(e===t){Se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Se=a;break}Se=e.return}}var iI=Math.ceil,Wh=mr.ReactCurrentDispatcher,av=mr.ReactCurrentOwner,Ci=mr.ReactCurrentBatchConfig,lt=0,cn=null,$t=null,fn=0,ni=0,Ia=co(0),en=0,cu=null,Xo=0,Df=0,lv=0,kc=null,zn=null,cv=0,xl=1/0,Xs=null,Xh=!1,Kg=null,Kr=null,ud=!1,zr=null,$h=0,Oc=0,Zg=null,oh=-1,ah=0;function Ln(){return lt&6?Wt():oh!==-1?oh:oh=Wt()}function Zr(t){return t.mode&1?lt&2&&fn!==0?fn&-fn:BN.transition!==null?(ah===0&&(ah=DT()),ah):(t=xt,t!==0||(t=window.event,t=t===void 0?16:zT(t.type)),t):1}function qi(t,e,n,i){if(50<Oc)throw Oc=0,Zg=null,Error(le(185));Iu(t,n,i),(!(lt&2)||t!==cn)&&(t===cn&&(!(lt&2)&&(Df|=n),en===4&&Lr(t,fn)),Xn(t,i),n===1&&lt===0&&!(e.mode&1)&&(xl=Wt()+500,Rf&&uo()))}function Xn(t,e){var n=t.callbackNode;BR(t,e);var i=Rh(t,t===cn?fn:0);if(i===0)n!==null&&fb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&fb(n),e===1)t.tag===0?UN(r_.bind(null,t)):oE(r_.bind(null,t)),kN(function(){!(lt&6)&&uo()}),n=null;else{switch(kT(i)){case 1:n=k0;break;case 4:n=IT;break;case 16:n=Ph;break;case 536870912:n=LT;break;default:n=Ph}n=sM(n,ZE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZE(t,e){if(oh=-1,ah=0,lt&6)throw Error(le(327));var n=t.callbackNode;if($a()&&t.callbackNode!==n)return null;var i=Rh(t,t===cn?fn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=qh(t,i);else{e=i;var s=lt;lt|=2;var r=JE();(cn!==t||fn!==e)&&(Xs=null,xl=Wt()+500,Bo(t,e));do try{oI();break}catch(a){QE(t,a)}while(!0);q0(),Wh.current=r,lt=s,$t!==null?e=0:(cn=null,fn=0,e=en)}if(e!==0){if(e===2&&(s=Tg(t),s!==0&&(i=s,e=Qg(t,s))),e===1)throw n=cu,Bo(t,0),Lr(t,i),Xn(t,Wt()),n;if(e===6)Lr(t,i);else{if(s=t.current.alternate,!(i&30)&&!sI(s)&&(e=qh(t,i),e===2&&(r=Tg(t),r!==0&&(i=r,e=Qg(t,r))),e===1))throw n=cu,Bo(t,0),Lr(t,i),Xn(t,Wt()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(le(345));case 2:Mo(t,zn,Xs);break;case 3:if(Lr(t,i),(i&130023424)===i&&(e=cv+500-Wt(),10<e)){if(Rh(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Ln(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ig(Mo.bind(null,t,zn,Xs),e);break}Mo(t,zn,Xs);break;case 4:if(Lr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-$i(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=Wt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*iI(i/1960))-i,10<i){t.timeoutHandle=Ig(Mo.bind(null,t,zn,Xs),i);break}Mo(t,zn,Xs);break;case 5:Mo(t,zn,Xs);break;default:throw Error(le(329))}}}return Xn(t,Wt()),t.callbackNode===n?ZE.bind(null,t):null}function Qg(t,e){var n=kc;return t.current.memoizedState.isDehydrated&&(Bo(t,e).flags|=256),t=qh(t,e),t!==2&&(e=zn,zn=n,e!==null&&Jg(e)),t}function Jg(t){zn===null?zn=t:zn.push.apply(zn,t)}function sI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Ji(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lr(t,e){for(e&=~lv,e&=~Df,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$i(e),i=1<<n;t[n]=-1,e&=~i}}function r_(t){if(lt&6)throw Error(le(327));$a();var e=Rh(t,0);if(!(e&1))return Xn(t,Wt()),null;var n=qh(t,e);if(t.tag!==0&&n===2){var i=Tg(t);i!==0&&(e=i,n=Qg(t,i))}if(n===1)throw n=cu,Bo(t,0),Lr(t,e),Xn(t,Wt()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,zn,Xs),Xn(t,Wt()),null}function uv(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(xl=Wt()+500,Rf&&uo())}}function $o(t){zr!==null&&zr.tag===0&&!(lt&6)&&$a();var e=lt;lt|=1;var n=Ci.transition,i=xt;try{if(Ci.transition=null,xt=1,t)return t()}finally{xt=i,Ci.transition=n,lt=e,!(lt&6)&&uo()}}function dv(){ni=Ia.current,Pt(Ia)}function Bo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DN(n)),$t!==null)for(n=$t.return;n!==null;){var i=n;switch(W0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&kh();break;case 3:ml(),Pt(Gn),Pt(Mn),ev();break;case 5:J0(i);break;case 4:ml();break;case 13:Pt(Dt);break;case 19:Pt(Dt);break;case 10:Y0(i.type._context);break;case 22:case 23:dv()}n=n.return}if(cn=t,$t=t=Qr(t.current,null),fn=ni=e,en=0,cu=null,lv=Df=Xo=0,zn=kc=null,Lo!==null){for(e=0;e<Lo.length;e++)if(n=Lo[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Lo=null}return t}function QE(t,e){do{var n=$t;try{if(q0(),ih.current=Gh,Hh){for(var i=Ot.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Hh=!1}if(Wo=0,on=Qt=Ot=null,Lc=!1,ou=0,av.current=null,n===null||n.return===null){en=1,cu=e,$t=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=fn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Xb(o);if(p!==null){p.flags&=-257,$b(p,o,a,r,e),p.mode&1&&Wb(r,c,e),e=p,l=c;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){Wb(r,c,e),hv();break e}l=Error(le(426))}}else if(Rt&&a.mode&1){var g=Xb(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),$b(g,o,a,r,e),X0(gl(l,a));break e}}r=l=gl(l,a),en!==4&&(en=2),kc===null?kc=[r]:kc.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var m=kE(r,l,e);Ub(r,m);break e;case 1:a=l;var y=r.type,b=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Kr===null||!Kr.has(b)))){r.flags|=65536,e&=-e,r.lanes|=e;var _=OE(r,a,e);Ub(r,_);break e}}r=r.return}while(r!==null)}tM(n)}catch(w){e=w,$t===n&&n!==null&&($t=n=n.return);continue}break}while(!0)}function JE(){var t=Wh.current;return Wh.current=Gh,t===null?Gh:t}function hv(){(en===0||en===3||en===2)&&(en=4),cn===null||!(Xo&268435455)&&!(Df&268435455)||Lr(cn,fn)}function qh(t,e){var n=lt;lt|=2;var i=JE();(cn!==t||fn!==e)&&(Xs=null,Bo(t,e));do try{rI();break}catch(s){QE(t,s)}while(!0);if(q0(),lt=n,Wh.current=i,$t!==null)throw Error(le(261));return cn=null,fn=0,en}function rI(){for(;$t!==null;)eM($t)}function oI(){for(;$t!==null&&!NR();)eM($t)}function eM(t){var e=iM(t.alternate,t,ni);t.memoizedProps=t.pendingProps,e===null?tM(t):$t=e,av.current=null}function tM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JN(n,e),n!==null){n.flags&=32767,$t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,$t=null;return}}else if(n=QN(n,e,ni),n!==null){$t=n;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);en===0&&(en=5)}function Mo(t,e,n){var i=xt,s=Ci.transition;try{Ci.transition=null,xt=1,aI(t,e,n,i)}finally{Ci.transition=s,xt=i}return null}function aI(t,e,n,i){do $a();while(zr!==null);if(lt&6)throw Error(le(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(zR(t,r),t===cn&&($t=cn=null,fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,sM(Ph,function(){return $a(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Ci.transition,Ci.transition=null;var o=xt;xt=1;var a=lt;lt|=4,av.current=null,tI(t,n),YE(n,t),AN(Rg),Nh=!!Pg,Rg=Pg=null,t.current=n,nI(n),IR(),lt=a,xt=o,Ci.transition=r}else t.current=n;if(ud&&(ud=!1,zr=t,$h=s),r=t.pendingLanes,r===0&&(Kr=null),kR(n.stateNode),Xn(t,Wt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Xh)throw Xh=!1,t=Kg,Kg=null,t;return $h&1&&t.tag!==0&&$a(),r=t.pendingLanes,r&1?t===Zg?Oc++:(Oc=0,Zg=t):Oc=0,uo(),null}function $a(){if(zr!==null){var t=kT($h),e=Ci.transition,n=xt;try{if(Ci.transition=null,xt=16>t?16:t,zr===null)var i=!1;else{if(t=zr,zr=null,$h=0,lt&6)throw Error(le(331));var s=lt;for(lt|=4,Se=t.current;Se!==null;){var r=Se,o=r.child;if(Se.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Se=c;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:Dc(8,d,r)}var h=d.child;if(h!==null)h.return=d,Se=h;else for(;Se!==null;){d=Se;var f=d.sibling,p=d.return;if(XE(d),d===c){Se=null;break}if(f!==null){f.return=p,Se=f;break}Se=p}}}var x=r.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Se=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,Se=o;else e:for(;Se!==null;){if(r=Se,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Dc(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,Se=m;break e}Se=r.return}}var y=t.current;for(Se=y;Se!==null;){o=Se;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Se=b;else e:for(o=y;Se!==null;){if(a=Se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lf(9,a)}}catch(w){zt(a,a.return,w)}if(a===o){Se=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Se=_;break e}Se=a.return}}if(lt=s,uo(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(Ef,t)}catch{}i=!0}return i}finally{xt=n,Ci.transition=e}}return!1}function o_(t,e,n){e=gl(n,e),e=kE(t,e,1),t=Yr(t,e,1),e=Ln(),t!==null&&(Iu(t,1,e),Xn(t,e))}function zt(t,e,n){if(t.tag===3)o_(t,t,n);else for(;e!==null;){if(e.tag===3){o_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Kr===null||!Kr.has(i))){t=gl(n,t),t=OE(e,t,1),e=Yr(e,t,1),t=Ln(),e!==null&&(Iu(e,1,t),Xn(e,t));break}}e=e.return}}function lI(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(fn&n)===n&&(en===4||en===3&&(fn&130023424)===fn&&500>Wt()-cv?Bo(t,0):lv|=n),Xn(t,e)}function nM(t,e){e===0&&(t.mode&1?(e=ed,ed<<=1,!(ed&130023424)&&(ed=4194304)):e=1);var n=Ln();t=cr(t,e),t!==null&&(Iu(t,e,n),Xn(t,n))}function cI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nM(t,n)}function uI(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(le(314))}i!==null&&i.delete(e),nM(t,n)}var iM;iM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,ZN(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,Rt&&e.flags&1048576&&aE(e,Fh,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;rh(t,e),t=e.pendingProps;var s=hl(e,Mn.current);Xa(e,n),s=nv(null,e,i,t,s,n);var r=iv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wn(i)?(r=!0,Oh(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Z0(e),s.updater=If,e.stateNode=s,s._reactInternals=e,Ug(e,i,t,n),e=Vg(null,e,i,!0,r,n)):(e.tag=0,Rt&&r&&G0(e),Nn(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(rh(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=hI(i),t=Fi(i,t),s){case 0:e=zg(null,e,i,t,n);break e;case 1:e=Kb(null,e,i,t,n);break e;case 11:e=qb(null,e,i,t,n);break e;case 14:e=Yb(null,e,i,Fi(i.type,t),n);break e}throw Error(le(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Fi(i,s),zg(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Fi(i,s),Kb(t,e,i,s,n);case 3:e:{if(BE(e),t===null)throw Error(le(387));i=e.pendingProps,r=e.memoizedState,s=r.element,fE(t,e),zh(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=gl(Error(le(423)),e),e=Zb(t,e,i,n,s);break e}else if(i!==s){s=gl(Error(le(424)),e),e=Zb(t,e,i,n,s);break e}else for(ri=qr(e.stateNode.containerInfo.firstChild),oi=e,Rt=!0,Vi=null,n=dE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fl(),i===s){e=ur(t,e,n);break e}Nn(t,e,i,n)}e=e.child}return e;case 5:return pE(e),t===null&&Og(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,Ng(i,s)?o=null:r!==null&&Ng(i,r)&&(e.flags|=32),UE(t,e),Nn(t,e,o,n),e.child;case 6:return t===null&&Og(e),null;case 13:return zE(t,e,n);case 4:return Q0(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=pl(e,null,i,n):Nn(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Fi(i,s),qb(t,e,i,s,n);case 7:return Nn(t,e,e.pendingProps,n),e.child;case 8:return Nn(t,e,e.pendingProps.children,n),e.child;case 12:return Nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Et(Uh,i._currentValue),i._currentValue=o,r!==null)if(Ji(r.value,o)){if(r.children===s.children&&!Gn.current){e=ur(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=tr(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),jg(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(le(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jg(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Xa(e,n),s=Pi(s),i=i(s),e.flags|=1,Nn(t,e,i,n),e.child;case 14:return i=e.type,s=Fi(i,e.pendingProps),s=Fi(i.type,s),Yb(t,e,i,s,n);case 15:return jE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Fi(i,s),rh(t,e),e.tag=1,Wn(i)?(t=!0,Oh(e)):t=!1,Xa(e,n),DE(e,i,s),Ug(e,i,s,n),Vg(null,e,i,!0,t,n);case 19:return VE(t,e,n);case 22:return FE(t,e,n)}throw Error(le(156,e.tag))};function sM(t,e){return NT(t,e)}function dI(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(t,e,n,i){return new dI(t,e,n,i)}function fv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hI(t){if(typeof t=="function")return fv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I0)return 11;if(t===L0)return 14}return 2}function Qr(t,e){var n=t.alternate;return n===null?(n=Mi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lh(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")fv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wa:return zo(n.children,s,r,e);case N0:o=8,s|=8;break;case cg:return t=Mi(12,n,e,s|2),t.elementType=cg,t.lanes=r,t;case ug:return t=Mi(13,n,e,s),t.elementType=ug,t.lanes=r,t;case dg:return t=Mi(19,n,e,s),t.elementType=dg,t.lanes=r,t;case pT:return kf(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hT:o=10;break e;case fT:o=9;break e;case I0:o=11;break e;case L0:o=14;break e;case Rr:o=16,i=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Mi(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function zo(t,e,n,i){return t=Mi(7,t,i,e),t.lanes=n,t}function kf(t,e,n,i){return t=Mi(22,t,i,e),t.elementType=pT,t.lanes=n,t.stateNode={isHidden:!1},t}function jp(t,e,n){return t=Mi(6,t,null,e),t.lanes=n,t}function Fp(t,e,n){return e=Mi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fI(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pv(t,e,n,i,s,r,o,a,l){return t=new fI(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Mi(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z0(r),t}function pI(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function rM(t){if(!t)return io;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(Wn(n))return rE(t,n,e)}return e}function oM(t,e,n,i,s,r,o,a,l){return t=pv(n,i,!0,t,s,r,o,a,l),t.context=rM(null),n=t.current,i=Ln(),s=Zr(n),r=tr(i,s),r.callback=e??null,Yr(n,r,s),t.current.lanes=s,Iu(t,s,i),Xn(t,i),t}function Of(t,e,n,i){var s=e.current,r=Ln(),o=Zr(s);return n=rM(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Yr(s,e,o),t!==null&&(qi(t,s,o,r),nh(t,s,o)),o}function Yh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mv(t,e){a_(t,e),(t=t.alternate)&&a_(t,e)}function mI(){return null}var aM=typeof reportError=="function"?reportError:function(t){console.error(t)};function gv(t){this._internalRoot=t}jf.prototype.render=gv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Of(t,e,null,null)};jf.prototype.unmount=gv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){Of(null,t,null,null)}),e[lr]=null}};function jf(t){this._internalRoot=t}jf.prototype.unstable_scheduleHydration=function(t){if(t){var e=FT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&BT(t)}};function xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l_(){}function gI(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=Yh(o);r.call(c)}}var o=oM(e,i,t,0,null,!1,!1,"",l_);return t._reactRootContainer=o,t[lr]=o.current,tu(t.nodeType===8?t.parentNode:t),$o(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=Yh(l);a.call(c)}}var l=pv(t,0,!1,null,null,!1,!1,"",l_);return t._reactRootContainer=l,t[lr]=l.current,tu(t.nodeType===8?t.parentNode:t),$o(function(){Of(e,l,n,i)}),l}function Uf(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=Yh(o);a.call(l)}}Of(e,o,t,s)}else o=gI(n,e,t,s,i);return Yh(o)}OT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wc(e.pendingLanes);n!==0&&(O0(e,n|1),Xn(e,Wt()),!(lt&6)&&(xl=Wt()+500,uo()))}break;case 13:$o(function(){var i=cr(t,1);if(i!==null){var s=Ln();qi(i,t,1,s)}}),mv(t,1)}};j0=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var n=Ln();qi(e,t,134217728,n)}mv(t,134217728)}};jT=function(t){if(t.tag===13){var e=Zr(t),n=cr(t,e);if(n!==null){var i=Ln();qi(n,t,e,i)}mv(t,e)}};FT=function(){return xt};UT=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};_g=function(t,e,n){switch(e){case"input":if(pg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Pf(i);if(!s)throw Error(le(90));gT(i),pg(i,s)}}}break;case"textarea":vT(t,n);break;case"select":e=n.value,e!=null&&Va(t,!!n.multiple,e,!1)}};ET=uv;MT=$o;var xI={usingClientEntryPoint:!1,Events:[Du,Ma,Pf,ST,TT,uv]},rc={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vI={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PT(t),t===null?null:t.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||mI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{Ef=dd.inject(vI),ys=dd}catch{}}di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xI;di.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xv(e))throw Error(le(200));return pI(t,e,null,n)};di.createRoot=function(t,e){if(!xv(t))throw Error(le(299));var n=!1,i="",s=aM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pv(t,1,!1,null,null,n,!1,i,s),t[lr]=e.current,tu(t.nodeType===8?t.parentNode:t),new gv(e)};di.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=PT(e),t=t===null?null:t.stateNode,t};di.flushSync=function(t){return $o(t)};di.hydrate=function(t,e,n){if(!Ff(e))throw Error(le(200));return Uf(null,t,e,!0,n)};di.hydrateRoot=function(t,e,n){if(!xv(t))throw Error(le(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=aM;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oM(e,null,t,1,n??null,s,!1,r,o),t[lr]=e.current,tu(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jf(e)};di.render=function(t,e,n){if(!Ff(e))throw Error(le(200));return Uf(null,t,e,!1,n)};di.unmountComponentAtNode=function(t){if(!Ff(t))throw Error(le(40));return t._reactRootContainer?($o(function(){Uf(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};di.unstable_batchedUpdates=uv;di.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ff(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Uf(t,e,n,!1,i)};di.version="18.3.1-next-f1338f8080-20240426";function lM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lM)}catch(t){console.error(t)}}lM(),lT.exports=di;var Fl=lT.exports;const yI=K1(Fl);var cM,c_=Fl;cM=c_.createRoot,c_.hydrateRoot;function bI(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,i,s,r,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(i=s.indexOf("?",1),r=s.indexOf(".",1),o.push(s.substring(1,~i?i:~r?r:s.length)),a+=~i&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(a+=(~i?"?":"")+"\\"+s.substring(r))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var uM={exports:{}},dM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=M;function _I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wI=typeof Object.is=="function"?Object.is:_I,SI=vl.useState,TI=vl.useEffect,EI=vl.useLayoutEffect,MI=vl.useDebugValue;function AI(t,e){var n=e(),i=SI({inst:{value:n,getSnapshot:e}}),s=i[0].inst,r=i[1];return EI(function(){s.value=n,s.getSnapshot=e,Up(s)&&r({inst:s})},[t,n,e]),TI(function(){return Up(s)&&r({inst:s}),t(function(){Up(s)&&r({inst:s})})},[t]),MI(n),n}function Up(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wI(t,n)}catch{return!0}}function CI(t,e){return e()}var PI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CI:AI;dM.useSyncExternalStore=vl.useSyncExternalStore!==void 0?vl.useSyncExternalStore:PI;uM.exports=dM;var RI=uM.exports;const NI=lR.useInsertionEffect,II=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LI=II?M.useLayoutEffect:M.useEffect,DI=NI||LI,hM=t=>{const e=M.useRef([t,(...n)=>e[0](...n)]).current;return DI(()=>{e[0]=t}),e[1]},kI="popstate",vv="pushState",yv="replaceState",OI="hashchange",u_=[kI,vv,yv,OI],jI=t=>{for(const e of u_)addEventListener(e,t);return()=>{for(const e of u_)removeEventListener(e,t)}},fM=(t,e)=>RI.useSyncExternalStore(jI,t,e),FI=()=>location.search,UI=({ssrSearch:t=""}={})=>fM(FI,()=>t),d_=()=>location.pathname,BI=({ssrPath:t}={})=>fM(d_,t?()=>t:d_),zI=(t,{replace:e=!1,state:n=null}={})=>history[e?yv:vv](n,"",t),VI=(t={})=>[BI(t),zI],h_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[h_]>"u"){for(const t of[vv,yv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),i=new Event(t);return i.arguments=arguments,dispatchEvent(i),n}}Object.defineProperty(window,h_,{value:!0})}const HI=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",pM=(t="")=>t==="/"?"":t,GI=(t,e)=>t[0]==="~"?t.slice(1):pM(e)+t,WI=(t="",e)=>HI(f_(pM(t)),f_(e)),f_=t=>{try{return decodeURI(t)}catch{return t}},mM={hook:VI,searchHook:UI,parser:bI,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},gM=M.createContext(mM),Ul=()=>M.useContext(gM),xM={},vM=M.createContext(xM),XI=()=>M.useContext(vM),Bf=t=>{const[e,n]=t.hook(t);return[WI(t.base,e),hM((i,s)=>n(GI(i,t.base),s))]},ta=()=>Bf(Ul()),bv=(t,e,n,i)=>{const{pattern:s,keys:r}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",i),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=r!==!1?Object.fromEntries(r.map((h,f)=>[h,l[f]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...i?[a]:[]]:[!1,null]},$I=t=>bv(Ul().parser,t,ta()[0]),qI=({children:t,...e})=>{var d,h;const n=Ul(),i=e.hook?mM:n;let s=i;const[r,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=r),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=M.useRef({}),l=a.current,c=l;for(let f in i){const p=f==="base"?i[f]+(e[f]||""):e[f]||i[f];l===c&&p!==c[f]&&(a.current=c={...c}),c[f]=p,p!==i[f]&&(s=c)}return M.createElement(gM.Provider,{value:s,children:t})},p_=({children:t,component:e},n)=>e?M.createElement(e,{params:n}):typeof t=="function"?t(n):t,YI=t=>{let e=M.useRef(xM),n=e.current;for(const i in t)t[i]!==n[i]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},qt=({path:t,nest:e,match:n,...i})=>{const s=Ul(),[r]=Bf(s),[o,a,l]=n??bv(s.parser,t,r,e),c=YI({...XI(),...a});if(!o)return null;const d=l?M.createElement(qI,{base:l},p_(i,c)):p_(i,c);return M.createElement(vM.Provider,{value:c,children:d})},Hi=M.forwardRef((t,e)=>{const n=Ul(),[i,s]=Bf(n),{to:r="",href:o=r,onClick:a,asChild:l,children:c,className:d,replace:h,state:f,...p}=t,x=hM(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(a==null||a(g),g.defaultPrevented||(g.preventDefault(),s(o,t)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&M.isValidElement(c)?M.cloneElement(c,{onClick:x,href:v}):M.createElement("a",{...p,onClick:x,href:v,className:d!=null&&d.call?d(i===o):d,children:c,ref:e})}),yM=t=>Array.isArray(t)?t.flatMap(e=>yM(e&&e.type===M.Fragment?e.props.children:e)):[t],KI=({children:t,location:e})=>{const n=Ul(),[i]=Bf(n);for(const s of yM(t)){let r=0;if(M.isValidElement(s)&&(r=bv(n.parser,s.props.path,e||i,s.props.nest))[0])return M.cloneElement(s,{match:r})}return null};var zf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vf=typeof window>"u"||"Deno"in globalThis;function Ui(){}function ZI(t,e){return typeof t=="function"?t(e):t}function QI(t){return typeof t=="number"&&t>=0&&t!==1/0}function JI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function m_(t,e){return typeof t=="function"?t(e):t}function eL(t,e){return typeof t=="function"?t(e):t}function g_(t,e){const{type:n="all",exact:i,fetchStatus:s,predicate:r,queryKey:o,stale:a}=t;if(o){if(i){if(e.queryHash!==_v(o,e.options))return!1}else if(!du(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||r&&!r(e))}function x_(t,e){const{exact:n,status:i,predicate:s,mutationKey:r}=t;if(r){if(!e.options.mutationKey)return!1;if(n){if(uu(e.options.mutationKey)!==uu(r))return!1}else if(!du(e.options.mutationKey,r))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function _v(t,e){return((e==null?void 0:e.queryKeyHashFn)||uu)(t)}function uu(t){return JSON.stringify(t,(e,n)=>ex(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function du(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!du(t[n],e[n])):!1}function bM(t,e){if(t===e)return t;const n=v_(t)&&v_(e);if(n||ex(t)&&ex(e)){const i=n?t:Object.keys(t),s=i.length,r=n?e:Object.keys(e),o=r.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:r[c];(!n&&i.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=bM(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function v_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ex(t){if(!y_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!y_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function y_(t){return Object.prototype.toString.call(t)==="[object Object]"}function tL(t){return new Promise(e=>{setTimeout(e,t)})}function nL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bM(t,e):e}function iL(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function sL(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var wv=Symbol();function _M(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oo,kr,nl,V1,rL=(V1=class extends zf{constructor(){super();pt(this,Oo);pt(this,kr);pt(this,nl);Qe(this,nl,e=>{if(!Vf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,kr)||this.setEventListener(ne(this,nl))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,kr))==null||e.call(this),Qe(this,kr,void 0))}setEventListener(e){var n;Qe(this,nl,e),(n=ne(this,kr))==null||n.call(this),Qe(this,kr,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){ne(this,Oo)!==e&&(Qe(this,Oo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ne(this,Oo)=="boolean"?ne(this,Oo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oo=new WeakMap,kr=new WeakMap,nl=new WeakMap,V1),wM=new rL,il,Or,sl,H1,oL=(H1=class extends zf{constructor(){super();pt(this,il,!0);pt(this,Or);pt(this,sl);Qe(this,sl,e=>{if(!Vf&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){ne(this,Or)||this.setEventListener(ne(this,sl))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Or))==null||e.call(this),Qe(this,Or,void 0))}setEventListener(e){var n;Qe(this,sl,e),(n=ne(this,Or))==null||n.call(this),Qe(this,Or,e(this.setOnline.bind(this)))}setOnline(e){ne(this,il)!==e&&(Qe(this,il,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return ne(this,il)}},il=new WeakMap,Or=new WeakMap,sl=new WeakMap,H1),Kh=new oL;function aL(){let t,e;const n=new Promise((s,r)=>{t=s,e=r});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),t(s)},n.reject=s=>{i({status:"rejected",reason:s}),e(s)},n}function lL(t){return Math.min(1e3*2**t,3e4)}function SM(t){return(t??"online")==="online"?Kh.isOnline():!0}var TM=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bp(t){return t instanceof TM}function EM(t){let e=!1,n=0,i=!1,s;const r=aL(),o=v=>{var g;i||(f(new TM(v)),(g=t.abort)==null||g.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>wM.isFocused()&&(t.networkMode==="always"||Kh.isOnline())&&t.canRun(),d=()=>SM(t.networkMode)&&t.canRun(),h=v=>{var g;i||(i=!0,(g=t.onSuccess)==null||g.call(t,v),s==null||s(),r.resolve(v))},f=v=>{var g;i||(i=!0,(g=t.onError)==null||g.call(t,v),s==null||s(),r.reject(v))},p=()=>new Promise(v=>{var g;s=m=>{(i||c())&&v(m)},(g=t.onPause)==null||g.call(t)}).then(()=>{var v;s=void 0,i||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(i)return;let v;const g=n===0?t.initialPromise:void 0;try{v=g??t.fn()}catch(m){v=Promise.reject(m)}Promise.resolve(v).then(h).catch(m=>{var T;if(i)return;const y=t.retry??(Vf?0:3),b=t.retryDelay??lL,_=typeof b=="function"?b(n,m):b,w=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,m);if(e||!w){f(m);return}n++,(T=t.onFail)==null||T.call(t,n,m),tL(_).then(()=>c()?void 0:p()).then(()=>{e?f(m):x()})})};return{promise:r,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():p().then(x),r)}}function cL(){let t=[],e=0,n=a=>{a()},i=a=>{a()},s=a=>setTimeout(a,0);const r=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{i(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{r(()=>{a(...l)})},schedule:r,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{s=a}}}var In=cL(),jo,G1,MM=(G1=class{constructor(){pt(this,jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QI(this.gcTime)&&Qe(this,jo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vf?1/0:5*60*1e3))}clearGcTimeout(){ne(this,jo)&&(clearTimeout(ne(this,jo)),Qe(this,jo,void 0))}},jo=new WeakMap,G1),rl,ol,Si,bn,Pu,Fo,Bi,Hs,W1,uL=(W1=class extends MM{constructor(e){super();pt(this,Bi);pt(this,rl);pt(this,ol);pt(this,Si);pt(this,bn);pt(this,Pu);pt(this,Fo);Qe(this,Fo,!1),Qe(this,Pu,e.defaultOptions),this.setOptions(e.options),this.observers=[],Qe(this,Si,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Qe(this,rl,hL(this.options)),this.state=e.state??ne(this,rl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ne(this,bn))==null?void 0:e.promise}setOptions(e){this.options={...ne(this,Pu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,Si).remove(this)}setData(e,n){const i=nL(this.state.data,e,this.options);return mn(this,Bi,Hs).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){mn(this,Bi,Hs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,s;const n=(i=ne(this,bn))==null?void 0:i.promise;return(s=ne(this,bn))==null||s.cancel(e),n?n.then(Ui).catch(Ui):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,rl))}isActive(){return this.observers.some(e=>eL(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!JI(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,bn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,bn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ne(this,Si).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ne(this,bn)&&(ne(this,Fo)?ne(this,bn).cancel({revert:!0}):ne(this,bn).cancelRetry()),this.scheduleGc()),ne(this,Si).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mn(this,Bi,Hs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ne(this,bn))return ne(this,bn).continueRetry(),ne(this,bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Qe(this,Fo,!0),i.signal)})},r=()=>{const h=_M(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),Qe(this,Fo,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:r};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),Qe(this,ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&mn(this,Bi,Hs).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,p,x,v;Bp(h)&&h.silent||mn(this,Bi,Hs).call(this,{type:"error",error:h}),Bp(h)||((p=(f=ne(this,Si).config).onError)==null||p.call(f,h,this),(v=(x=ne(this,Si).config).onSettled)==null||v.call(x,this.state.data,h,this)),this.scheduleGc()};return Qe(this,bn,EM({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var f,p,x,v;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(g){a(g);return}(p=(f=ne(this,Si).config).onSuccess)==null||p.call(f,h,this),(v=(x=ne(this,Si).config).onSettled)==null||v.call(x,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{mn(this,Bi,Hs).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{mn(this,Bi,Hs).call(this,{type:"pause"})},onContinue:()=>{mn(this,Bi,Hs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ne(this,bn).start()}},rl=new WeakMap,ol=new WeakMap,Si=new WeakMap,bn=new WeakMap,Pu=new WeakMap,Fo=new WeakMap,Bi=new WeakSet,Hs=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...dL(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Bp(s)&&s.revert&&ne(this,ol)?{...ne(this,ol),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),In.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ne(this,Si).notify({query:this,type:"updated",action:e})})},W1);function dL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cs,X1,fL=(X1=class extends zf{constructor(e={}){super();pt(this,cs);this.config=e,Qe(this,cs,new Map)}build(e,n,i){const s=n.queryKey,r=n.queryHash??_v(s,n);let o=this.get(r);return o||(o=new uL({cache:this,queryKey:s,queryHash:r,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){ne(this,cs).has(e.queryHash)||(ne(this,cs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ne(this,cs).get(e.queryHash);n&&(e.destroy(),n===e&&ne(this,cs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,cs).get(e)}getAll(){return[...ne(this,cs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>g_(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>g_(e,i)):n}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){In.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},cs=new WeakMap,X1),us,Rn,Uo,ds,Ar,$1,pL=($1=class extends MM{constructor(e){super();pt(this,ds);pt(this,us);pt(this,Rn);pt(this,Uo);this.mutationId=e.mutationId,Qe(this,Rn,e.mutationCache),Qe(this,us,[]),this.state=e.state||mL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ne(this,us).includes(e)||(ne(this,us).push(e),this.clearGcTimeout(),ne(this,Rn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Qe(this,us,ne(this,us).filter(n=>n!==e)),this.scheduleGc(),ne(this,Rn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ne(this,us).length||(this.state.status==="pending"?this.scheduleGc():ne(this,Rn).remove(this))}continue(){var e;return((e=ne(this,Uo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,r,o,a,l,c,d,h,f,p,x,v,g,m,y,b,_,w,T,A;Qe(this,Uo,EM({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,C)=>{mn(this,ds,Ar).call(this,{type:"failed",failureCount:E,error:C})},onPause:()=>{mn(this,ds,Ar).call(this,{type:"pause"})},onContinue:()=>{mn(this,ds,Ar).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,Rn).canRun(this)}));const n=this.state.status==="pending",i=!ne(this,Uo).canStart();try{if(!n){mn(this,ds,Ar).call(this,{type:"pending",variables:e,isPaused:i}),await((r=(s=ne(this,Rn).config).onMutate)==null?void 0:r.call(s,e,this));const C=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));C!==this.state.context&&mn(this,ds,Ar).call(this,{type:"pending",context:C,variables:e,isPaused:i})}const E=await ne(this,Uo).start();return await((c=(l=ne(this,Rn).config).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,E,e,this.state.context)),await((p=(f=ne(this,Rn).config).onSettled)==null?void 0:p.call(f,E,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,E,null,e,this.state.context)),mn(this,ds,Ar).call(this,{type:"success",data:E}),E}catch(E){try{throw await((m=(g=ne(this,Rn).config).onError)==null?void 0:m.call(g,E,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,E,e,this.state.context)),await((w=(_=ne(this,Rn).config).onSettled)==null?void 0:w.call(_,void 0,E,this.state.variables,this.state.context,this)),await((A=(T=this.options).onSettled)==null?void 0:A.call(T,void 0,E,e,this.state.context)),E}finally{mn(this,ds,Ar).call(this,{type:"error",error:E})}}finally{ne(this,Rn).runNext(this)}}},us=new WeakMap,Rn=new WeakMap,Uo=new WeakMap,ds=new WeakSet,Ar=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),In.batch(()=>{ne(this,us).forEach(i=>{i.onMutationUpdate(e)}),ne(this,Rn).notify({mutation:this,type:"updated",action:e})})},$1);function mL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ti,Ru,q1,gL=(q1=class extends zf{constructor(e={}){super();pt(this,ti);pt(this,Ru);this.config=e,Qe(this,ti,new Map),Qe(this,Ru,Date.now())}build(e,n,i){const s=new pL({mutationCache:this,mutationId:++qu(this,Ru)._,options:e.defaultMutationOptions(n),state:i});return this.add(s),s}add(e){const n=hd(e),i=ne(this,ti).get(n)??[];i.push(e),ne(this,ti).set(n,i),this.notify({type:"added",mutation:e})}remove(e){var i;const n=hd(e);if(ne(this,ti).has(n)){const s=(i=ne(this,ti).get(n))==null?void 0:i.filter(r=>r!==e);s&&(s.length===0?ne(this,ti).delete(n):ne(this,ti).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var i;const n=(i=ne(this,ti).get(hd(e)))==null?void 0:i.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var i;const n=(i=ne(this,ti).get(hd(e)))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ne(this,ti).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(i=>x_(n,i))}findAll(e={}){return this.getAll().filter(n=>x_(e,n))}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return In.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ui))))}},ti=new WeakMap,Ru=new WeakMap,q1);function hd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function b_(t){return{onFetch:(e,n)=>{var d,h,f,p,x;const i=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,r=((p=e.state.data)==null?void 0:p.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},m=_M(e.options,e.fetchOptions),y=async(b,_,w)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const T={queryKey:e.queryKey,pageParam:_,direction:w?"backward":"forward",meta:e.options.meta};g(T);const A=await m(T),{maxPages:E}=e.options,C=w?sL:iL;return{pages:C(b.pages,A,E),pageParams:C(b.pageParams,_,E)}};if(s&&r.length){const b=s==="backward",_=b?xL:__,w={pages:r,pageParams:o},T=_(i,w);a=await y(w,T,b)}else{const b=t??r.length;do{const _=l===0?o[0]??i.initialPageParam:__(i,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var v,g;return(g=(v=e.options).persister)==null?void 0:g.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function __(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function xL(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var Ut,jr,Fr,al,ll,Ur,cl,ul,Y1,vL=(Y1=class{constructor(t={}){pt(this,Ut);pt(this,jr);pt(this,Fr);pt(this,al);pt(this,ll);pt(this,Ur);pt(this,cl);pt(this,ul);Qe(this,Ut,t.queryCache||new fL),Qe(this,jr,t.mutationCache||new gL),Qe(this,Fr,t.defaultOptions||{}),Qe(this,al,new Map),Qe(this,ll,new Map),Qe(this,Ur,0)}mount(){qu(this,Ur)._++,ne(this,Ur)===1&&(Qe(this,cl,wM.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,Ut).onFocus())})),Qe(this,ul,Kh.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,Ut).onOnline())})))}unmount(){var t,e;qu(this,Ur)._--,ne(this,Ur)===0&&((t=ne(this,cl))==null||t.call(this),Qe(this,cl,void 0),(e=ne(this,ul))==null||e.call(this),Qe(this,ul,void 0))}isFetching(t){return ne(this,Ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ne(this,jr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,Ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),i=ne(this,Ut).build(this,n);return t.revalidateIfStale&&i.isStaleByTime(m_(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ne(this,Ut).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=ne(this,Ut).get(i.queryHash),r=s==null?void 0:s.state.data,o=ZI(e,r);if(o!==void 0)return ne(this,Ut).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>ne(this,Ut).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,Ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ne(this,Ut);In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ne(this,Ut),i={type:"active",...t};return In.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(i,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},i=In.batch(()=>ne(this,Ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(i).then(Ui).catch(Ui)}invalidateQueries(t={},e={}){return In.batch(()=>{if(ne(this,Ut).findAll(t).forEach(i=>{i.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=In.batch(()=>ne(this,Ut).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let r=s.fetch(void 0,n);return n.throwOnError||(r=r.catch(Ui)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(Ui)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ne(this,Ut).build(this,e);return n.isStaleByTime(m_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ui).catch(Ui)}fetchInfiniteQuery(t){return t.behavior=b_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ui).catch(Ui)}ensureInfiniteQueryData(t){return t.behavior=b_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kh.isOnline()?ne(this,jr).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,Ut)}getMutationCache(){return ne(this,jr)}getDefaultOptions(){return ne(this,Fr)}setDefaultOptions(t){Qe(this,Fr,t)}setQueryDefaults(t,e){ne(this,al).set(uu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ne(this,al).values()];let n={};return e.forEach(i=>{du(t,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(t,e){ne(this,ll).set(uu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ne(this,ll).values()];let n={};return e.forEach(i=>{du(t,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ne(this,Fr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_v(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===wv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ne(this,Fr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ne(this,Ut).clear(),ne(this,jr).clear()}},Ut=new WeakMap,jr=new WeakMap,Fr=new WeakMap,al=new WeakMap,ll=new WeakMap,Ur=new WeakMap,cl=new WeakMap,ul=new WeakMap,Y1),yL=M.createContext(void 0),bL=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(yL.Provider,{value:t,children:e}));async function AM(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function _L(t,e,n){const i=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await AM(i),i}const wL=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await AM(n),await n.json())},SL=new vL({defaultOptions:{queries:{queryFn:wL({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),TL=1,EL=1e6;let zp=0;function ML(){return zp=(zp+1)%Number.MAX_SAFE_INTEGER,zp.toString()}const Vp=new Map,w_=t=>{if(Vp.has(t))return;const e=setTimeout(()=>{Vp.delete(t),jc({type:"REMOVE_TOAST",toastId:t})},EL);Vp.set(t,e)},AL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,TL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?w_(n):t.toasts.forEach(i=>{w_(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ch=[];let uh={toasts:[]};function jc(t){uh=AL(uh,t),ch.forEach(e=>{e(uh)})}function CL({...t}){const e=ML(),n=s=>jc({type:"UPDATE_TOAST",toast:{...s,id:e}}),i=()=>jc({type:"DISMISS_TOAST",toastId:e});return jc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||i()}}}),{id:e,dismiss:i,update:n}}function Sv(){const[t,e]=M.useState(uh);return M.useEffect(()=>(ch.push(e),()=>{const n=ch.indexOf(e);n>-1&&ch.splice(n,1)}),[t]),{...t,toast:CL,dismiss:n=>jc({type:"DISMISS_TOAST",toastId:n})}}function Jt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function S_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CM(...t){return e=>{let n=!1;const i=t.map(s=>{const r=S_(s,e);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():S_(t[s],null)}}}}function es(...t){return M.useCallback(CM(...t),t)}function Hf(t,e=[]){let n=[];function i(r,o){const a=M.createContext(o),l=n.length;n=[...n,o];const c=h=>{var m;const{scope:f,children:p,...x}=h,v=((m=f==null?void 0:f[t])==null?void 0:m[l])||a,g=M.useMemo(()=>x,Object.values(x));return u.jsx(v.Provider,{value:g,children:p})};c.displayName=r+"Provider";function d(h,f){var v;const p=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,x=M.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${r}\``)}return[c,d]}const s=()=>{const r=n.map(o=>M.createContext(o));return function(a){const l=(a==null?void 0:a[t])||r;return M.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[i,PL(s,...e)]}function PL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const h=l(r)[`__scope${c}`];return{...a,...h}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Zh(t){const e=NL(t),n=M.forwardRef((i,s)=>{const{children:r,...o}=i,a=M.Children.toArray(r),l=a.find(LL);if(l){const c=l.props.children,d=a.map(h=>h===l?M.Children.count(c)>1?M.Children.only(null):M.isValidElement(c)?c.props.children:null:h);return u.jsx(e,{...o,ref:s,children:M.isValidElement(c)?M.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:r})});return n.displayName=`${t}.Slot`,n}var RL=Zh("Slot");function NL(t){const e=M.forwardRef((n,i)=>{const{children:s,...r}=n;if(M.isValidElement(s)){const o=kL(s),a=DL(r,s.props);return s.type!==M.Fragment&&(a.ref=i?CM(i,o):o),M.cloneElement(s,a)}return M.Children.count(s)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PM=Symbol("radix.slottable");function IL(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=PM,e}function LL(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PM}function DL(t,e){const n={...e};for(const i in e){const s=t[i],r=e[i];/^on[A-Z]/.test(i)?s&&r?n[i]=(...a)=>{r(...a),s(...a)}:s&&(n[i]=s):i==="style"?n[i]={...s,...r}:i==="className"&&(n[i]=[s,r].filter(Boolean).join(" "))}return{...t,...n}}function kL(t){var i,s;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function OL(t){const e=t+"CollectionProvider",[n,i]=Hf(e),[s,r]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:g,children:m}=v,y=wt.useRef(null),b=wt.useRef(new Map).current;return u.jsx(s,{scope:g,itemMap:b,collectionRef:y,children:m})};o.displayName=e;const a=t+"CollectionSlot",l=Zh(a),c=wt.forwardRef((v,g)=>{const{scope:m,children:y}=v,b=r(a,m),_=es(g,b.collectionRef);return u.jsx(l,{ref:_,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Zh(d),p=wt.forwardRef((v,g)=>{const{scope:m,children:y,...b}=v,_=wt.useRef(null),w=es(g,_),T=r(d,m);return wt.useEffect(()=>(T.itemMap.set(_,{ref:_,...b}),()=>void T.itemMap.delete(_))),u.jsx(f,{[h]:"",ref:w,children:y})});p.displayName=d;function x(v){const g=r(t+"CollectionConsumer",v);return wt.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((T,A)=>b.indexOf(T.ref.current)-b.indexOf(A.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},x,i]}var jL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qn=jL.reduce((t,e)=>{const n=Zh(`Primitive.${e}`),i=M.forwardRef((s,r)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:r})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function RM(t,e){t&&Fl.flushSync(()=>t.dispatchEvent(e))}function Ms(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function FL(t,e=globalThis==null?void 0:globalThis.document){const n=Ms(t);M.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var UL="DismissableLayer",tx="dismissableLayer.update",BL="dismissableLayer.pointerDownOutside",zL="dismissableLayer.focusOutside",T_,NM=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tv=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:o,onDismiss:a,...l}=t,c=M.useContext(NM),[d,h]=M.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=M.useState({}),x=es(e,A=>h(A)),v=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=v.indexOf(g),y=d?v.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=y>=m,w=HL(A=>{const E=A.target,C=[...c.branches].some(S=>S.contains(E));!_||C||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},f),T=GL(A=>{const E=A.target;[...c.branches].some(S=>S.contains(E))||(r==null||r(A),o==null||o(A),A.defaultPrevented||a==null||a())},f);return FL(A=>{y===c.layers.size-1&&(i==null||i(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},f),M.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(T_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),E_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=T_)}},[d,f,n,c]),M.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),E_())},[d,c]),M.useEffect(()=>{const A=()=>p({});return document.addEventListener(tx,A),()=>document.removeEventListener(tx,A)},[]),u.jsx(qn.div,{...l,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:Jt(t.onFocusCapture,T.onFocusCapture),onBlurCapture:Jt(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Jt(t.onPointerDownCapture,w.onPointerDownCapture)})});Tv.displayName=UL;var VL="DismissableLayerBranch",IM=M.forwardRef((t,e)=>{const n=M.useContext(NM),i=M.useRef(null),s=es(e,i);return M.useEffect(()=>{const r=i.current;if(r)return n.branches.add(r),()=>{n.branches.delete(r)}},[n.branches]),u.jsx(qn.div,{...t,ref:s})});IM.displayName=VL;function HL(t,e=globalThis==null?void 0:globalThis.document){const n=Ms(t),i=M.useRef(!1),s=M.useRef(()=>{});return M.useEffect(()=>{const r=a=>{if(a.target&&!i.current){let l=function(){LM(BL,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",r),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function GL(t,e=globalThis==null?void 0:globalThis.document){const n=Ms(t),i=M.useRef(!1);return M.useEffect(()=>{const s=r=>{r.target&&!i.current&&LM(zL,n,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function E_(){const t=new CustomEvent(tx);document.dispatchEvent(t)}function LM(t,e,n,{discrete:i}){const s=n.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),i?RM(s,r):s.dispatchEvent(r)}var WL=Tv,XL=IM,qo=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},$L="Portal",DM=M.forwardRef((t,e)=>{var a;const{container:n,...i}=t,[s,r]=M.useState(!1);qo(()=>r(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?yI.createPortal(u.jsx(qn.div,{...i,ref:e}),o):null});DM.displayName=$L;function qL(t,e){return M.useReducer((n,i)=>e[n][i]??n,t)}var Ev=t=>{const{present:e,children:n}=t,i=YL(e),s=typeof n=="function"?n({present:i.isPresent}):M.Children.only(n),r=es(i.ref,KL(s));return typeof n=="function"||i.isPresent?M.cloneElement(s,{ref:r}):null};Ev.displayName="Presence";function YL(t){const[e,n]=M.useState(),i=M.useRef({}),s=M.useRef(t),r=M.useRef("none"),o=t?"mounted":"unmounted",[a,l]=qL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const c=fd(i.current);r.current=a==="mounted"?c:"none"},[a]),qo(()=>{const c=i.current,d=s.current;if(d!==t){const f=r.current,p=fd(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),qo(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=p=>{const v=fd(i.current).includes(p.animationName);if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},f=p=>{p.target===e&&(r.current=fd(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:M.useCallback(c=>{c&&(i.current=getComputedStyle(c)),n(c)},[])}}function fd(t){return(t==null?void 0:t.animationName)||"none"}function KL(t){var i,s;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ZL({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,s]=QL({defaultProp:e,onChange:n}),r=t!==void 0,o=r?t:i,a=Ms(n),l=M.useCallback(c=>{if(r){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[r,t,s,a]);return[o,l]}function QL({defaultProp:t,onChange:e}){const n=M.useState(t),[i]=n,s=M.useRef(i),r=Ms(e);return M.useEffect(()=>{s.current!==i&&(r(i),s.current=i)},[i,s,r]),n}var JL="VisuallyHidden",Gf=M.forwardRef((t,e)=>u.jsx(qn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Gf.displayName=JL;var eD=Gf,Mv="ToastProvider",[Av,tD,nD]=OL("Toast"),[kM,iX]=Hf("Toast",[nD]),[iD,Wf]=kM(Mv),OM=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:r=50,children:o}=t,[a,l]=M.useState(null),[c,d]=M.useState(0),h=M.useRef(!1),f=M.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mv}\`. Expected non-empty \`string\`.`),u.jsx(Av.Provider,{scope:e,children:u.jsx(iD,{scope:e,label:n,duration:i,swipeDirection:s,swipeThreshold:r,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:M.useCallback(()=>d(p=>p+1),[]),onToastRemove:M.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};OM.displayName=Mv;var jM="ToastViewport",sD=["F8"],nx="toast.viewportPause",ix="toast.viewportResume",FM=M.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=sD,label:s="Notifications ({hotkey})",...r}=t,o=Wf(jM,n),a=tD(n),l=M.useRef(null),c=M.useRef(null),d=M.useRef(null),h=M.useRef(null),f=es(e,h,o.onViewportChange),p=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;M.useEffect(()=>{const g=m=>{var b;i.length!==0&&i.every(_=>m[_]||m.code===_)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[i]),M.useEffect(()=>{const g=l.current,m=h.current;if(x&&g&&m){const y=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(nx);m.dispatchEvent(T),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(ix);m.dispatchEvent(T),o.isClosePausedRef.current=!1}},_=T=>{!g.contains(T.relatedTarget)&&b()},w=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",y),g.addEventListener("focusout",_),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",w),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const v=M.useCallback(({tabbingDirection:g})=>{const y=a().map(b=>{const _=b.ref.current,w=[_,...xD(_)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?y.reverse():y).flat()},[a]);return M.useEffect(()=>{const g=h.current;if(g){const m=y=>{var w,T,A;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const E=document.activeElement,C=y.shiftKey;if(y.target===g&&C){(w=c.current)==null||w.focus();return}const D=v({tabbingDirection:C?"backwards":"forwards"}),F=D.findIndex(O=>O===E);Hp(D.slice(F+1))?y.preventDefault():C?(T=c.current)==null||T.focus():(A=d.current)==null||A.focus()}};return g.addEventListener("keydown",m),()=>g.removeEventListener("keydown",m)}},[a,v]),u.jsxs(XL,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(sx,{ref:c,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"forwards"});Hp(g)}}),u.jsx(Av.Slot,{scope:n,children:u.jsx(qn.ol,{tabIndex:-1,...r,ref:f})}),x&&u.jsx(sx,{ref:d,onFocusFromOutsideViewport:()=>{const g=v({tabbingDirection:"backwards"});Hp(g)}})]})});FM.displayName=jM;var UM="ToastFocusProxy",sx=M.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...s}=t,r=Wf(UM,n);return u.jsx(Gf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=r.viewport)!=null&&c.contains(a))&&i()}})});sx.displayName=UM;var Xf="Toast",rD="toast.swipeStart",oD="toast.swipeMove",aD="toast.swipeCancel",lD="toast.swipeEnd",BM=M.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:s,onOpenChange:r,...o}=t,[a=!0,l]=ZL({prop:i,defaultProp:s,onChange:r});return u.jsx(Ev,{present:n||a,children:u.jsx(dD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ms(t.onPause),onResume:Ms(t.onResume),onSwipeStart:Jt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Jt(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Jt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Jt(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});BM.displayName=Xf;var[cD,uD]=kM(Xf,{onClose(){}}),dD=M.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:s,open:r,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...x}=t,v=Wf(Xf,n),[g,m]=M.useState(null),y=es(e,O=>m(O)),b=M.useRef(null),_=M.useRef(null),w=s||v.duration,T=M.useRef(0),A=M.useRef(w),E=M.useRef(0),{onToastAdd:C,onToastRemove:S}=v,R=Ms(()=>{var G;(g==null?void 0:g.contains(document.activeElement))&&((G=v.viewport)==null||G.focus()),o()}),D=M.useCallback(O=>{!O||O===1/0||(window.clearTimeout(E.current),T.current=new Date().getTime(),E.current=window.setTimeout(R,O))},[R]);M.useEffect(()=>{const O=v.viewport;if(O){const G=()=>{D(A.current),c==null||c()},H=()=>{const j=new Date().getTime()-T.current;A.current=A.current-j,window.clearTimeout(E.current),l==null||l()};return O.addEventListener(nx,H),O.addEventListener(ix,G),()=>{O.removeEventListener(nx,H),O.removeEventListener(ix,G)}}},[v.viewport,w,l,c,D]),M.useEffect(()=>{r&&!v.isClosePausedRef.current&&D(w)},[r,w,v.isClosePausedRef,D]),M.useEffect(()=>(C(),()=>S()),[C,S]);const F=M.useMemo(()=>g?$M(g):null,[g]);return v.viewport?u.jsxs(u.Fragment,{children:[F&&u.jsx(hD,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),u.jsx(cD,{scope:n,onClose:R,children:Fl.createPortal(u.jsx(Av.ItemSlot,{scope:n,children:u.jsx(WL,{asChild:!0,onEscapeKeyDown:Jt(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(qn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Jt(t.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Jt(t.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:Jt(t.onPointerMove,O=>{if(!b.current)return;const G=O.clientX-b.current.x,H=O.clientY-b.current.y,j=!!_.current,N=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,q=N?B(0,G):0,ee=N?0:B(0,H),xe=O.pointerType==="touch"?10:2,Be={x:q,y:ee},We={originalEvent:O,delta:Be};j?(_.current=Be,pd(oD,h,We,{discrete:!1})):M_(Be,v.swipeDirection,xe)?(_.current=Be,pd(rD,d,We,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(G)>xe||Math.abs(H)>xe)&&(b.current=null)}),onPointerUp:Jt(t.onPointerUp,O=>{const G=_.current,H=O.target;if(H.hasPointerCapture(O.pointerId)&&H.releasePointerCapture(O.pointerId),_.current=null,b.current=null,G){const j=O.currentTarget,N={originalEvent:O,delta:G};M_(G,v.swipeDirection,v.swipeThreshold)?pd(lD,p,N,{discrete:!0}):pd(aD,f,N,{discrete:!0}),j.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),hD=t=>{const{__scopeToast:e,children:n,...i}=t,s=Wf(Xf,e),[r,o]=M.useState(!1),[a,l]=M.useState(!1);return mD(()=>o(!0)),M.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(DM,{asChild:!0,children:u.jsx(Gf,{...i,children:r&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},fD="ToastTitle",zM=M.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return u.jsx(qn.div,{...i,ref:e})});zM.displayName=fD;var pD="ToastDescription",VM=M.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return u.jsx(qn.div,{...i,ref:e})});VM.displayName=pD;var HM="ToastAction",GM=M.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?u.jsx(XM,{altText:n,asChild:!0,children:u.jsx(Cv,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${HM}\`. Expected non-empty \`string\`.`),null)});GM.displayName=HM;var WM="ToastClose",Cv=M.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,s=uD(WM,n);return u.jsx(XM,{asChild:!0,children:u.jsx(qn.button,{type:"button",...i,ref:e,onClick:Jt(t.onClick,s.onClose)})})});Cv.displayName=WM;var XM=M.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...s}=t;return u.jsx(qn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:e})});function $M(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),gD(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",r=i.dataset.radixToastAnnounceExclude==="";if(!s)if(r){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$M(i))}}),e}function pd(t,e,n,{discrete:i}){const s=n.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),i?RM(s,r):s.dispatchEvent(r)}var M_=(t,e,n=0)=>{const i=Math.abs(t.x),s=Math.abs(t.y),r=i>s;return e==="left"||e==="right"?r&&i>n:!r&&s>n};function mD(t=()=>{}){const e=Ms(t);qo(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function gD(t){return t.nodeType===t.ELEMENT_NODE}function xD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var vD=OM,qM=FM,YM=BM,KM=zM,ZM=VM,QM=GM,JM=Cv;function eA(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=eA(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Pv(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=eA(t))&&(i&&(i+=" "),i+=e);return i}const A_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,C_=Pv,tA=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return C_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:r}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=r==null?void 0:r[c];if(d===null)return null;const f=A_(d)||A_(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(x=>{let[v,g]=x;return Array.isArray(g)?g.includes({...r,...a}[v]):{...r,...a}[v]===g})?[...c,h,f]:c},[]);return C_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nA=(...t)=>t.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...a},l)=>M.createElement("svg",{ref:l,...bD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:nA("lucide",s),...a},[...o.map(([c,d])=>M.createElement(c,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(t,e)=>{const n=M.forwardRef(({className:i,...s},r)=>M.createElement(_D,{ref:r,iconNode:e,className:nA(`lucide-${yD(t)}`,i),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Ht("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ht("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ht("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Ht("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ht("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ht("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Ht("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Ht("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Ht("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Ht("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Ht("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ht("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ht("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Ht("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Ht("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nv="-",OD=t=>{const e=FD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const a=o.split(Nv);return a[0]===""&&a.length!==1&&a.shift(),aA(a,e)||jD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},aA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),s=i?aA(t.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const r=t.join(Nv);return(o=e.validators.find(({validator:a})=>a(r)))==null?void 0:o.classGroupId},P_=/^\[(.+)\]$/,jD=t=>{if(P_.test(t)){const e=P_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FD=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return BD(Object.entries(t.classGroups),n).forEach(([r,o])=>{ox(o,i,r,e)}),i},ox=(t,e,n,i)=>{t.forEach(s=>{if(typeof s=="string"){const r=s===""?e:R_(e,s);r.classGroupId=n;return}if(typeof s=="function"){if(UD(s)){ox(s(i),e,n,i);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([r,o])=>{ox(o,R_(e,r),n,i)})})},R_=(t,e)=>{let n=t;return e.split(Nv).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},UD=t=>t.isThemeGetter,BD=(t,e)=>e?t.map(([n,i])=>{const s=i.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([o,a])=>[e+o,a])):r);return[n,s]}):t,zD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const s=(r,o)=>{n.set(r,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(r){let o=n.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return s(r,o),o},set(r,o){n.has(r)?n.set(r,o):s(r,o)}}},lA="!",VD=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,s=e[0],r=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let g=0;g<a.length;g++){let m=a[g];if(c===0){if(m===s&&(i||a.slice(g,g+r)===e)){l.push(a.slice(d,g)),d=g+r;continue}if(m==="/"){h=g;continue}}m==="["?c++:m==="]"&&c--}const f=l.length===0?a:a.substring(d),p=f.startsWith(lA),x=p?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},HD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},GD=t=>({cache:zD(t.cacheSize),parseClassName:VD(t),...OD(t)}),WD=/\s+/,XD=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s}=e,r=[],o=t.trim().split(WD);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let x=!!p,v=i(x?f.substring(0,p):f);if(!v){if(!x){a=c+(a.length>0?" "+a:a);continue}if(v=i(f),!v){a=c+(a.length>0?" "+a:a);continue}x=!1}const g=HD(d).join(":"),m=h?g+lA:g,y=m+v;if(r.includes(y))continue;r.push(y);const b=s(v,x);for(let _=0;_<b.length;++_){const w=b[_];r.push(m+w)}a=c+(a.length>0?" "+a:a)}return a};function $D(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=cA(e))&&(i&&(i+=" "),i+=n);return i}const cA=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=cA(t[i]))&&(n&&(n+=" "),n+=e);return n};function qD(t,...e){let n,i,s,r=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=GD(c),i=n.cache.get,s=n.cache.set,r=a,a(l)}function a(l){const c=i(l);if(c)return c;const d=XD(l,n);return s(l,d),d}return function(){return r($D.apply(null,arguments))}}const At=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},uA=/^\[(?:([a-z-]+):)?(.+)\]$/i,YD=/^\d+\/\d+$/,KD=new Set(["px","full","screen"]),ZD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,e3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ks=t=>qa(t)||KD.has(t)||YD.test(t),xr=t=>Bl(t,"length",c3),qa=t=>!!t&&!Number.isNaN(Number(t)),Xp=t=>Bl(t,"number",qa),oc=t=>!!t&&Number.isInteger(Number(t)),n3=t=>t.endsWith("%")&&qa(t.slice(0,-1)),Ye=t=>uA.test(t),vr=t=>ZD.test(t),i3=new Set(["length","size","percentage"]),s3=t=>Bl(t,i3,dA),r3=t=>Bl(t,"position",dA),o3=new Set(["image","url"]),a3=t=>Bl(t,o3,d3),l3=t=>Bl(t,"",u3),ac=()=>!0,Bl=(t,e,n)=>{const i=uA.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},c3=t=>QD.test(t)&&!JD.test(t),dA=()=>!1,u3=t=>e3.test(t),d3=t=>t3.test(t),h3=()=>{const t=At("colors"),e=At("spacing"),n=At("blur"),i=At("brightness"),s=At("borderColor"),r=At("borderRadius"),o=At("borderSpacing"),a=At("borderWidth"),l=At("contrast"),c=At("grayscale"),d=At("hueRotate"),h=At("invert"),f=At("gap"),p=At("gradientColorStops"),x=At("gradientColorStopPositions"),v=At("inset"),g=At("margin"),m=At("opacity"),y=At("padding"),b=At("saturate"),_=At("scale"),w=At("sepia"),T=At("skew"),A=At("space"),E=At("translate"),C=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ye,e],D=()=>[Ye,e],F=()=>["",ks,xr],O=()=>["auto",qa,Ye],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ye],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[qa,Ye];return{cacheSize:500,separator:":",theme:{colors:[ac],spacing:[ks,xr],blur:["none","",vr,Ye],brightness:ee(),borderColor:[t],borderRadius:["none","","full",vr,Ye],borderSpacing:D(),borderWidth:F(),contrast:ee(),grayscale:B(),hueRotate:ee(),invert:B(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[n3,xr],inset:R(),margin:R(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:B(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[vr]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ye]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oc,Ye]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",oc,Ye]}],"grid-cols":[{"grid-cols":[ac]}],"col-start-end":[{col:["auto",{span:["full",oc,Ye]},Ye]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[ac]}],"row-start-end":[{row:["auto",{span:[oc,Ye]},Ye]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[vr]},vr]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vr,xr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xp]}],"font-family":[{font:[ac]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",qa,Xp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ks,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ks,xr]}],"underline-offset":[{"underline-offset":["auto",ks,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),r3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",s3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},a3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ks,Ye]}],"outline-w":[{outline:[ks,xr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[ks,xr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vr,l3]}],"shadow-color":[{shadow:[ac]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vr,Ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[oc,Ye]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ks,xr,Xp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},f3=qD(h3);function Yn(...t){return f3(Pv(t))}const p3=vD,hA=M.forwardRef(({className:t,...e},n)=>u.jsx(qM,{ref:n,className:Yn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));hA.displayName=qM.displayName;const m3=tA("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fA=M.forwardRef(({className:t,variant:e,...n},i)=>u.jsx(YM,{ref:i,className:Yn(m3({variant:e}),t),...n}));fA.displayName=YM.displayName;const g3=M.forwardRef(({className:t,...e},n)=>u.jsx(QM,{ref:n,className:Yn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));g3.displayName=QM.displayName;const pA=M.forwardRef(({className:t,...e},n)=>u.jsx(JM,{ref:n,className:Yn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(rx,{className:"h-4 w-4"})}));pA.displayName=JM.displayName;const mA=M.forwardRef(({className:t,...e},n)=>u.jsx(KM,{ref:n,className:Yn("text-sm font-semibold",t),...e}));mA.displayName=KM.displayName;const gA=M.forwardRef(({className:t,...e},n)=>u.jsx(ZM,{ref:n,className:Yn("text-sm opacity-90",t),...e}));gA.displayName=ZM.displayName;function x3(){const{toasts:t}=Sv();return u.jsxs(p3,{children:[t.map(function({id:e,title:n,description:i,action:s,...r}){return u.jsxs(fA,{...r,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(mA,{children:n}),i&&u.jsx(gA,{children:i})]}),s,u.jsx(pA,{})]},e)}),u.jsx(hA,{})]})}const v3=["top","right","bottom","left"],so=Math.min,si=Math.max,Qh=Math.round,md=Math.floor,_s=t=>({x:t,y:t}),y3={left:"right",right:"left",bottom:"top",top:"bottom"},b3={start:"end",end:"start"};function ax(t,e,n){return si(t,so(e,n))}function dr(t,e){return typeof t=="function"?t(e):t}function hr(t){return t.split("-")[0]}function zl(t){return t.split("-")[1]}function Iv(t){return t==="x"?"y":"x"}function Lv(t){return t==="y"?"height":"width"}function ro(t){return["top","bottom"].includes(hr(t))?"y":"x"}function Dv(t){return Iv(ro(t))}function _3(t,e,n){n===void 0&&(n=!1);const i=zl(t),s=Dv(t),r=Lv(s);let o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=Jh(o)),[o,Jh(o)]}function w3(t){const e=Jh(t);return[lx(t),e,lx(e)]}function lx(t){return t.replace(/start|end/g,e=>b3[e])}function S3(t,e,n){const i=["left","right"],s=["right","left"],r=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:i:e?i:s;case"left":case"right":return e?r:o;default:return[]}}function T3(t,e,n,i){const s=zl(t);let r=S3(hr(t),n==="start",i);return s&&(r=r.map(o=>o+"-"+s),e&&(r=r.concat(r.map(lx)))),r}function Jh(t){return t.replace(/left|right|bottom|top/g,e=>y3[e])}function E3(t){return{top:0,right:0,bottom:0,left:0,...t}}function xA(t){return typeof t!="number"?E3(t):{top:t,right:t,bottom:t,left:t}}function ef(t){const{x:e,y:n,width:i,height:s}=t;return{width:i,height:s,top:n,left:e,right:e+i,bottom:n+s,x:e,y:n}}function N_(t,e,n){let{reference:i,floating:s}=t;const r=ro(e),o=Dv(e),a=Lv(o),l=hr(e),c=r==="y",d=i.x+i.width/2-s.width/2,h=i.y+i.height/2-s.height/2,f=i[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:i.y-s.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-s.width,y:h};break;default:p={x:i.x,y:i.y}}switch(zl(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const M3=async(t,e,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:o}=n,a=r.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=N_(c,i,l),f=i,p={},x=0;for(let v=0;v<a.length;v++){const{name:g,fn:m}=a[v],{x:y,y:b,data:_,reset:w}=await m({x:d,y:h,initialPlacement:i,placement:f,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,h=b??h,p={...p,[g]:{...p[g],..._}},w&&x<=50&&(x++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):w.rects),{x:d,y:h}=N_(c,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function hu(t,e){var n;e===void 0&&(e={});const{x:i,y:s,platform:r,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=dr(e,t),x=xA(p),g=a[f?h==="floating"?"reference":"floating":h],m=ef(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(g)))==null||n?g:g.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=h==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),_=await(r.isElement==null?void 0:r.isElement(b))?await(r.getScale==null?void 0:r.getScale(b))||{x:1,y:1}:{x:1,y:1},w=ef(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(m.top-w.top+x.top)/_.y,bottom:(w.bottom-m.bottom+x.bottom)/_.y,left:(m.left-w.left+x.left)/_.x,right:(w.right-m.right+x.right)/_.x}}const A3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:s,rects:r,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=dr(t,e)||{};if(c==null)return{};const h=xA(d),f={x:n,y:i},p=Dv(s),x=Lv(p),v=await o.getDimensions(c),g=p==="y",m=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=r.reference[x]+r.reference[p]-f[p]-r.floating[x],w=f[p]-r.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=T?T[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(T)))&&(A=a.floating[b]||r.floating[x]);const E=_/2-w/2,C=A/2-v[x]/2-1,S=so(h[m],C),R=so(h[y],C),D=S,F=A-v[x]-R,O=A/2-v[x]/2+E,G=ax(D,O,F),H=!l.arrow&&zl(s)!=null&&O!==G&&r.reference[x]/2-(O<D?S:R)-v[x]/2<0,j=H?O<D?O-D:O-F:0;return{[p]:f[p]+j,data:{[p]:G,centerOffset:O-G-j,...H&&{alignmentOffset:j}},reset:H}}}),C3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:s,middlewareData:r,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...g}=dr(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const m=hr(s),y=ro(a),b=hr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(b||!v?[Jh(a)]:w3(a)),T=x!=="none";!f&&T&&w.push(...T3(a,v,x,_));const A=[a,...w],E=await hu(e,g),C=[];let S=((i=r.flip)==null?void 0:i.overflows)||[];if(d&&C.push(E[m]),h){const O=_3(s,o,_);C.push(E[O[0]],E[O[1]])}if(S=[...S,{placement:s,overflows:C}],!C.every(O=>O<=0)){var R,D;const O=(((R=r.flip)==null?void 0:R.index)||0)+1,G=A[O];if(G)return{data:{index:O,overflows:S},reset:{placement:G}};let H=(D=S.filter(j=>j.overflows[0]<=0).sort((j,N)=>j.overflows[1]-N.overflows[1])[0])==null?void 0:D.placement;if(!H)switch(p){case"bestFit":{var F;const j=(F=S.filter(N=>{if(T){const B=ro(N.placement);return B===y||B==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(B=>B>0).reduce((B,q)=>B+q,0)]).sort((N,B)=>N[1]-B[1])[0])==null?void 0:F[0];j&&(H=j);break}case"initialPlacement":H=a;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function I_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function L_(t){return v3.some(e=>t[e]>=0)}const P3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...s}=dr(t,e);switch(i){case"referenceHidden":{const r=await hu(e,{...s,elementContext:"reference"}),o=I_(r,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:L_(o)}}}case"escaped":{const r=await hu(e,{...s,altBoundary:!0}),o=I_(r,n.floating);return{data:{escapedOffsets:o,escaped:L_(o)}}}default:return{}}}}};async function R3(t,e){const{placement:n,platform:i,elements:s}=t,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=hr(n),a=zl(n),l=ro(n)==="y",c=["left","top"].includes(o)?-1:1,d=r&&l?-1:1,h=dr(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(p=a==="end"?x*-1:x),l?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const N3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:s,y:r,placement:o,middlewareData:a}=e,l=await R3(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:o}}}}},I3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:s}=e,{mainAxis:r=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:m,y}=g;return{x:m,y}}},...l}=dr(t,e),c={x:n,y:i},d=await hu(e,l),h=ro(hr(s)),f=Iv(h);let p=c[f],x=c[h];if(r){const g=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=p+d[g],b=p-d[m];p=ax(y,p,b)}if(o){const g=h==="y"?"top":"left",m=h==="y"?"bottom":"right",y=x+d[g],b=x-d[m];x=ax(y,x,b)}const v=a.fn({...e,[f]:p,[h]:x});return{...v,data:{x:v.x-n,y:v.y-i,enabled:{[f]:r,[h]:o}}}}}},L3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:s,rects:r,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=dr(t,e),d={x:n,y:i},h=ro(s),f=Iv(h);let p=d[f],x=d[h];const v=dr(a,e),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=f==="y"?"height":"width",_=r.reference[f]-r.floating[b]+g.mainAxis,w=r.reference[f]+r.reference[b]-g.mainAxis;p<_?p=_:p>w&&(p=w)}if(c){var m,y;const b=f==="y"?"width":"height",_=["top","left"].includes(hr(s)),w=r.reference[h]-r.floating[b]+(_&&((m=o.offset)==null?void 0:m[h])||0)+(_?0:g.crossAxis),T=r.reference[h]+r.reference[b]+(_?0:((y=o.offset)==null?void 0:y[h])||0)-(_?g.crossAxis:0);x<w?x=w:x>T&&(x=T)}return{[f]:p,[h]:x}}}},D3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:s,rects:r,platform:o,elements:a}=e,{apply:l=()=>{},...c}=dr(t,e),d=await hu(e,c),h=hr(s),f=zl(s),p=ro(s)==="y",{width:x,height:v}=r.floating;let g,m;h==="top"||h==="bottom"?(g=h,m=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=h,g=f==="end"?"top":"bottom");const y=v-d.top-d.bottom,b=x-d.left-d.right,_=so(v-d[g],y),w=so(x-d[m],b),T=!e.middlewareData.shift;let A=_,E=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(A=y),T&&!f){const S=si(d.left,0),R=si(d.right,0),D=si(d.top,0),F=si(d.bottom,0);p?E=x-2*(S!==0||R!==0?S+R:si(d.left,d.right)):A=v-2*(D!==0||F!==0?D+F:si(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:A});const C=await o.getDimensions(a.floating);return x!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function $f(){return typeof window<"u"}function Vl(t){return vA(t)?(t.nodeName||"").toLowerCase():"#document"}function ai(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rs(t){var e;return(e=(vA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vA(t){return $f()?t instanceof Node||t instanceof ai(t).Node:!1}function ts(t){return $f()?t instanceof Element||t instanceof ai(t).Element:!1}function As(t){return $f()?t instanceof HTMLElement||t instanceof ai(t).HTMLElement:!1}function D_(t){return!$f()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ai(t).ShadowRoot}function Ou(t){const{overflow:e,overflowX:n,overflowY:i,display:s}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}function k3(t){return["table","td","th"].includes(Vl(t))}function qf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function kv(t){const e=Ov(),n=ts(t)?ns(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function O3(t){let e=oo(t);for(;As(e)&&!yl(e);){if(kv(e))return e;if(qf(e))return null;e=oo(e)}return null}function Ov(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yl(t){return["html","body","#document"].includes(Vl(t))}function ns(t){return ai(t).getComputedStyle(t)}function Yf(t){return ts(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(Vl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D_(t)&&t.host||Rs(t);return D_(e)?e.host:e}function yA(t){const e=oo(t);return yl(e)?t.ownerDocument?t.ownerDocument.body:t.body:As(e)&&Ou(e)?e:yA(e)}function fu(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=yA(t),r=s===((i=t.ownerDocument)==null?void 0:i.body),o=ai(s);if(r){const a=cx(o);return e.concat(o,o.visualViewport||[],Ou(s)?s:[],a&&n?fu(a):[])}return e.concat(s,fu(s,[],n))}function cx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bA(t){const e=ns(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=As(t),r=s?t.offsetWidth:n,o=s?t.offsetHeight:i,a=Qh(n)!==r||Qh(i)!==o;return a&&(n=r,i=o),{width:n,height:i,$:a}}function jv(t){return ts(t)?t:t.contextElement}function Ya(t){const e=jv(t);if(!As(e))return _s(1);const n=e.getBoundingClientRect(),{width:i,height:s,$:r}=bA(e);let o=(r?Qh(n.width):n.width)/i,a=(r?Qh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const j3=_s(0);function _A(t){const e=ai(t);return!Ov()||!e.visualViewport?j3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function F3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ai(t)?!1:e}function Yo(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=jv(t);let o=_s(1);e&&(i?ts(i)&&(o=Ya(i)):o=Ya(t));const a=F3(r,n,i)?_A(r):_s(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(r){const f=ai(r),p=i&&ts(i)?ai(i):i;let x=f,v=cx(x);for(;v&&i&&p!==x;){const g=Ya(v),m=v.getBoundingClientRect(),y=ns(v),b=m.left+(v.clientLeft+parseFloat(y.paddingLeft))*g.x,_=m.top+(v.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,d*=g.x,h*=g.y,l+=b,c+=_,x=ai(v),v=cx(x)}}return ef({width:d,height:h,x:l,y:c})}function Fv(t,e){const n=Yf(t).scrollLeft;return e?e.left+n:Yo(Rs(t)).left+n}function wA(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=i.left+e.scrollLeft-(n?0:Fv(t,i)),r=i.top+e.scrollTop;return{x:s,y:r}}function U3(t){let{elements:e,rect:n,offsetParent:i,strategy:s}=t;const r=s==="fixed",o=Rs(i),a=e?qf(e.floating):!1;if(i===o||a&&r)return n;let l={scrollLeft:0,scrollTop:0},c=_s(1);const d=_s(0),h=As(i);if((h||!h&&!r)&&((Vl(i)!=="body"||Ou(o))&&(l=Yf(i)),As(i))){const p=Yo(i);c=Ya(i),d.x=p.x+i.clientLeft,d.y=p.y+i.clientTop}const f=o&&!h&&!r?wA(o,l,!0):_s(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function B3(t){return Array.from(t.getClientRects())}function z3(t){const e=Rs(t),n=Yf(t),i=t.ownerDocument.body,s=si(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=si(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+Fv(t);const a=-n.scrollTop;return ns(i).direction==="rtl"&&(o+=si(e.clientWidth,i.clientWidth)-s),{width:s,height:r,x:o,y:a}}function V3(t,e){const n=ai(t),i=Rs(t),s=n.visualViewport;let r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;const c=Ov();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a,y:l}}function H3(t,e){const n=Yo(t,!0,e==="fixed"),i=n.top+t.clientTop,s=n.left+t.clientLeft,r=As(t)?Ya(t):_s(1),o=t.clientWidth*r.x,a=t.clientHeight*r.y,l=s*r.x,c=i*r.y;return{width:o,height:a,x:l,y:c}}function k_(t,e,n){let i;if(e==="viewport")i=V3(t,n);else if(e==="document")i=z3(Rs(t));else if(ts(e))i=H3(e,n);else{const s=_A(t);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ef(i)}function SA(t,e){const n=oo(t);return n===e||!ts(n)||yl(n)?!1:ns(n).position==="fixed"||SA(n,e)}function G3(t,e){const n=e.get(t);if(n)return n;let i=fu(t,[],!1).filter(a=>ts(a)&&Vl(a)!=="body"),s=null;const r=ns(t).position==="fixed";let o=r?oo(t):t;for(;ts(o)&&!yl(o);){const a=ns(o),l=kv(o);!l&&a.position==="fixed"&&(s=null),(r?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ou(o)&&!l&&SA(t,o))?i=i.filter(d=>d!==o):s=a,o=oo(o)}return e.set(t,i),i}function W3(t){let{element:e,boundary:n,rootBoundary:i,strategy:s}=t;const o=[...n==="clippingAncestors"?qf(e)?[]:G3(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,d)=>{const h=k_(e,d,s);return c.top=si(h.top,c.top),c.right=so(h.right,c.right),c.bottom=so(h.bottom,c.bottom),c.left=si(h.left,c.left),c},k_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function X3(t){const{width:e,height:n}=bA(t);return{width:e,height:n}}function $3(t,e,n){const i=As(e),s=Rs(e),r=n==="fixed",o=Yo(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const l=_s(0);if(i||!i&&!r)if((Vl(e)!=="body"||Ou(s))&&(a=Yf(e)),i){const f=Yo(e,!0,r,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&(l.x=Fv(s));const c=s&&!i&&!r?wA(s,a):_s(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function $p(t){return ns(t).position==="static"}function O_(t,e){if(!As(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rs(t)===n&&(n=n.ownerDocument.body),n}function TA(t,e){const n=ai(t);if(qf(t))return n;if(!As(t)){let s=oo(t);for(;s&&!yl(s);){if(ts(s)&&!$p(s))return s;s=oo(s)}return n}let i=O_(t,e);for(;i&&k3(i)&&$p(i);)i=O_(i,e);return i&&yl(i)&&$p(i)&&!kv(i)?n:i||O3(t)||n}const q3=async function(t){const e=this.getOffsetParent||TA,n=this.getDimensions,i=await n(t.floating);return{reference:$3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Y3(t){return ns(t).direction==="rtl"}const K3={convertOffsetParentRelativeRectToViewportRelativeRect:U3,getDocumentElement:Rs,getClippingRect:W3,getOffsetParent:TA,getElementRects:q3,getClientRects:B3,getDimensions:X3,getScale:Ya,isElement:ts,isRTL:Y3};function EA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Z3(t,e){let n=null,i;const s=Rs(t);function r(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),r();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const x=md(h),v=md(s.clientWidth-(d+f)),g=md(s.clientHeight-(h+p)),m=md(d),b={rootMargin:-x+"px "+-v+"px "+-g+"px "+-m+"px",threshold:si(0,so(1,l))||1};let _=!0;function w(T){const A=T[0].intersectionRatio;if(A!==l){if(!_)return o();A?o(!1,A):i=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!EA(c,t.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(w,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(t)}return o(!0),r}function Q3(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=jv(t),d=s||r?[...c?fu(c):[],...fu(e)]:[];d.forEach(m=>{s&&m.addEventListener("scroll",n,{passive:!0}),r&&m.addEventListener("resize",n)});const h=c&&a?Z3(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(m=>{let[y]=m;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let x,v=l?Yo(t):null;l&&g();function g(){const m=Yo(t);v&&!EA(v,m)&&n(),v=m,x=requestAnimationFrame(g)}return n(),()=>{var m;d.forEach(y=>{s&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),h==null||h(),(m=p)==null||m.disconnect(),p=null,l&&cancelAnimationFrame(x)}}const J3=N3,ek=I3,tk=C3,nk=D3,ik=P3,j_=A3,sk=L3,rk=(t,e,n)=>{const i=new Map,s={platform:K3,...n},r={...s.platform,_c:i};return M3(t,e,{...s,platform:r})};var dh=typeof document<"u"?M.useLayoutEffect:M.useEffect;function tf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!tf(t[i],e[i]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,s[i]))return!1;for(i=n;i--!==0;){const r=s[i];if(!(r==="_owner"&&t.$$typeof)&&!tf(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function MA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function F_(t,e){const n=MA(t);return Math.round(e*n)/n}function qp(t){const e=M.useRef(t);return dh(()=>{e.current=t}),e}function ok(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:r,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=M.useState(i);tf(f,i)||p(i);const[x,v]=M.useState(null),[g,m]=M.useState(null),y=M.useCallback(N=>{N!==T.current&&(T.current=N,v(N))},[]),b=M.useCallback(N=>{N!==A.current&&(A.current=N,m(N))},[]),_=r||x,w=o||g,T=M.useRef(null),A=M.useRef(null),E=M.useRef(d),C=l!=null,S=qp(l),R=qp(s),D=qp(c),F=M.useCallback(()=>{if(!T.current||!A.current)return;const N={placement:e,strategy:n,middleware:f};R.current&&(N.platform=R.current),rk(T.current,A.current,N).then(B=>{const q={...B,isPositioned:D.current!==!1};O.current&&!tf(E.current,q)&&(E.current=q,Fl.flushSync(()=>{h(q)}))})},[f,e,n,R,D]);dh(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(N=>({...N,isPositioned:!1})))},[c]);const O=M.useRef(!1);dh(()=>(O.current=!0,()=>{O.current=!1}),[]),dh(()=>{if(_&&(T.current=_),w&&(A.current=w),_&&w){if(S.current)return S.current(_,w,F);F()}},[_,w,F,S,C]);const G=M.useMemo(()=>({reference:T,floating:A,setReference:y,setFloating:b}),[y,b]),H=M.useMemo(()=>({reference:_,floating:w}),[_,w]),j=M.useMemo(()=>{const N={position:n,left:0,top:0};if(!H.floating)return N;const B=F_(H.floating,d.x),q=F_(H.floating,d.y);return a?{...N,transform:"translate("+B+"px, "+q+"px)",...MA(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:q}},[n,a,H.floating,d.x,d.y]);return M.useMemo(()=>({...d,update:F,refs:G,elements:H,floatingStyles:j}),[d,F,G,H,j])}const ak=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:s}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?j_({element:i.current,padding:s}).fn(n):{}:i?j_({element:i,padding:s}).fn(n):{}}}},lk=(t,e)=>({...J3(t),options:[t,e]}),ck=(t,e)=>({...ek(t),options:[t,e]}),uk=(t,e)=>({...sk(t),options:[t,e]}),dk=(t,e)=>({...tk(t),options:[t,e]}),hk=(t,e)=>({...nk(t),options:[t,e]}),fk=(t,e)=>({...ik(t),options:[t,e]}),pk=(t,e)=>({...ak(t),options:[t,e]});var mk="Arrow",AA=M.forwardRef((t,e)=>{const{children:n,width:i=10,height:s=5,...r}=t;return u.jsx(qn.svg,{...r,ref:e,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});AA.displayName=mk;var gk=AA;function xk(t){const[e,n]=M.useState(void 0);return qo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let o,a;if("borderBoxSize"in r){const l=r.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var CA="Popper",[PA,RA]=Hf(CA),[sX,NA]=PA(CA),IA="PopperAnchor",LA=M.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...s}=t,r=NA(IA,n),o=M.useRef(null),a=es(e,o);return M.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:u.jsx(qn.div,{...s,ref:a})});LA.displayName=IA;var Uv="PopperContent",[vk,yk]=PA(Uv),DA=M.forwardRef((t,e)=>{var re,Le,ye,Pe,ht,qe;const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:r="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...v}=t,g=NA(Uv,n),[m,y]=M.useState(null),b=es(e,k=>y(k)),[_,w]=M.useState(null),T=xk(_),A=(T==null?void 0:T.width)??0,E=(T==null?void 0:T.height)??0,C=i+(r!=="center"?"-"+r:""),S=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(c)?c:[c],D=R.length>0,F={padding:S,boundary:R.filter(_k),altBoundary:D},{refs:O,floatingStyles:G,placement:H,isPositioned:j,middlewareData:N}=ok({strategy:"fixed",placement:C,whileElementsMounted:(...k)=>Q3(...k,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[lk({mainAxis:s+E,alignmentAxis:o}),l&&ck({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?uk():void 0,...F}),l&&dk({...F}),hk({...F,apply:({elements:k,rects:ot,availableWidth:De,availableHeight:tt})=>{const{width:Ce,height:ut}=ot.reference,ge=k.floating.style;ge.setProperty("--radix-popper-available-width",`${De}px`),ge.setProperty("--radix-popper-available-height",`${tt}px`),ge.setProperty("--radix-popper-anchor-width",`${Ce}px`),ge.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),_&&pk({element:_,padding:a}),wk({arrowWidth:A,arrowHeight:E}),f&&fk({strategy:"referenceHidden",...F})]}),[B,q]=jA(H),ee=Ms(x);qo(()=>{j&&(ee==null||ee())},[j,ee]);const xe=(re=N.arrow)==null?void 0:re.x,Be=(Le=N.arrow)==null?void 0:Le.y,We=((ye=N.arrow)==null?void 0:ye.centerOffset)!==0,[Q,ce]=M.useState();return qo(()=>{m&&ce(window.getComputedStyle(m).zIndex)},[m]),u.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:j?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(Pe=N.transformOrigin)==null?void 0:Pe.x,(ht=N.transformOrigin)==null?void 0:ht.y].join(" "),...((qe=N.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(vk,{scope:n,placedSide:B,onArrowChange:w,arrowX:xe,arrowY:Be,shouldHideArrow:We,children:u.jsx(qn.div,{"data-side":B,"data-align":q,...v,ref:b,style:{...v.style,animation:j?void 0:"none"}})})})});DA.displayName=Uv;var kA="PopperArrow",bk={top:"bottom",right:"left",bottom:"top",left:"right"},OA=M.forwardRef(function(e,n){const{__scopePopper:i,...s}=e,r=yk(kA,i),o=bk[r.placedSide];return u.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:u.jsx(gk,{...s,ref:n,style:{...s.style,display:"block"}})})});OA.displayName=kA;function _k(t){return t!==null}var wk=t=>({name:"transformOrigin",options:t,fn(e){var g,m,y;const{placement:n,rects:i,middlewareData:s}=e,o=((g=s.arrow)==null?void 0:g.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=jA(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((m=s.arrow)==null?void 0:m.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let x="",v="";return c==="bottom"?(x=o?h:`${f}px`,v=`${-l}px`):c==="top"?(x=o?h:`${f}px`,v=`${i.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=o?h:`${p}px`):c==="left"&&(x=`${i.floating.width+l}px`,v=o?h:`${p}px`),{data:{x,y:v}}}});function jA(t){const[e,n="center"]=t.split("-");return[e,n]}var Sk=LA,Tk=DA,Ek=OA,[Kf,rX]=Hf("Tooltip",[RA]),Bv=RA(),FA="TooltipProvider",Mk=700,U_="tooltip.open",[Ak,UA]=Kf(FA),BA=t=>{const{__scopeTooltip:e,delayDuration:n=Mk,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:r}=t,o=M.useRef(!0),a=M.useRef(!1),l=M.useRef(0);return M.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(Ak,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:M.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:r})};BA.displayName=FA;var zA="Tooltip",[oX,Zf]=Kf(zA),ux="TooltipTrigger",Ck=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,s=Zf(ux,n),r=UA(ux,n),o=Bv(n),a=M.useRef(null),l=es(e,a,s.onTriggerChange),c=M.useRef(!1),d=M.useRef(!1),h=M.useCallback(()=>c.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(Sk,{asChild:!0,...o,children:u.jsx(qn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:l,onPointerMove:Jt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Jt(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Jt(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Jt(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Jt(t.onBlur,s.onClose),onClick:Jt(t.onClick,s.onClose)})})});Ck.displayName=ux;var Pk="TooltipPortal",[aX,Rk]=Kf(Pk,{forceMount:void 0}),bl="TooltipContent",VA=M.forwardRef((t,e)=>{const n=Rk(bl,t.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...r}=t,o=Zf(bl,t.__scopeTooltip);return u.jsx(Ev,{present:i||o.open,children:o.disableHoverableContent?u.jsx(HA,{side:s,...r,ref:e}):u.jsx(Nk,{side:s,...r,ref:e})})}),Nk=M.forwardRef((t,e)=>{const n=Zf(bl,t.__scopeTooltip),i=UA(bl,t.__scopeTooltip),s=M.useRef(null),r=es(e,s),[o,a]=M.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=i,f=M.useCallback(()=>{a(null),h(!1)},[h]),p=M.useCallback((x,v)=>{const g=x.currentTarget,m={x:x.clientX,y:x.clientY},y=Ok(m,g.getBoundingClientRect()),b=jk(m,y),_=Fk(v.getBoundingClientRect()),w=Bk([...b,..._]);a(w),h(!0)},[h]);return M.useEffect(()=>()=>f(),[f]),M.useEffect(()=>{if(l&&d){const x=g=>p(g,d),v=g=>p(g,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[l,d,p,f]),M.useEffect(()=>{if(o){const x=v=>{const g=v.target,m={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),b=!Uk(m,o);y?f():b&&(f(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,c,f]),u.jsx(HA,{...t,ref:r})}),[Ik,Lk]=Kf(zA,{isInside:!1}),Dk=IL("TooltipContent"),HA=M.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:o,...a}=t,l=Zf(bl,n),c=Bv(n),{onClose:d}=l;return M.useEffect(()=>(document.addEventListener(U_,d),()=>document.removeEventListener(U_,d)),[d]),M.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(Tv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(Tk,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Dk,{children:i}),u.jsx(Ik,{scope:n,isInside:!0,children:u.jsx(eD,{id:l.contentId,role:"tooltip",children:s||i})})]})})});VA.displayName=bl;var GA="TooltipArrow",kk=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,s=Bv(n);return Lk(GA,n).isInside?null:u.jsx(Ek,{...s,...i,ref:e})});kk.displayName=GA;function Ok(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),r=Math.abs(e.left-t.x);switch(Math.min(n,i,s,r)){case r:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function jk(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function Fk(t){const{top:e,right:n,bottom:i,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:i},{x:s,y:i}]}function Uk(t,e){const{x:n,y:i}=t;let s=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const a=e[r].x,l=e[r].y,c=e[o].x,d=e[o].y;l>i!=d>i&&n<(c-a)*(i-l)/(d-l)+a&&(s=!s)}return s}function Bk(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),zk(e)}function zk(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const s=t[i];for(;e.length>=2;){const r=e[e.length-1],o=e[e.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const s=t[i];for(;n.length>=2;){const r=n[n.length-1],o=n[n.length-2];if((r.x-o.x)*(s.y-o.y)>=(r.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Vk=BA,WA=VA;const Hk=Vk,Gk=M.forwardRef(({className:t,sideOffset:e=4,...n},i)=>u.jsx(WA,{ref:i,sideOffset:e,className:Yn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Gk.displayName=WA.displayName;const Wk="modulepreload",Xk=function(t){return"/"+t},B_={},$k=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Xk(l),l in B_)return;B_[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Wk,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},qk=tA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",creativePrimary:"relative h-11 px-6 rounded-xl font-semibold text-white bg-[#7042D2] shadow-[0_10px_26px_rgba(112,66,210,0.38)] ring-1 ring-white/10 hover:bg-[#5f36b3] hover:ring-white/20 transition-transform duration-300 hover:scale-[1.03] active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",creativeSecondary:"relative h-11 px-6 rounded-xl font-semibold text-white/90 bg-white/10 border border-white/20 backdrop-blur-xl hover:bg-white/15 hover:border-white/25 transition-colors duration-300",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$e=M.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...s},r)=>{const o=i?RL:"button";return u.jsx(o,{className:Yn(qk({variant:e,size:n,className:t})),ref:r,...s})});$e.displayName="Button";function Yk(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Qf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const dx=t=>Array.isArray(t);function XA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function pu(t){return typeof t=="string"||Array.isArray(t)}function z_(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function zv(t,e,n,i){if(typeof e=="function"){const[s,r]=z_(i);e=e(n!==void 0?n:t.custom,s,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,r]=z_(i);e=e(n!==void 0?n:t.custom,s,r)}return e}function Jf(t,e,n){const i=t.getProps();return zv(i,e,n!==void 0?n:i.custom,t)}const Vv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hv=["initial",...Vv],ju=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],na=new Set(ju),nr=t=>t*1e3,ir=t=>t/1e3,Kk={type:"spring",stiffness:500,damping:25,restSpeed:10},Zk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qk={type:"keyframes",duration:.8},Jk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eO=(t,{keyframes:e})=>e.length>2?Qk:na.has(t)?t.startsWith("scale")?Zk(e[1]):Kk:Jk;function Gv(t,e){return t?t[e]||t.default||t:void 0}const tO={skipAnimations:!1,useManualTiming:!1},nO=t=>t!==null;function ep(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(nO),r=e&&n!=="loop"&&e%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const un=t=>t;let iO=un,hx=un;function sO(t){let e=new Set,n=new Set,i=!1,s=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){r.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const p=h&&i?e:n;return d&&r.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),r.delete(c)},process:c=>{if(o=c,i){s=!0;return}i=!0,[e,n]=[n,e],n.clear(),e.forEach(a),i=!1,s&&(s=!1,l.process(c))}};return l}const gd=["read","resolveKeyframes","update","preRender","render","postRender"],rO=40;function $A(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=gd.reduce((m,y)=>(m[y]=sO(r),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,p=()=>{const m=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(m-s.timestamp,rO),1),s.timestamp=m,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(p))},x=()=>{n=!0,i=!0,s.isProcessing||t(p)};return{schedule:gd.reduce((m,y)=>{const b=o[y];return m[y]=(_,w=!1,T=!1)=>(n||x(),b.schedule(_,w,T)),m},{}),cancel:m=>{for(let y=0;y<gd.length;y++)o[gd[y]].cancel(m)},state:s,steps:o}}const{schedule:rt,cancel:is,state:Zt,steps:Yp}=$A(typeof requestAnimationFrame<"u"?requestAnimationFrame:un,!0),qA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oO=1e-7,aO=12;function lO(t,e,n,i,s){let r,o,a=0;do o=e+(n-e)/2,r=qA(o,i,s)-t,r>0?n=o:e=o;while(Math.abs(r)>oO&&++a<aO);return o}function Fu(t,e,n,i){if(t===e&&n===i)return un;const s=r=>lO(r,0,1,t,n);return r=>r===0||r===1?r:qA(s(r),e,i)}const YA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KA=t=>e=>1-t(1-e),ZA=Fu(.33,1.53,.69,.99),Wv=KA(ZA),QA=YA(Wv),JA=t=>(t*=2)<1?.5*Wv(t):.5*(2-Math.pow(2,-10*(t-1))),Xv=t=>1-Math.sin(Math.acos(t)),eC=KA(Xv),tC=YA(Xv),nC=t=>/^0[^.\s]+$/u.test(t);function cO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nC(t):!0}const iC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sC=t=>e=>typeof e=="string"&&e.startsWith(t),rC=sC("--"),uO=sC("var(--"),$v=t=>uO(t)?dO.test(t.split("/*")[0].trim()):!1,dO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fO(t){const e=hO.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function oC(t,e,n=1){const[i,s]=fO(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const o=r.trim();return iC(o)?parseFloat(o):o}return $v(s)?oC(s,e,n+1):s}const fr=(t,e,n)=>n>e?e:n<t?t:n,Hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mu={...Hl,transform:t=>fr(0,1,t)},xd={...Hl,default:1},Uu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cr=Uu("deg"),ws=Uu("%"),Ue=Uu("px"),pO=Uu("vh"),mO=Uu("vw"),V_={...ws,parse:t=>ws.parse(t)/100,transform:t=>ws.transform(t*100)},gO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),H_=t=>t===Hl||t===Ue,G_=(t,e)=>parseFloat(t.split(", ")[e]),W_=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return G_(s[1],e);{const r=i.match(/^matrix\((.+)\)$/u);return r?G_(r[1],t):0}},xO=new Set(["x","y","z"]),vO=ju.filter(t=>!xO.has(t));function yO(t){const e=[];return vO.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const _l={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:W_(4,13),y:W_(5,14)};_l.translateX=_l.x;_l.translateY=_l.y;const aC=t=>e=>e.test(t),bO={test:t=>t==="auto",parse:t=>t},lC=[Hl,Ue,ws,Cr,mO,pO,bO],X_=t=>lC.find(aC(t)),Vo=new Set;let fx=!1,px=!1;function cC(){if(px){const t=Array.from(Vo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=yO(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,o])=>{var a;(a=i.getValue(r))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}px=!1,fx=!1,Vo.forEach(t=>t.complete()),Vo.clear()}function uC(){Vo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(px=!0)})}function _O(){uC(),cC()}class qv{constructor(e,n,i,s,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vo.add(this),fx||(fx=!0,rt.read(uC),rt.resolveKeyframes(cC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Fc=t=>Math.round(t*1e5)/1e5,Yv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wO(t){return t==null}const SO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kv=(t,e)=>n=>!!(typeof n=="string"&&SO.test(n)&&n.startsWith(t)||e&&!wO(n)&&Object.prototype.hasOwnProperty.call(n,e)),dC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,r,o,a]=i.match(Yv);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},TO=t=>fr(0,255,t),Kp={...Hl,transform:t=>Math.round(TO(t))},ko={test:Kv("rgb","red"),parse:dC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Kp.transform(t)+", "+Kp.transform(e)+", "+Kp.transform(n)+", "+Fc(mu.transform(i))+")"};function EO(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const mx={test:Kv("#"),parse:EO,transform:ko.transform},La={test:Kv("hsl","hue"),parse:dC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ws.transform(Fc(e))+", "+ws.transform(Fc(n))+", "+Fc(mu.transform(i))+")"},_n={test:t=>ko.test(t)||mx.test(t)||La.test(t),parse:t=>ko.test(t)?ko.parse(t):La.test(t)?La.parse(t):mx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ko.transform(t):La.transform(t)},MO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Yv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(MO))===null||n===void 0?void 0:n.length)||0)>0}const hC="number",fC="color",CO="var",PO="var(",$_="${}",RO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=e.replace(RO,l=>(_n.test(l)?(i.color.push(r),s.push(fC),n.push(_n.parse(l))):l.startsWith(PO)?(i.var.push(r),s.push(CO),n.push(l)):(i.number.push(r),s.push(hC),n.push(parseFloat(l))),++r,$_)).split($_);return{values:n,split:a,indexes:i,types:s}}function pC(t){return gu(t).values}function mC(t){const{split:e,types:n}=gu(t),i=e.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=e[o],s[o]!==void 0){const a=n[o];a===hC?r+=Fc(s[o]):a===fC?r+=_n.transform(s[o]):r+=s[o]}return r}}const NO=t=>typeof t=="number"?0:t;function IO(t){const e=pC(t);return mC(t)(e.map(NO))}const ao={test:AO,parse:pC,createTransformer:mC,getAnimatableNone:IO},LO=new Set(["brightness","contrast","saturate","opacity"]);function DO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Yv)||[];if(!i)return t;const s=n.replace(i,"");let r=LO.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const kO=/\b([a-z-]*)\(.*?\)/gu,gx={...ao,getAnimatableNone:t=>{const e=t.match(kO);return e?e.map(DO).join(" "):t}},OO={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue},jO={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:xd,scaleX:xd,scaleY:xd,scaleZ:xd,skew:Cr,skewX:Cr,skewY:Cr,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:mu,originX:V_,originY:V_,originZ:Ue},q_={...Hl,transform:Math.round},Zv={...OO,...jO,zIndex:q_,size:Ue,fillOpacity:mu,strokeOpacity:mu,numOctaves:q_},FO={...Zv,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:gx,WebkitFilter:gx},Qv=t=>FO[t];function gC(t,e){let n=Qv(t);return n!==gx&&(n=ao),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const UO=new Set(["auto","none","0"]);function BO(t,e,n){let i=0,s;for(;i<t.length&&!s;){const r=t[i];typeof r=="string"&&!UO.has(r)&&gu(r).values.length&&(s=t[i]),i++}if(s&&n)for(const r of e)t[r]=gC(n,s)}class xC extends qv{constructor(e,n,i,s,r){super(e,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),$v(c))){const d=oC(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!gO.has(i)||e.length!==2)return;const[s,r]=e,o=X_(s),a=X_(r);if(o!==a)if(H_(o)&&H_(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)cO(e[s])&&i.push(s);i.length&&BO(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_l[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const r=n.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=_l[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Jv(t){return typeof t=="function"}let hh;function zO(){hh=void 0}const Ss={now:()=>(hh===void 0&&Ss.set(Zt.isProcessing||tO.useManualTiming?Zt.timestamp:performance.now()),hh),set:t=>{hh=t,queueMicrotask(zO)}},Y_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ao.test(t)||t==="0")&&!t.startsWith("url("));function VO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HO(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=Y_(s,e),a=Y_(r,e);return!o||!a?!1:VO(t)||(n==="spring"||Jv(n))&&i}const GO=40;class vC{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ss.now(),this.options={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_O(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ss.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!HO(e,i,s,r))if(o)this.options.duration=0;else{l==null||l(ep(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ko=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},yC=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let r=0;r<s;r++)i+=t(Ko(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function ey(t,e){return e?t*(1e3/e):0}const WO=5;function bC(t,e,n){const i=Math.max(e-WO,0);return ey(n-t(i),e-i)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zp=.001;function XO({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:i=Bt.mass}){let s,r,o=1-e;o=fr(Bt.minDamping,Bt.maxDamping,o),t=fr(Bt.minDuration,Bt.maxDuration,ir(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-n,p=xx(c,o),x=Math.exp(-h);return Zp-f/p*x},r=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,x=Math.exp(-h),v=xx(Math.pow(c,2),o);return(-s(c)+Zp>0?-1:1)*((f-p)*x)/v}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Zp+d*h},r=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=qO(s,r,a);if(t=nr(t),isNaN(l))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const $O=12;function qO(t,e,n){let i=n;for(let s=1;s<$O;s++)i=i-t(i)/e(i);return i}function xx(t,e){return t*Math.sqrt(1-e*e)}const vx=2e4;function _C(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<vx;)e+=n,i=t.next(e);return e>=vx?1/0:e}const YO=["duration","bounce"],KO=["stiffness","damping","mass"];function K_(t,e){return e.some(n=>t[n]!==void 0)}function ZO(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!K_(t,KO)&&K_(t,YO))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*fr(.05,1,1-t.bounce)*Math.sqrt(s);e={...e,mass:Bt.mass,stiffness:s,damping:r}}else{const n=XO(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function wC(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=ZO({...n,velocity:-ir(n.velocity||0)}),x=f||0,v=c/(2*Math.sqrt(l*d)),g=o-r,m=ir(Math.sqrt(l/d)),y=Math.abs(g)<5;i||(i=y?Bt.restSpeed.granular:Bt.restSpeed.default),s||(s=y?Bt.restDelta.granular:Bt.restDelta.default);let b;if(v<1){const w=xx(m,v);b=T=>{const A=Math.exp(-v*m*T);return o-A*((x+v*m*g)/w*Math.sin(w*T)+g*Math.cos(w*T))}}else if(v===1)b=w=>o-Math.exp(-m*w)*(g+(x+m*g)*w);else{const w=m*Math.sqrt(v*v-1);b=T=>{const A=Math.exp(-v*m*T),E=Math.min(w*T,300);return o-A*((x+v*m*g)*Math.sinh(E)+w*g*Math.cosh(E))/w}}const _={calculatedDuration:p&&h||null,next:w=>{const T=b(w);if(p)a.done=w>=h;else{let A=0;v<1&&(A=w===0?nr(x):bC(b,w,T));const E=Math.abs(A)<=i,C=Math.abs(o-T)<=s;a.done=E&&C}return a.value=a.done?o:T,a},toString:()=>{const w=Math.min(_C(_),vx),T=yC(A=>_.next(w*A).value,w,30);return w+"ms "+T}};return _}function Z_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,x=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=n*e;const g=h+v,m=o===void 0?g:o(g);m!==g&&(v=m-h);const y=E=>-v*Math.exp(-E/i),b=E=>m+y(E),_=E=>{const C=y(E),S=b(E);f.done=Math.abs(C)<=c,f.value=f.done?m:S};let w,T;const A=E=>{p(f.value)&&(w=E,T=wC({keyframes:[f.value,x(f.value)],velocity:bC(b,E,f.value),damping:s,stiffness:r,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:E=>{let C=!1;return!T&&w===void 0&&(C=!0,_(E),A(E)),w!==void 0&&E>=w?T.next(E-w):(!C&&_(E),f)}}}const QO=Fu(.42,0,1,1),JO=Fu(0,0,.58,1),SC=Fu(.42,0,.58,1),ej=t=>Array.isArray(t)&&typeof t[0]!="number",ty=t=>Array.isArray(t)&&typeof t[0]=="number",Q_={linear:un,easeIn:QO,easeInOut:SC,easeOut:JO,circIn:Xv,circInOut:tC,circOut:eC,backIn:Wv,backInOut:QA,backOut:ZA,anticipate:JA},J_=t=>{if(ty(t)){hx(t.length===4);const[e,n,i,s]=t;return Fu(e,n,i,s)}else if(typeof t=="string")return hx(Q_[t]!==void 0),Q_[t];return t},tj=(t,e)=>n=>e(t(n)),Jr=(...t)=>t.reduce(tj),kt=(t,e,n)=>t+(e-t)*n;function Qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nj({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,o=0;if(!e)s=r=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Qp(l,a,t+1/3),r=Qp(l,a,t),o=Qp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function nf(t,e){return n=>n>0?e:t}const Jp=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},ij=[mx,ko,La],sj=t=>ij.find(e=>e.test(t));function ew(t){const e=sj(t);if(!e)return!1;let n=e.parse(t);return e===La&&(n=nj(n)),n}const tw=(t,e)=>{const n=ew(t),i=ew(e);if(!n||!i)return nf(t,e);const s={...n};return r=>(s.red=Jp(n.red,i.red,r),s.green=Jp(n.green,i.green,r),s.blue=Jp(n.blue,i.blue,r),s.alpha=kt(n.alpha,i.alpha,r),ko.transform(s))},yx=new Set(["none","hidden"]);function rj(t,e){return yx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function oj(t,e){return n=>kt(t,e,n)}function ny(t){return typeof t=="number"?oj:typeof t=="string"?$v(t)?nf:_n.test(t)?tw:cj:Array.isArray(t)?TC:typeof t=="object"?_n.test(t)?tw:aj:nf}function TC(t,e){const n=[...t],i=n.length,s=t.map((r,o)=>ny(r)(r,e[o]));return r=>{for(let o=0;o<i;o++)n[o]=s[o](r);return n}}function aj(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=ny(t[s])(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function lj(t,e){var n;const i=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[r]=l,s[o]++}return i}const cj=(t,e)=>{const n=ao.createTransformer(e),i=gu(t),s=gu(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?yx.has(t)&&!s.values.length||yx.has(e)&&!i.values.length?rj(t,e):Jr(TC(lj(i,s),s.values),n):nf(t,e)};function EC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):ny(t)(t,e)}function uj(t,e,n){const i=[],s=n||EC,r=t.length-1;for(let o=0;o<r;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||un:e;a=Jr(l,a)}i.push(a)}return i}function iy(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;if(hx(r===e.length),r===1)return()=>e[0];if(r===2&&t[0]===t[1])return()=>e[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=uj(e,i,s),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Ko(t[d],t[d+1],c);return o[d](h)};return n?c=>l(fr(t[0],t[r-1],c)):l}function dj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Ko(0,e,i);t.push(kt(n,1,s))}}function MC(t){const e=[0];return dj(e,t.length-1),e}function hj(t,e){return t.map(n=>n*e)}function fj(t,e){return t.map(()=>e||SC).splice(0,t.length-1)}function sf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=ej(i)?i.map(J_):J_(i),r={done:!1,value:e[0]},o=hj(n&&n.length===e.length?n:MC(e),t),a=iy(o,e,{ease:Array.isArray(s)?s:fj(e,s)});return{calculatedDuration:t,next:l=>(r.value=a(l),r.done=l>=t,r)}}const pj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rt.update(e,!0),stop:()=>is(e),now:()=>Zt.isProcessing?Zt.timestamp:Ss.now()}},mj={decay:Z_,inertia:Z_,tween:sf,keyframes:sf,spring:wC},gj=t=>t/100;class tp extends vC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:s,keyframes:r}=this.options,o=(s==null?void 0:s.KeyframeResolver)||qv,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(r,a,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=this.options,a=Jv(n)?n:mj[n]||sf;let l,c;a!==sf&&typeof e[0]!="number"&&(l=Jr(gj,EC(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});r==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=_C(d));const{calculatedDuration:h}=d,f=h+s,p=f*(i+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return r.next(0);const{delay:f,repeat:p,repeatType:x,repeatDelay:v,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,_=r;if(p){const E=Math.min(this.currentTime,d)/h;let C=Math.floor(E),S=E%1;!S&&E>=1&&(S=1),S===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(x==="reverse"?(S=1-S,v&&(S-=v/h)):x==="mirror"&&(_=o)),b=fr(0,1,S)*h}const w=y?{done:!1,value:l[0]}:_.next(b);a&&(w.value=a(w.value));let{done:T}=w;!y&&c!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return A&&s!==void 0&&(w.value=ep(l,this.options,s)),g&&g(w.value),A&&this.finish(),w}get duration(){const{resolved:e}=this;return e?ir(e.calculatedDuration):0}get time(){return ir(this.currentTime)}set time(e){e=nr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pj,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function xj(t){return new tp(t)}const vj=new Set(["opacity","clipPath","filter","transform"]);function sy(t){let e;return()=>(e===void 0&&(e=t()),e)}const yj={linearEasing:void 0};function bj(t,e){const n=sy(t);return()=>{var i;return(i=yj[e])!==null&&i!==void 0?i:n()}}const rf=bj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function AC(t){return!!(typeof t=="function"&&rf()||!t||typeof t=="string"&&(t in bx||rf())||ty(t)||Array.isArray(t)&&t.every(AC))}const Tc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,bx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tc([0,.65,.55,1]),circOut:Tc([.55,0,1,.45]),backIn:Tc([.31,.01,.66,-.59]),backOut:Tc([.33,1.53,.69,.99])};function CC(t,e){if(t)return typeof t=="function"&&rf()?yC(t,e):ty(t)?Tc(t):Array.isArray(t)?t.map(n=>CC(n,e)||bx.easeOut):bx[t]}function _j(t,e,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=CC(a,s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}function nw(t,e){t.timeline=e,t.onfinish=null}const wj=sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),of=10,Sj=2e4;function Tj(t){return Jv(t.type)||t.type==="spring"||!AC(t.ease)}function Ej(t,e){const n=new tp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const s=[];let r=0;for(;!i.done&&r<Sj;)i=n.sample(r),s.push(i.value),r+=of;return{times:void 0,keyframes:s,duration:r-of,ease:"linear"}}const PC={anticipate:JA,backInOut:QA,circInOut:tC};function Mj(t){return t in PC}class iw extends vC{constructor(e){super(e);const{name:n,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new xC(r,(o,a)=>this.onKeyframesResolved(o,a),n,i,s),this.resolver.scheduleResolve()}initPlayback(e,n){var i;let{duration:s=300,times:r,ease:o,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(typeof o=="string"&&rf()&&Mj(o)&&(o=PC[o]),Tj(this.options)){const{onComplete:f,onUpdate:p,motionValue:x,element:v,...g}=this.options,m=Ej(e,g);e=m.keyframes,e.length===1&&(e[1]=e[0]),s=m.duration,r=m.times,o=m.ease,a="keyframes"}const h=_j(l.owner.current,c,e,{...this.options,duration:s,times:r,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(nw(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(ep(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:r,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ir(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ir(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=nr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return un;const{animation:i}=n;nw(i,e)}return un}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:s,type:r,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...p}=this.options,x=new tp({...p,keyframes:i,duration:s,type:r,ease:o,times:a,isGenerator:!0}),v=nr(this.time);c.setWithVelocity(x.sample(v-of).value,x.sample(v).value,of)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:s,repeatType:r,damping:o,type:a}=e;return wj()&&i&&vj.has(i)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&r!=="mirror"&&o!==0&&a!=="inertia"}}const RC=sy(()=>window.ScrollTimeline!==void 0);class Aj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(s=>RC()&&s.attachTimeline?s.attachTimeline(e):n(s));return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Cj({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const ry=(t,e,n,i={},s,r)=>o=>{const a=Gv(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-nr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:r?void 0:s};Cj(a)||(d={...d,...eO(t,d)}),d.duration&&(d.duration=nr(d.duration)),d.repeatDelay&&(d.repeatDelay=nr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!r&&e.get()!==void 0){const f=ep(d.keyframes,a);if(f!==void 0)return rt.update(()=>{d.onUpdate(f),d.onComplete()}),new Aj([])}return!r&&iw.supports(d)?new iw(d):new tp(d)},Pj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Rj=t=>dx(t)?t[t.length-1]||0:t;function oy(t,e){t.indexOf(e)===-1&&t.push(e)}function ay(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ly{constructor(){this.subscriptions=[]}add(e){return oy(this.subscriptions,e),()=>ay(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sw=30,Nj=t=>!isNaN(parseFloat(t)),Uc={current:void 0};class Ij{constructor(e,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=Ss.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ss.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Nj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ly);const i=this.events[e].add(n);return e==="change"?()=>{i(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Uc.current&&Uc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ss.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sw);return ey(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ms(t,e){return new Ij(t,e)}function Lj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ms(n))}function Dj(t,e){const n=Jf(t,e);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const o in r){const a=Rj(r[o]);Lj(t,o,a)}}const cy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kj="framerAppearId",NC="data-"+cy(kj);function IC(t){return t.props[NC]}const ln=t=>!!(t&&t.getVelocity);function Oj(t){return!!(ln(t)&&t.add)}function _x(t,e){const n=t.getValue("willChange");if(Oj(n))return n.add(e)}function jj({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function LC(t,e,{delay:n=0,transitionOverride:i,type:s}={}){var r;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(r=t.latestValues[h])!==null&&r!==void 0?r:null),p=l[h];if(p===void 0||d&&jj(d,h))continue;const x={delay:n,...Gv(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const m=IC(t);if(m){const y=window.MotionHandoffAnimation(m,h,rt);y!==null&&(x.startTime=y,v=!0)}}_x(t,h),f.start(ry(h,f,p,t.shouldReduceMotion&&na.has(h)?{type:!1}:x,t,v));const g=f.animation;g&&c.push(g)}return a&&Promise.all(c).then(()=>{rt.update(()=>{a&&Dj(t,a)})}),c}function wx(t,e,n={}){var i;const s=Jf(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const o=s?()=>Promise.all(LC(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return Fj(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Fj(t,e,n=0,i=0,s=1,r){const o=[],a=(t.variantChildren.size-1)*i,l=s===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(Uj).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(wx(c,e,{...r,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Uj(t,e){return t.sortNodePosition(e)}function Bj(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>wx(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=wx(t,e,n);else{const s=typeof e=="function"?Jf(t,e,n.custom):e;i=Promise.all(LC(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const zj=Hv.length;function DC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?DC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zj;n++){const i=Hv[n],s=t.props[i];(pu(s)||s===!1)&&(e[i]=s)}return e}const Vj=[...Vv].reverse(),Hj=Vv.length;function Gj(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Bj(t,n,i)))}function Wj(t){let e=Gj(t),n=rw(),i=!0;const s=l=>(c,d)=>{var h;const f=Jf(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...v}=f;c={...c,...v,...x}}return c};function r(l){e=l(t)}function o(l){const{props:c}=t,d=DC(t.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let g=0;g<Hj;g++){const m=Vj[g],y=n[m],b=c[m]!==void 0?c[m]:d[m],_=pu(b),w=m===l?y.isActive:null;w===!1&&(x=g);let T=b===d[m]&&b!==c[m]&&_;if(T&&i&&t.manuallyAnimateOnMount&&(T=!1),y.protectedKeys={...p},!y.isActive&&w===null||!b&&!y.prevProp||Qf(b)||typeof b=="boolean")continue;const A=Xj(y.prevProp,b);let E=A||m===l&&y.isActive&&!T&&_||g>x&&_,C=!1;const S=Array.isArray(b)?b:[b];let R=S.reduce(s(m),{});w===!1&&(R={});const{prevResolvedValues:D={}}=y,F={...D,...R},O=j=>{E=!0,f.has(j)&&(C=!0,f.delete(j)),y.needsAnimating[j]=!0;const N=t.getValue(j);N&&(N.liveStyle=!1)};for(const j in F){const N=R[j],B=D[j];if(p.hasOwnProperty(j))continue;let q=!1;dx(N)&&dx(B)?q=!XA(N,B):q=N!==B,q?N!=null?O(j):f.add(j):N!==void 0&&f.has(j)?O(j):y.protectedKeys[j]=!0}y.prevProp=b,y.prevResolvedValues=R,y.isActive&&(p={...p,...R}),i&&t.blockInitialAnimation&&(E=!1),E&&(!(T&&A)||C)&&h.push(...S.map(j=>({animation:j,options:{type:m}})))}if(f.size){const g={};f.forEach(m=>{const y=t.getBaseTarget(m),b=t.getValue(m);b&&(b.liveStyle=!0),g[m]=y??null}),h.push({animation:g})}let v=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=rw(),i=!0}}}function Xj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XA(e,t):!1}function xo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rw(){return{animate:xo(!0),whileInView:xo(),whileHover:xo(),whileTap:xo(),whileDrag:xo(),whileFocus:xo(),exit:xo()}}class ho{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $j extends ho{constructor(e){super(e),e.animationState||(e.animationState=Wj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let qj=0;class Yj extends ho{constructor(){super(...arguments),this.id=qj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Kj={animation:{Feature:$j},exit:{Feature:Yj}};function uy(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const ji={x:!1,y:!1};function kC(){return ji.x||ji.y}function ow(t){return e=>{e.pointerType==="touch"||kC()||t(e)}}function Zj(t,e,n={}){const i=new AbortController,s={passive:!0,...n,signal:i.signal},r=ow(o=>{const{target:a}=o,l=e(o);if(!l||!a)return;const c=ow(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,s)});return uy(t).forEach(o=>{o.addEventListener("pointerenter",r,s)}),()=>i.abort()}function Qj(t){return t==="x"||t==="y"?ji[t]?null:(ji[t]=!0,()=>{ji[t]=!1}):ji.x||ji.y?null:(ji.x=ji.y=!0,()=>{ji.x=ji.y=!1})}const OC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Bu(t){return{point:{x:t.pageX,y:t.pageY}}}const Jj=t=>e=>OC(e)&&t(e,Bu(e));function Qs(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function eo(t,e,n,i){return Qs(t,e,Jj(n),i)}const aw=(t,e)=>Math.abs(t-e);function eF(t,e){const n=aw(t.x,e.x),i=aw(t.y,e.y);return Math.sqrt(n**2+i**2)}class jC{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=tm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=eF(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:x}=h,{timestamp:v}=Zt;this.history.push({...x,timestamp:v});const{onStart:g,onMove:m}=this.handlers;f||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=em(f,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=tm(h.type==="pointercancel"?this.lastMoveEventInfo:em(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),x&&x(h,g)},!OC(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const o=Bu(e),a=em(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Zt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,tm(a,this.history)),this.removeListeners=Jr(eo(this.contextWindow,"pointermove",this.handlePointerMove),eo(this.contextWindow,"pointerup",this.handlePointerUp),eo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function em(t,e){return e?{point:e(t.point)}:t}function lw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tm({point:t},e){return{point:t,delta:lw(t,FC(e)),offset:lw(t,tF(e)),velocity:nF(e,.1)}}function tF(t){return t[0]}function FC(t){return t[t.length-1]}function nF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=FC(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>nr(e)));)n--;if(!i)return{x:0,y:0};const r=ir(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Da(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const UC=1e-4,iF=1-UC,sF=1+UC,BC=.01,rF=0-BC,oF=0+BC;function ui(t){return t.max-t.min}function aF(t,e,n){return Math.abs(t-e)<=n}function cw(t,e,n,i=.5){t.origin=i,t.originPoint=kt(e.min,e.max,t.origin),t.scale=ui(n)/ui(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=iF&&t.scale<=sF||isNaN(t.scale))&&(t.scale=1),(t.translate>=rF&&t.translate<=oF||isNaN(t.translate))&&(t.translate=0)}function Bc(t,e,n,i){cw(t.x,e.x,n.x,i?i.originX:void 0),cw(t.y,e.y,n.y,i?i.originY:void 0)}function uw(t,e,n){t.min=n.min+e.min,t.max=t.min+ui(e)}function lF(t,e,n){uw(t.x,e.x,n.x),uw(t.y,e.y,n.y)}function dw(t,e,n){t.min=e.min-n.min,t.max=t.min+ui(e)}function zc(t,e,n){dw(t.x,e.x,n.x),dw(t.y,e.y,n.y)}function cF(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?kt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?kt(n,t,i.max):Math.min(t,n)),t}function hw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uF(t,{top:e,left:n,bottom:i,right:s}){return{x:hw(t.x,n,s),y:hw(t.y,e,i)}}function fw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function dF(t,e){return{x:fw(t.x,e.x),y:fw(t.y,e.y)}}function hF(t,e){let n=.5;const i=ui(t),s=ui(e);return s>i?n=Ko(e.min,e.max-i,t.min):i>s&&(n=Ko(t.min,t.max-s,e.min)),fr(0,1,n)}function fF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sx=.35;function pF(t=Sx){return t===!1?t=0:t===!0&&(t=Sx),{x:pw(t,"left","right"),y:pw(t,"top","bottom")}}function pw(t,e,n){return{min:mw(t,e),max:mw(t,n)}}function mw(t,e){return typeof t=="number"?t:t[e]||0}const gw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:gw(),y:gw()}),xw=()=>({min:0,max:0}),Gt=()=>({x:xw(),y:xw()});function _i(t){return[t("x"),t("y")]}function zC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function mF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function nm(t){return t===void 0||t===1}function Tx({scale:t,scaleX:e,scaleY:n}){return!nm(t)||!nm(e)||!nm(n)}function Ao(t){return Tx(t)||VC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function VC(t){return vw(t.x)||vw(t.y)}function vw(t){return t&&t!=="0%"}function af(t,e,n){const i=t-n,s=e*i;return n+s}function yw(t,e,n,i,s){return s!==void 0&&(t=af(t,s,i)),af(t,n,i)+e}function Ex(t,e=0,n=1,i,s){t.min=yw(t.min,e,n,i,s),t.max=yw(t.max,e,n,i,s)}function HC(t,{x:e,y:n}){Ex(t.x,e.translate,e.scale,e.originPoint),Ex(t.y,n.translate,n.scale,n.originPoint)}const bw=.999999999999,_w=1.0000000000001;function xF(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let r,o;for(let a=0;a<s;a++){r=n[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ja(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,HC(t,o)),i&&Ao(r.latestValues)&&ja(t,r.latestValues))}e.x<_w&&e.x>bw&&(e.x=1),e.y<_w&&e.y>bw&&(e.y=1)}function Oa(t,e){t.min=t.min+e,t.max=t.max+e}function ww(t,e,n,i,s=.5){const r=kt(t.min,t.max,s);Ex(t,e,n,r,i)}function ja(t,e){ww(t.x,e.x,e.scaleX,e.scale,e.originX),ww(t.y,e.y,e.scaleY,e.scale,e.originY)}function GC(t,e){return zC(gF(t.getBoundingClientRect(),e))}function vF(t,e,n){const i=GC(t,n),{scroll:s}=e;return s&&(Oa(i.x,s.offset.x),Oa(i.y,s.offset.y)),i}const WC=({current:t})=>t?t.ownerDocument.defaultView:null,yF=new WeakMap;class bF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bu(d).point)},r=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:x}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qj(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(g=>{let m=this.getAxisMotionValue(g).get()||0;if(ws.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[g];b&&(m=ui(b)*(parseFloat(m)/100))}}this.originPoint[g]=m}),x&&rt.postRender(()=>x(d,h)),_x(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=_F(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>_i(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jC(e,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:WC(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&rt.postRender(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!vd(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=cF(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;n&&Da(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=uF(s.layoutBox,n):this.constraints=!1,this.elastic=pF(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&_i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fF(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Da(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=vF(i,s.root,this.visualElement.getTransformPagePoint());let o=dF(s.layout.layoutBox,r);if(n){const a=n(mF(o));this.hasMutatedConstraints=!!a,a&&(o=zC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=_i(d=>{if(!vd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:i?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return _x(this.visualElement,e),i.start(ry(e,i,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:i}=this.getProps();if(!vd(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];r.set(e[n]-kt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Da(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_i(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=hF({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),_i(o=>{if(!vd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(kt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;yF.set(this.visualElement,this);const e=this.visualElement.current,n=eo(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Da(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),rt.read(i);const o=Qs(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(_i(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=Sx,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function vd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _F(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wF extends ho{constructor(e){super(e),this.removeGroupControls=un,this.removeListeners=un,this.controls=new bF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||un}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sw=t=>(e,n)=>{t&&rt.postRender(()=>t(e,n))};class SF extends ho{constructor(){super(...arguments),this.removePointerDownListener=un}onPointerDown(e){this.session=new jC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Sw(e),onStart:Sw(n),onMove:i,onEnd:(r,o)=>{delete this.session,s&&rt.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=eo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const np=M.createContext(null);function TF(){const t=M.useContext(np);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,s=M.useId();M.useEffect(()=>i(s),[]);const r=M.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,r]:[!0]}const xu=M.createContext({}),XC=M.createContext({}),fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=Tw(t,e.target.x),i=Tw(t,e.target.y);return`${n}% ${i}%`}},EF={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=ao.parse(t);if(s.length>5)return i;const r=ao.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=kt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),r(s)}},lf={};function MF(t){Object.assign(lf,t)}const{schedule:dy,cancel:lX}=$A(queueMicrotask,!1);class AF extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;MF(CF),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||rt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $C(t){const[e,n]=TF(),i=M.useContext(xu);return u.jsx(AF,{...t,layoutGroup:i,switchLayoutGroup:M.useContext(XC),isPresent:e,safeToRemove:n})}const CF={borderRadius:{...lc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lc,borderTopRightRadius:lc,borderBottomLeftRadius:lc,borderBottomRightRadius:lc,boxShadow:EF},qC=["TopLeft","TopRight","BottomLeft","BottomRight"],PF=qC.length,Ew=t=>typeof t=="string"?parseFloat(t):t,Mw=t=>typeof t=="number"||Ue.test(t);function RF(t,e,n,i,s,r){s?(t.opacity=kt(0,n.opacity!==void 0?n.opacity:1,NF(i)),t.opacityExit=kt(e.opacity!==void 0?e.opacity:1,0,IF(i))):r&&(t.opacity=kt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<PF;o++){const a=`border${qC[o]}Radius`;let l=Aw(e,a),c=Aw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Mw(l)===Mw(c)?(t[a]=Math.max(kt(Ew(l),Ew(c),i),0),(ws.test(c)||ws.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,i))}function Aw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NF=YC(0,.5,eC),IF=YC(.5,.95,un);function YC(t,e,n){return i=>i<t?0:i>e?1:n(Ko(t,e,i))}function Cw(t,e){t.min=e.min,t.max=e.max}function yi(t,e){Cw(t.x,e.x),Cw(t.y,e.y)}function Pw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Rw(t,e,n,i,s){return t-=e,t=af(t,1/n,i),s!==void 0&&(t=af(t,1/s,i)),t}function LF(t,e=0,n=1,i=.5,s,r=t,o=t){if(ws.test(e)&&(e=parseFloat(e),e=kt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=kt(r.min,r.max,i);t===r&&(a-=e),t.min=Rw(t.min,e,n,a,s),t.max=Rw(t.max,e,n,a,s)}function Nw(t,e,[n,i,s],r,o){LF(t,e[n],e[i],e[s],e.scale,r,o)}const DF=["x","scaleX","originX"],kF=["y","scaleY","originY"];function Iw(t,e,n,i){Nw(t.x,e,DF,n?n.x:void 0,i?i.x:void 0),Nw(t.y,e,kF,n?n.y:void 0,i?i.y:void 0)}function Lw(t){return t.translate===0&&t.scale===1}function KC(t){return Lw(t.x)&&Lw(t.y)}function Dw(t,e){return t.min===e.min&&t.max===e.max}function OF(t,e){return Dw(t.x,e.x)&&Dw(t.y,e.y)}function kw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ZC(t,e){return kw(t.x,e.x)&&kw(t.y,e.y)}function Ow(t){return ui(t.x)/ui(t.y)}function jw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jF{constructor(){this.members=[]}add(e){oy(this.members,e),e.scheduleRender()}remove(e){if(ay(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FF(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),x&&(i+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const UF=(t,e)=>t.depth-e.depth;class BF{constructor(){this.children=[],this.isDirty=!1}add(e){oy(this.children,e),this.isDirty=!0}remove(e){ay(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UF),this.isDirty=!1,this.children.forEach(e)}}function ph(t){const e=ln(t)?t.get():t;return Pj(e)?e.toValue():e}function zF(t,e){const n=Ss.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(is(i),t(r-e))};return rt.read(i,!0),()=>is(i)}function VF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function HF(t,e,n){const i=ln(t)?t:ms(t);return i.start(ry("",i,e,n)),i.animation}const Co={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ec=typeof window<"u"&&window.MotionDebug!==void 0,im=["","X","Y","Z"],GF={visibility:"hidden"},Fw=1e3;let WF=0;function sm(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function QC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=IC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(s||r))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&QC(i)}function JC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=WF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ec&&(Co.totalNodes=Co.resolvedTargetDeltas=Co.recalculatedProjection=0),this.nodes.forEach(qF),this.nodes.forEach(JF),this.nodes.forEach(eU),this.nodes.forEach(YF),Ec&&window.MotionDebug.record(Co)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BF)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ly),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VF(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=zF(f,250),fh.hasAnimatedSinceResize&&(fh.hasAnimatedSinceResize=!1,this.nodes.forEach(Bw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||rU,{onLayoutAnimationStart:g,onLayoutAnimationComplete:m}=d.getProps(),y=!this.targetLayout||!ZC(this.targetLayout,x)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const _={...Gv(v,"layout"),onPlay:g,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||Bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uw);return}this.isUpdating||this.nodes.forEach(ZF),this.isUpdating=!1,this.nodes.forEach(QF),this.nodes.forEach(XF),this.nodes.forEach($F),this.clearAllSnapshots();const a=Ss.now();Zt.delta=fr(0,1e3/60,a-Zt.timestamp),Zt.timestamp=a,Zt.isProcessing=!0,Yp.update.process(Zt),Yp.preRender.process(Zt),Yp.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KF),this.sharedNodes.forEach(nU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!KC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Ao(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Gt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(aU))){const{scroll:d}=this.root;d&&(Oa(l.x,d.offset.x),Oa(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Gt();if(yi(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&yi(l,o),Oa(l.x,h.offset.x),Oa(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Gt();yi(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ja(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ao(d.latestValues)&&ja(l,d.latestValues)}return Ao(this.latestValues)&&ja(l,this.latestValues),l}removeTransform(o){const a=Gt();yi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ao(c.latestValues))continue;Tx(c.latestValues)&&c.updateSnapshot();const d=Gt(),h=c.measurePageBox();yi(d,h),Iw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ao(this.latestValues)&&Iw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),zc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),HC(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),zc(this.relativeTargetOrigin,this.target,p.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ec&&Co.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tx(this.parent.latestValues)||VC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;yi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;xF(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Gt());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pw(this.prevProjectionDelta.x,this.projectionDelta.x),Pw(this.prevProjectionDelta.y,this.projectionDelta.y)),Bc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ec&&Co.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Gt(),p=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=p!==x,g=this.getStack(),m=!g||g.members.length<=1,y=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(sU));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const w=_/1e3;zw(h.x,o.x,w),zw(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iU(this.relativeTarget,this.relativeTargetOrigin,f,w),b&&OF(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Gt()),yi(b,this.relativeTarget)),v&&(this.animationValues=d,RF(d,c,this.latestValues,w,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{fh.hasAnimatedSinceResize=!0,this.currentAnimation=HF(0,Fw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&e2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Gt();const h=ui(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=ui(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}yi(a,l),ja(a,d),Bc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jF),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&sm("z",o,c,this.animationValues);for(let d=0;d<im.length;d++)sm(`rotate${im[d]}`,o,c,this.animationValues),sm(`skew${im[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return GF;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ph(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ph(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ao(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=FF(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:p,y:x}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in lf){if(f[v]===void 0)continue;const{correct:g,applyTo:m}=lf[v],y=c.transform==="none"?f[v]:g(f[v],h);if(m){const b=m.length;for(let _=0;_<b;_++)c[m[_]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=h===this?ph(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Uw),this.root.sharedNodes.clear()}}}function XF(t){t.updateLayout()}function $F(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:r}=t.options,o=n.source!==t.layout.source;r==="size"?_i(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=ui(f);f.min=i[h].min,f.max=f.min+p}):e2(r,n.layoutBox,i)&&_i(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=ui(i[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=ka();Bc(a,i,n.layoutBox);const l=ka();o?Bc(l,t.applyTransform(s,!0),n.measuredBox):Bc(l,i,n.layoutBox);const c=!KC(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=Gt();zc(x,n.layoutBox,f.layoutBox);const v=Gt();zc(v,i,p.layoutBox),ZC(x,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function qF(t){Ec&&Co.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function KF(t){t.clearSnapshot()}function Uw(t){t.clearMeasurements()}function ZF(t){t.isLayoutDirty=!1}function QF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JF(t){t.resolveTargetDelta()}function eU(t){t.calcProjection()}function tU(t){t.resetSkewAndRotation()}function nU(t){t.removeLeadSnapshot()}function zw(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Vw(t,e,n,i){t.min=kt(e.min,n.min,i),t.max=kt(e.max,n.max,i)}function iU(t,e,n,i){Vw(t.x,e.x,n.x,i),Vw(t.y,e.y,n.y,i)}function sU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rU={duration:.45,ease:[.4,0,.1,1]},Hw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Gw=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:un;function Ww(t){t.min=Gw(t.min),t.max=Gw(t.max)}function oU(t){Ww(t.x),Ww(t.y)}function e2(t,e,n){return t==="position"||t==="preserve-aspect"&&!aF(Ow(e),Ow(n),.2)}function aU(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const lU=JC({attachResizeListener:(t,e)=>Qs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rm={current:void 0},t2=JC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rm.current){const t=new lU({});t.mount(window),t.setOptions({layoutScroll:!0}),rm.current=t}return rm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cU={pan:{Feature:SF},drag:{Feature:wF,ProjectionNode:t2,MeasureLayout:$C}};function Xw(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n);const s=i[n?"onHoverStart":"onHoverEnd"];s&&rt.postRender(()=>s(e,Bu(e)))}class uU extends ho{mount(){const{current:e,props:n}=this.node;e&&(this.unmount=Zj(e,i=>(Xw(this.node,i,!0),s=>Xw(this.node,s,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class dU extends ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jr(Qs(this.node.current,"focus",()=>this.onFocus()),Qs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const n2=(t,e)=>e?t===e?!0:n2(t,e.parentElement):!1;function om(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Bu(n))}class hU extends ho{constructor(){super(...arguments),this.removeStartListeners=un,this.removeEndListeners=un,this.removeAccessibleListeners=un,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),r=eo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!n2(this.node.current,a.target)?d:c;f&&rt.update(()=>f(a,l))},{passive:!(i.onTap||i.onPointerUp)}),o=eo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Jr(r,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=r=>{if(r.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||om("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&rt.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Qs(this.node.current,"keyup",o),om("down",(a,l)=>{this.startPress(a,l)})},n=Qs(this.node.current,"keydown",e),i=()=>{this.isPressing&&om("cancel",(r,o)=>this.cancelPress(r,o))},s=Qs(this.node.current,"blur",i);this.removeAccessibleListeners=Jr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&rt.postRender(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&rt.postRender(()=>i(e,n))}mount(){const e=this.node.getProps(),n=eo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Qs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jr(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Mx=new WeakMap,am=new WeakMap,fU=t=>{const e=Mx.get(t.target);e&&e(t)},pU=t=>{t.forEach(fU)};function mU({root:t,...e}){const n=t||document;am.has(n)||am.set(n,{});const i=am.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(pU,{root:t,...e})),i[s]}function gU(t,e,n){const i=mU(e);return Mx.set(t,n),i.observe(t),()=>{Mx.delete(t),i.unobserve(t)}}const xU={some:0,all:1};class vU extends ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:xU[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return gU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yU(e,n))&&this.startObserver()}unmount(){}}function yU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bU={inView:{Feature:vU},tap:{Feature:hU},focus:{Feature:dU},hover:{Feature:uU}},_U={layout:{ProjectionNode:t2,MeasureLayout:$C}},zu=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ip=M.createContext({}),hy=typeof window<"u",Gl=hy?M.useLayoutEffect:M.useEffect,i2=M.createContext({strict:!1});function wU(t,e,n,i,s){var r,o;const{visualElement:a}=M.useContext(ip),l=M.useContext(i2),c=M.useContext(np),d=M.useContext(zu).reducedMotion,h=M.useRef();i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=M.useContext(XC);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&SU(h.current,n,s,p);const x=M.useRef(!1);M.useInsertionEffect(()=>{f&&x.current&&f.update(n,c)});const v=n[NC],g=M.useRef(!!v&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return Gl(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),dy.render(f.render),g.current&&f.animationState&&f.animationState.animateChanges())}),M.useEffect(()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),g.current=!1))}),f}function SU(t,e,n,i){const{layoutId:s,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:s2(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||a&&Da(a),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function s2(t){if(t)return t.options.allowProjection!==!1?t.projection:s2(t.parent)}function TU(t,e,n){return M.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Da(n)&&(n.current=i))},[e])}function sp(t){return Qf(t.animate)||Hv.some(e=>pu(t[e]))}function r2(t){return!!(sp(t)||t.variants)}function EU(t,e){if(sp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||pu(n)?n:void 0,animate:pu(i)?i:void 0}}return t.inherit!==!1?e:{}}function MU(t){const{initial:e,animate:n}=EU(t,M.useContext(ip));return M.useMemo(()=>({initial:e,animate:n}),[$w(e),$w(n)])}function $w(t){return Array.isArray(t)?t.join(" "):t}const qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const t in qw)wl[t]={isEnabled:e=>qw[t].some(n=>!!e[n])};function AU(t){for(const e in t)wl[e]={...wl[e],...t[e]}}const CU=Symbol.for("motionComponentSymbol");function PU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){t&&AU(t);function r(a,l){let c;const d={...M.useContext(zu),...a,layoutId:RU(a)},{isStatic:h}=d,f=MU(a),p=i(a,h);if(!h&&hy){NU();const x=IU(d);c=x.MeasureLayout,f.visualElement=wU(s,p,d,e,x.ProjectionNode)}return u.jsxs(ip.Provider,{value:f,children:[c&&f.visualElement?u.jsx(c,{visualElement:f.visualElement,...d}):null,n(s,a,TU(p,f.visualElement,l),p,h,f.visualElement)]})}const o=M.forwardRef(r);return o[CU]=s,o}function RU({layoutId:t}){const e=M.useContext(xu).id;return e&&t!==void 0?e+"-"+t:t}function NU(t,e){M.useContext(i2).strict}function IU(t){const{drag:e,layout:n}=wl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const LU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fy(t){return typeof t!="string"||t.includes("-")?!1:!!(LU.indexOf(t)>-1||/[A-Z]/u.test(t))}function o2(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const r in n)t.style.setProperty(r,n[r])}const a2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l2(t,e,n,i){o2(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(a2.has(s)?s:cy(s),e.attrs[s])}function c2(t,{layout:e,layoutId:n}){return na.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lf[t]||t==="opacity")}function py(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(ln(s[o])||e.style&&ln(e.style[o])||c2(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}function u2(t,e,n){const i=py(t,e,n);for(const s in t)if(ln(t[s])||ln(e[s])){const r=ju.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=t[s]}return i}function Wl(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}function DU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,s,r){const o={latestValues:kU(i,s,r,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const d2=t=>(e,n)=>{const i=M.useContext(ip),s=M.useContext(np),r=()=>DU(t,e,i,s);return n?r():Wl(r)};function kU(t,e,n,i){const s={},r=i(t,{});for(const f in r)s[f]=ph(r[f]);let{initial:o,animate:a}=t;const l=sp(t),c=r2(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Qf(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=zv(t,f[p]);if(x){const{transitionEnd:v,transition:g,...m}=x;for(const y in m){let b=m[y];if(Array.isArray(b)){const _=d?b.length-1:0;b=b[_]}b!==null&&(s[y]=b)}for(const y in v)s[y]=v[y]}}}return s}const my=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),h2=()=>({...my(),attrs:{}}),f2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,OU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jU=ju.length;function FU(t,e,n){let i="",s=!0;for(let r=0;r<jU;r++){const o=ju[r],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=f2(a,Zv[o]);if(!l){s=!1;const d=OU[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function gy(t,e,n){const{style:i,vars:s,transformOrigin:r}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(na.has(l)){o=!0;continue}else if(rC(l)){s[l]=c;continue}else{const d=f2(c,Zv[l]);l.startsWith("origin")?(a=!0,r[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=FU(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=r;i.transformOrigin=`${l} ${c} ${d}`}}function Yw(t,e,n){return typeof t=="string"?t:Ue.transform(e+n*t)}function UU(t,e,n){const i=Yw(e,t.x,t.width),s=Yw(n,t.y,t.height);return`${i} ${s}`}const BU={offset:"stroke-dashoffset",array:"stroke-dasharray"},zU={offset:"strokeDashoffset",array:"strokeDasharray"};function VU(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?BU:zU;t[r.offset]=Ue.transform(-i);const o=Ue.transform(e),a=Ue.transform(n);t[r.array]=`${o} ${a}`}function xy(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(gy(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:x}=t;f.transform&&(x&&(p.transform=f.transform),delete f.transform),x&&(s!==void 0||r!==void 0||p.transform)&&(p.transformOrigin=UU(x,s!==void 0?s:.5,r!==void 0?r:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),o!==void 0&&VU(f,o,a,l,!1)}const vy=t=>typeof t=="string"&&t.toLowerCase()==="svg",HU={useVisualState:d2({scrapeMotionValuesFromProps:u2,createRenderState:h2,onMount:(t,e,{renderState:n,latestValues:i})=>{rt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),rt.render(()=>{xy(n,i,vy(e.tagName),t.transformTemplate),l2(e,n)})}})},GU={useVisualState:d2({scrapeMotionValuesFromProps:py,createRenderState:my})};function p2(t,e,n){for(const i in e)!ln(e[i])&&!c2(i,n)&&(t[i]=e[i])}function WU({transformTemplate:t},e){return M.useMemo(()=>{const n=my();return gy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function XU(t,e){const n=t.style||{},i={};return p2(i,n,t),Object.assign(i,WU(t,e)),i}function $U(t,e){const n={},i=XU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const qU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qU.has(t)}let m2=t=>!cf(t);function YU(t){t&&(m2=e=>e.startsWith("on")?!cf(e):t(e))}try{YU(require("@emotion/is-prop-valid").default)}catch{}function KU(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(m2(s)||n===!0&&cf(s)||!e&&!cf(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function ZU(t,e,n,i){const s=M.useMemo(()=>{const r=h2();return xy(r,e,vy(i),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};p2(r,t.style,t),s.style={...r,...s.style}}return s}function QU(t=!1){return(n,i,s,{latestValues:r},o)=>{const l=(fy(n)?ZU:$U)(i,r,o,n),c=KU(i,typeof n=="string",t),d=n!==M.Fragment?{...c,...l,ref:s}:{},{children:h}=i,f=M.useMemo(()=>ln(h)?h.get():h,[h]);return M.createElement(n,{...d,children:f})}}function JU(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...fy(i)?HU:GU,preloadedFeatures:t,useRender:QU(s),createVisualElement:e,Component:i};return PU(o)}}const Ax={current:null},g2={current:!1};function e4(){if(g2.current=!0,!!hy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ax.current=t.matches;t.addListener(e),e()}else Ax.current=!1}function t4(t,e,n){for(const i in e){const s=e[i],r=n[i];if(ln(s))t.addValue(i,s);else if(ln(r))t.addValue(i,ms(s,{owner:t}));else if(r!==s)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,ms(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Kw=new WeakMap,n4=[...lC,_n,ao],i4=t=>n4.find(aC(t)),Zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s4{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ss.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,rt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=sp(n),this.isVariantNode=r2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&ln(p)&&p.set(l[f],!1)}}mount(e){this.current=e,Kw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),g2.current||e4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ax.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kw.delete(this.current),this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=na.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&rt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wl){const n=wl[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Zw.length;i++){const s=Zw[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=e[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=t4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ms(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(iC(s)||nC(s))?s=parseFloat(s):!i4(s)&&ao.test(n)&&(s=gC(e,n)),this.setBaseTarget(e,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=zv(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ln(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ly),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class x2 extends s4{constructor(){super(...arguments),this.KeyframeResolver=xC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function r4(t){return window.getComputedStyle(t)}class o4 extends x2{constructor(){super(...arguments),this.type="html",this.renderInstance=o2}readValueFromInstance(e,n){if(na.has(n)){const i=Qv(n);return i&&i.default||0}else{const i=r4(e),s=(rC(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GC(e,n)}build(e,n,i){gy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return py(e,n,i)}}class a4 extends x2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(na.has(n)){const i=Qv(n);return i&&i.default||0}return n=a2.has(n)?n:cy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return u2(e,n,i)}build(e,n,i){xy(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,s){l2(e,n,i,s)}mount(e){this.isSVGTag=vy(e.tagName),super.mount(e)}}const l4=(t,e)=>fy(t)?new a4(e):new o4(e,{allowProjection:t!==M.Fragment}),c4=JU({...Kj,...bU,...cU,..._U},l4),he=Yk(c4);class u4 extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d4({children:t,isPresent:e}){const n=M.useId(),i=M.useRef(null),s=M.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=M.useContext(zu);return M.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const d=document.createElement("style");return r&&(d.nonce=r),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),u.jsx(u4,{isPresent:e,childRef:i,sizeRef:s,children:M.cloneElement(t,{ref:i})})}const h4=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o})=>{const a=Wl(f4),l=M.useId(),c=M.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;i&&i()},[a,i]),d=M.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),r?[Math.random(),c]:[n,c]);return M.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=u.jsx(d4,{isPresent:n,children:t})),u.jsx(np.Provider,{value:d,children:t})};function f4(){return new Map}const yd=t=>t.key||"";function Qw(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const v2=({children:t,exitBeforeEnter:e,custom:n,initial:i=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:o="sync"})=>{const a=M.useMemo(()=>Qw(t),[t]),l=a.map(yd),c=M.useRef(!0),d=M.useRef(a),h=Wl(()=>new Map),[f,p]=M.useState(a),[x,v]=M.useState(a);Gl(()=>{c.current=!1,d.current=a;for(let y=0;y<x.length;y++){const b=yd(x[y]);l.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[x,l.length,l.join("-")]);const g=[];if(a!==f){let y=[...a];for(let b=0;b<x.length;b++){const _=x[b],w=yd(_);l.includes(w)||(y.splice(b,0,_),g.push(_))}o==="wait"&&g.length&&(y=g),v(Qw(y)),p(a);return}const{forceRender:m}=M.useContext(xu);return u.jsx(u.Fragment,{children:x.map(y=>{const b=yd(y),_=a===x||l.includes(b),w=()=>{if(h.has(b))h.set(b,!0);else return;let T=!0;h.forEach(A=>{A||(T=!1)}),T&&(m==null||m(),v(d.current),s&&s())};return u.jsx(h4,{isPresent:_,initial:!c.current||i?void 0:!1,custom:_?void 0:n,presenceAffectsLayout:r,mode:o,onExitComplete:_?void 0:w,children:y},b)})})},p4=M.createContext(null);function m4(){const t=M.useRef(!1);return Gl(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function g4(){const t=m4(),[e,n]=M.useState(0),i=M.useCallback(()=>{t.current&&n(e+1)},[e]);return[M.useCallback(()=>rt.postRender(i),[i]),e]}const x4=t=>!t.isLayoutDirty&&t.willUpdate(!1);function Jw(){const t=new Set,e=new WeakMap,n=()=>t.forEach(x4);return{add:i=>{t.add(i),e.set(i,i.addEventListener("willUpdate",n))},remove:i=>{t.delete(i);const s=e.get(i);s&&(s(),e.delete(i)),n()},dirty:n}}const y2=t=>t===!0,v4=t=>y2(t===!0)||t==="id",y4=({children:t,id:e,inherit:n=!0})=>{const i=M.useContext(xu),s=M.useContext(p4),[r,o]=g4(),a=M.useRef(null),l=i.id||s;a.current===null&&(v4(n)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:y2(n)&&i.group||Jw()});const c=M.useMemo(()=>({...a.current,forceRender:r}),[o]);return u.jsx(xu.Provider,{value:c,children:t})};function yy(t){const e=Wl(()=>ms(t)),{isStatic:n}=M.useContext(zu);if(n){const[,i]=M.useState(t);M.useEffect(()=>e.on("change",i),[])}return e}function b2(t,e){const n=yy(e()),i=()=>n.set(e());return i(),Gl(()=>{const s=()=>rt.preRender(i,!1,!0),r=t.map(o=>o.on("change",s));return()=>{r.forEach(o=>o()),is(i)}}),n}const b4=t=>t&&typeof t=="object"&&t.mix,_4=t=>b4(t)?t.mix:void 0;function w4(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],s=t[1+n],r=t[2+n],o=t[3+n],a=iy(s,r,{mixer:_4(r[0]),...o});return e?a(i):a}function S4(t){Uc.current=[],t();const e=b2(Uc.current,t);return Uc.current=void 0,e}function eS(t,e,n,i){if(typeof t=="function")return S4(t);const s=typeof e=="function"?e:w4(e,n,i);return Array.isArray(t)?tS(t,s):tS([t],([r])=>s(r))}function tS(t,e){const n=Wl(()=>[]);return b2(t,()=>{n.length=0;const i=t.length;for(let s=0;s<i;s++)n[s]=t[s].get();return e(n)})}function nS(t){return typeof t=="number"?t:parseFloat(t)}function T4(t,e={}){const{isStatic:n}=M.useContext(zu),i=M.useRef(null),s=yy(ln(t)?nS(t.get()):t),r=M.useRef(s.get()),o=M.useRef(()=>{}),a=()=>{const c=i.current;c&&c.time===0&&c.sample(Zt.delta),l(),i.current=xj({keyframes:[s.get(),r.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:o.current})},l=()=>{i.current&&i.current.stop()};return M.useInsertionEffect(()=>s.attach((c,d)=>n?d(c):(r.current=c,o.current=d,rt.update(a),s.get()),l),[JSON.stringify(e)]),Gl(()=>{if(ln(t))return t.on("change",c=>s.set(nS(c)))},[s]),s}const mh=new WeakMap;let Pr;function E4(t,e){if(e){const{inlineSize:n,blockSize:i}=e[0];return{width:n,height:i}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function M4({target:t,contentRect:e,borderBoxSize:n}){var i;(i=mh.get(t))===null||i===void 0||i.forEach(s=>{s({target:t,contentSize:e,get size(){return E4(t,n)}})})}function A4(t){t.forEach(M4)}function C4(){typeof ResizeObserver>"u"||(Pr=new ResizeObserver(A4))}function P4(t,e){Pr||C4();const n=uy(t);return n.forEach(i=>{let s=mh.get(i);s||(s=new Set,mh.set(i,s)),s.add(e),Pr==null||Pr.observe(i)}),()=>{n.forEach(i=>{const s=mh.get(i);s==null||s.delete(e),s!=null&&s.size||Pr==null||Pr.unobserve(i)})}}const gh=new Set;let Vc;function R4(){Vc=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};gh.forEach(n=>n(e))},window.addEventListener("resize",Vc)}function N4(t){return gh.add(t),Vc||R4(),()=>{gh.delete(t),!gh.size&&Vc&&(Vc=void 0)}}function I4(t,e){return typeof t=="function"?N4(t):P4(t,e)}const L4=50,iS=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),D4=()=>({time:0,x:iS(),y:iS()}),k4={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function sS(t,e,n,i){const s=n[e],{length:r,position:o}=k4[e],a=s.current,l=n.time;s.current=t[`scroll${o}`],s.scrollLength=t[`scroll${r}`]-t[`client${r}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Ko(0,s.scrollLength,s.current);const c=i-l;s.velocity=c>L4?0:ey(s.current-a,c)}function O4(t,e,n){sS(t,"x",e,n),sS(t,"y",e,n),e.time=n}function j4(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(i instanceof HTMLElement)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const r=i.getBoundingClientRect();n.x+=s.left-r.left,n.y+=s.top-r.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:r}=i.getBBox();n.x+=s,n.y+=r;let o=null,a=i.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=i.parentNode;i=o}else break;return n}const F4={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Cx={start:0,center:.5,end:1};function rS(t,e,n=0){let i=0;if(t in Cx&&(t=Cx[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?i=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?i=s/100*document.documentElement.clientWidth:t.endsWith("vh")?i=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(i=e*t),n+i}const U4=[0,0];function B4(t,e,n,i){let s=Array.isArray(t)?t:U4,r=0,o=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,Cx[t]?t:"0"]),r=rS(s[0],n,i),o=rS(s[1],e),r-o}const z4={x:0,y:0};function V4(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function H4(t,e,n){const{offset:i=F4.All}=n,{target:s=t,axis:r="y"}=n,o=r==="y"?"height":"width",a=s!==t?j4(s,t):z4,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:V4(s),c={width:t.clientWidth,height:t.clientHeight};e[r].offset.length=0;let d=!e[r].interpolate;const h=i.length;for(let f=0;f<h;f++){const p=B4(i[f],c[o],l[o],a[r]);!d&&p!==e[r].interpolatorOffsets[f]&&(d=!0),e[r].offset[f]=p}d&&(e[r].interpolate=iy(e[r].offset,MC(i)),e[r].interpolatorOffsets=[...e[r].offset]),e[r].progress=e[r].interpolate(e[r].current)}function G4(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function W4(t,e,n,i={}){return{measure:()=>G4(t,i.target,n),update:s=>{O4(t,n,s),(i.offset||i.target)&&H4(t,n,i)},notify:()=>e(n)}}const cc=new WeakMap,oS=new WeakMap,lm=new WeakMap,aS=t=>t===document.documentElement?window:t;function by(t,{container:e=document.documentElement,...n}={}){let i=lm.get(e);i||(i=new Set,lm.set(e,i));const s=D4(),r=W4(e,t,s,n);if(i.add(r),!cc.has(e)){const a=()=>{for(const f of i)f.measure()},l=()=>{for(const f of i)f.update(Zt.timestamp)},c=()=>{for(const f of i)f.notify()},d=()=>{rt.read(a,!1,!0),rt.read(l,!1,!0),rt.update(c,!1,!0)};cc.set(e,d);const h=aS(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&oS.set(e,I4(e,d)),h.addEventListener("scroll",d,{passive:!0})}const o=cc.get(e);return rt.read(o,!1,!0),()=>{var a;is(o);const l=lm.get(e);if(!l||(l.delete(r),l.size))return;const c=cc.get(e);cc.delete(e),c&&(aS(e).removeEventListener("scroll",c),(a=oS.get(e))===null||a===void 0||a(),window.removeEventListener("resize",c))}}function _2(t,e){let n;const i=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return rt.update(i,!0),()=>is(i)}function X4({source:t,container:e,axis:n="y"}){t&&(e=t);const i={value:0},s=by(r=>{i.value=r[n].progress*100},{container:e,axis:n});return{currentTime:i,cancel:s}}const cm=new Map;function w2({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),cm.has(e)||cm.set(e,{});const i=cm.get(e);return i[n]||(i[n]=RC()?new ScrollTimeline({source:e,axis:n}):X4({source:e,axis:n})),i[n]}function $4(t){return t.length===2}function S2(t){return t&&(t.target||t.offset)}function q4(t,e){return $4(t)||S2(e)?by(n=>{t(n[e.axis].progress,n)},e):_2(t,w2(e))}function Y4(t,e){if(t.flatten(),S2(e))return t.pause(),by(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=w2(e);return t.attachTimeline?t.attachTimeline(n,i=>(i.pause(),_2(s=>{i.time=i.duration*s},n))):un}}function K4(t,{axis:e="y",...n}={}){const i={axis:e,...n};return typeof t=="function"?q4(t,i):Y4(t,i)}function lS(t,e){iO(!!(!e||e.current))}const Z4=()=>({scrollX:ms(0),scrollY:ms(0),scrollXProgress:ms(0),scrollYProgress:ms(0)});function T2({container:t,target:e,layoutEffect:n=!0,...i}={}){const s=Wl(Z4);return(n?Gl:M.useEffect)(()=>(lS("target",e),lS("container",t),K4((o,{x:a,y:l})=>{s.scrollX.set(a.current),s.scrollXProgress.set(a.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...i,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(i.offset)]),s}const Q4={some:0,all:1};function J4(t,e,{root:n,margin:i,amount:s="some"}={}){const r=uy(t),o=new WeakMap,a=c=>{c.forEach(d=>{const h=o.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=e(d);typeof f=="function"?o.set(d.target,f):l.unobserve(d.target)}else h&&(h(d),o.delete(d.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:i,threshold:typeof s=="number"?s:Q4[s]});return r.forEach(c=>l.observe(c)),()=>l.disconnect()}function E2(t,{root:e,margin:n,amount:i,once:s=!1}={}){const[r,o]=M.useState(!1);return M.useEffect(()=>{if(!t.current||s&&r)return;const a=()=>(o(!0),s?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:n,amount:i};return J4(t.current,a,l)},[e,t,n,s,i]),r}function M2({children:t,containerId:e="portal-root"}){const[n,i]=M.useState(null);return M.useEffect(()=>{let s=document.getElementById(e);return s||(s=document.createElement("div"),s.id=e,document.body.appendChild(s)),i(s),()=>{}},[e]),n?Fl.createPortal(t,n):null}const um=[{name:"Solutions",href:"/products",description:"Discover modular booth ecosystems built for instant impact."},{name:"AI Technology",href:"/ai-technology",description:"See how our adaptive AI creates unforgettable experiences."},{name:"Get Ideas",href:"/get-ideas",description:"Browse curated launch playbooks designed for your next event."},{name:"Robotics",href:"/robotics",description:"Step inside autonomous capture labs crafted for futuristic brands."},{name:"Personalized Merch",href:"/personalised-merch",description:"Generate signature keepsakes that ship before your guests get home."},{name:"Our Story",href:"/our-story",description:"Meet the team reimagining photo experiences for 2025 and beyond."}];function fi(){var _;const[t,e]=M.useState(!1),[n,i]=M.useState(!1),{scrollY:s}=T2(),[r,o]=M.useState(0),[a,l]=M.useState(!0),[c,d]=M.useState(!1),h=M.useRef(null),f=M.useRef(null),[p,x]=M.useState(null),[v]=ta(),g=w=>w==="/"?v==="/":v===w||v.startsWith(`${w}/`),m=((_=um.find(({href:w})=>g(w)))==null?void 0:_.name)??null;M.useState("Ideas Hub");const y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:260,damping:30}}},b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06,delayChildren:.12}}};return M.useEffect(()=>(t?(document.body.style.overflow="hidden",document.body.style.touchAction="none"):(document.body.style.overflow="",document.body.style.touchAction=""),()=>{document.body.style.overflow="",document.body.style.touchAction=""}),[t]),M.useEffect(()=>{const w=s.on("change",T=>{i(T>50),T>r&&T>100?l(!1):l(!0),d(T>80),o(T)});return()=>w()},[s,r]),M.useEffect(()=>{t||x(null)},[t]),M.useEffect(()=>{if(!t)return;const w=h.current;if(!w)return;w.scrollTop=0;const T=w.querySelectorAll('a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])'),A=T[0],E=T[T.length-1];if(A!=null&&A.focus)try{A.focus({preventScroll:!0})}catch{A.focus()}const C=S=>{S.key==="Escape"&&(e(!1),requestAnimationFrame(()=>{var R;return(R=f.current)==null?void 0:R.focus()})),S.key==="Tab"&&T.length&&(S.shiftKey&&document.activeElement===A?(S.preventDefault(),E.focus()):!S.shiftKey&&document.activeElement===E&&(S.preventDefault(),A.focus()))};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[t]),u.jsx(u.Fragment,{children:u.jsxs(he.nav,{initial:{opacity:0,y:-24},animate:{y:a?0:-120,opacity:a?1:0,transition:{type:"spring",stiffness:110,damping:26,mass:1.05}},className:"sticky top-0 z-50 px-3 py-3 font-sans text-white sm:px-6 sm:py-4 lg:px-10",children:[u.jsx("div",{className:"mx-auto max-w-7xl",children:u.jsx("div",{className:`relative overflow-hidden rounded-3xl border border-white/12 px-4 sm:px-6 transition-all duration-300 backdrop-blur-xl ${n?"bg-[rgba(10,12,28,0.88)] shadow-[0_10px_28px_rgba(5,7,22,0.35)] py-2.5 sm:py-3":"bg-[rgba(16,19,40,0.75)] shadow-[0_18px_45px_rgba(7,9,26,0.38)] py-3.5 sm:py-4"}`,children:u.jsxs("div",{className:"relative flex items-center justify-between gap-4",children:[u.jsx("div",{className:"flex min-w-0 items-center gap-3",children:u.jsx(Hi,{href:"/",children:u.jsx("a",{"aria-label":"Go to home",className:"group relative flex items-center focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#9b7cff]",children:u.jsx("img",{src:"/images/icon.svg",width:64,height:64,alt:"iBoothme logo",className:"h-12 w-12 sm:h-14 sm:w-14"})})})}),u.jsx("nav",{className:"hidden lg:flex flex-1 justify-center",children:u.jsx(y4,{children:u.jsx("ul",{className:"relative flex items-center gap-1 rounded-full border border-white/10 bg-white/6 px-1.5 py-1 text-sm font-medium text-white/70 shadow-[0_10px_24px_rgba(10,13,35,0.28)]",children:um.map(({name:w,href:T})=>{const A=m===w,E=p===w||!p&&A;return u.jsx("li",{className:"relative",children:u.jsxs("a",{href:T,onMouseEnter:()=>x(w),onMouseLeave:()=>x(null),onFocus:()=>x(w),onBlur:()=>x(null),"aria-current":A?"page":void 0,className:"relative flex items-center gap-1 rounded-full px-4 py-2 text-sm font-semibold tracking-wide text-white/70 transition-all duration-200 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#9b7cff]/70",children:[E&&u.jsx(he.span,{layoutId:"nav-pill",className:"absolute inset-0 rounded-full bg-[#7042D2]/90 shadow-[0_14px_32px_rgba(52,32,122,0.5)] backdrop-blur-md border border-white/15",transition:{type:"spring",stiffness:420,damping:32}}),u.jsx("span",{className:"relative z-10",children:w})]})},w)})})})}),u.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[u.jsx("a",{href:"/contact-us",className:"hidden sm:inline-flex",children:u.jsx($e,{size:"lg",variant:"creativePrimary",className:"rounded-full px-6",children:"Get in Touch"})}),u.jsx($e,{variant:"ghost",size:"icon",className:"inline-flex h-11 w-11 rounded-full border border-white/15 bg-white/5 text-white/90 backdrop-blur-lg hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#9b7cff] lg:hidden",onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,"aria-controls":"mobile-menu",ref:f,"data-testid":"mobile-menu-toggle",children:u.jsx(he.div,{animate:{rotate:t?180:0},transition:{duration:.3},children:t?u.jsx(rx,{size:24}):u.jsx(ND,{size:24})})})]})]})})}),u.jsx(v2,{children:t&&u.jsx(M2,{children:u.jsxs(he.div,{id:"mobile-menu",role:"dialog","aria-modal":"true","aria-labelledby":"mobileMenuTitle",initial:{y:-120,opacity:0},animate:{y:0,opacity:1},exit:{y:-120,opacity:0},transition:{type:"spring",stiffness:170,damping:22,mass:.9},className:"fixed inset-0 z-[60] flex w-screen flex-col lg:hidden",children:[u.jsx(he.div,{className:"absolute inset-0 z-0 bg-[#02030a]/80 backdrop-blur-xl","aria-hidden":"true",onClick:()=>e(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25}}),u.jsxs("div",{ref:h,className:"relative z-10 flex h-[100dvh] w-full flex-col overflow-hidden border border-white/10 bg-[rgba(12,16,34,0.95)] shadow-[0_18px_60px_rgba(4,6,18,0.45)] sm:mx-auto sm:h-[calc(100dvh-2rem)] sm:max-w-[520px] sm:rounded-[28px]",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(180px_120px_at_85%_0%,rgba(90,179,255,0.25),transparent),radial-gradient(220px_160px_at_0%_70%,rgba(112,66,210,0.22),transparent)]"}),u.jsx("div",{className:"relative flex justify-center pt-4",children:u.jsx("span",{className:"h-1.5 w-16 rounded-full bg-white/25"})}),u.jsxs("div",{className:"relative flex items-center justify-between px-5 pt-4 pb-3",children:[u.jsx(Hi,{href:"/",children:u.jsx("a",{"aria-label":"Go to home",onClick:()=>e(!1),className:"inline-flex items-center rounded-2xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#9b7cff]",children:u.jsx("img",{src:"/images/icon.svg",width:48,height:48,alt:"iBoothme logo",className:"h-10 w-10"})})}),u.jsx($e,{variant:"ghost",size:"icon",onClick:()=>e(!1),"aria-label":"Close menu",className:"rounded-full border border-white/10 bg-white/5 text-white hover:bg-white/10",children:u.jsx(rx,{size:24})})]}),u.jsx("h2",{id:"mobileMenuTitle",className:"sr-only",children:"Mobile navigation"}),u.jsxs("div",{className:"relative px-5 pb-4",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.38em] text-white/45",children:"Explore iboothme"}),u.jsx("p",{className:"mt-2 text-xl font-semibold text-white",children:"Find the experience you want to open next."})]}),u.jsx("nav",{className:"relative flex-1 overflow-y-auto px-5 pb-6 pt-1",children:u.jsx(he.div,{className:"flex flex-col gap-2.5",initial:"hidden",animate:"visible",variants:b,children:um.map(({name:w,href:T})=>{const A=m===w;return u.jsxs(he.a,{href:T,onClick:()=>e(!1),"aria-current":A?"page":void 0,variants:y,whileTap:{scale:.98},className:`group relative flex flex-col gap-1.5 overflow-hidden rounded-2xl px-4 py-5 text-left text-white transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#9b7cff] ${A?"bg-[#7042D2]/90 shadow-[0_16px_36px_rgba(18,17,38,0.5)] backdrop-blur-lg border border-white/15":"border border-white/10 bg-white/[0.06] hover:border-white/20 hover:bg-white/[0.1]"}`,children:[A&&u.jsx("span",{className:"pointer-events-none absolute inset-0 bg-white/10 mix-blend-soft-light","aria-hidden":"true"}),u.jsx("div",{className:"relative flex items-center justify-between",children:u.jsx("span",{className:"text-lg font-semibold tracking-wide",children:w})})]},w)})})}),u.jsx("div",{className:"relative space-y-3 px-5 pb-6",children:u.jsx("a",{href:"/contact-us",onClick:()=>e(!1),className:"block",children:u.jsx($e,{className:"w-full rounded-full",size:"lg",variant:"creativePrimary",children:"Get in Touch"})})})]})]},"mobile-menu")})})]})})}function Ni(){const[t,e]=M.useState(!1);return M.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)");e(n.matches);const i=s=>{e(s.matches)};return n.addEventListener("change",i),()=>n.removeEventListener("change",i)},[]),t}function eB(){const t=Ni(),e=M.useRef(null),[n,i]=M.useState({x:0,y:0}),[s,r]=M.useState(!1),[o,a]=M.useState({x:50,y:50}),{scrollYProgress:l}=T2({target:e,offset:["start start","end start"]}),c=eS(l,[0,1],[0,-100]),d=eS(l,[0,.8],[1,0]);M.useEffect(()=>{const p=setTimeout(()=>{r(!0)},t?0:500);return()=>clearTimeout(p)},[t]),M.useEffect(()=>{const p=x=>{if(t)return;const{clientX:v,clientY:g}=x,m=(v/window.innerWidth-.5)*20,y=(g/window.innerHeight-.5)*20;i({x:m,y}),a({x:v/window.innerWidth*100,y:g/window.innerHeight*100})};return window.addEventListener("mousemove",p),()=>window.removeEventListener("mousemove",p)},[t]);const h={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:t?.01:.8,ease:[.19,1,.22,1]}}},f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:t?0:.15,delayChildren:.3}}};return u.jsxs("section",{ref:e,className:"relative min-h-screen max-h-screen overflow-hidden hero-brand flex flex-col justify-end pb-16 md:pb-24 z-0","data-testid":"hero-section",children:[u.jsxs(he.div,{className:`relative z-20 text-center max-w-7xl mx-auto px-6 py-20 transition-all duration-1500 ease-out ${s?"opacity-100":"opacity-0 pointer-events-none"}`,style:{y:t?0:c,opacity:t?1:s?d:0,transform:t?"none":`translate(${n.x*.5}px, ${n.y*.5}px)`},variants:f,initial:"hidden",animate:s?"visible":"hidden",children:[u.jsx(he.div,{className:"mb-2",variants:h}),u.jsx(he.div,{variants:h,className:"mb-6 md:mb-8",children:u.jsxs("p",{className:"text-base sm:text-lg md:text-xl xl:text-2xl text-white/80 max-w-[32ch] sm:max-w-4xl mx-auto leading-relaxed font-regular px-2","data-testid":"hero-description",style:{fontFamily:"var(--font-sans)",textShadow:"0 0 20px rgba(255,255,255,0.1)"},children:["Transforming ",u.jsx("b",{children:"brand activations"})," into viral stories that trend, spread, and stick."]})}),u.jsxs(he.div,{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mb-10 md:mb-12 px-4",variants:h,children:[u.jsxs($e,{size:"lg",variant:"creativePrimary",className:"group w-full sm:w-auto","data-testid":"cta-custom-concept",children:[u.jsx("span",{className:"text-white font-bold",children:"Unlock Ideas"}),u.jsx(iA,{className:"ml-2 group-hover:translate-x-1 transition-transform duration-300",size:18})]}),u.jsx($e,{variant:"creativeSecondary",size:"lg",className:"group w-full sm:w-auto","data-testid":"cta-consultation",children:u.jsx("span",{className:"text-white group-hover:text-white/80 transition-colors font-semibold",children:"Activate Your Event"})})]}),u.jsx(he.div,{variants:h,className:"mt-6 md:mt-8",children:u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("span",{className:"text-white/60 text-xs font-light tracking-widest",children:"SCROLL TO EXPLORE"}),u.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:u.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-bounce"})})]})})]}),u.jsx("style",{children:`
        @keyframes heroGradient {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-6px); }
        }
      `})]})}function tB(t){switch(t){case"sm":return"sm:flex-row";case"md":return"md:flex-row";case"lg":default:return"lg:flex-row"}}function Yi({children:t,breakpoint:e="lg",gap:n=3,mobilePadding:i=!0,className:s}){const r=`gap-${n}`;return u.jsx("div",{className:Pv("flex flex-col items-center justify-center",tB(e),r,i&&"px-3 sm:px-0",s),children:t})}function fo({threshold:t=.1,rootMargin:e="0px 0px -50px 0px"}={}){const[n,i]=M.useState(!1),s=M.useRef(null);return M.useEffect(()=>{const r=new IntersectionObserver(([a])=>{i(a.isIntersecting)},{threshold:t,rootMargin:e}),o=s.current;return o&&r.observe(o),()=>{o&&r.unobserve(o)}},[t,e]),[s,n]}function nB(){Ni();const[t,e]=fo(),n=M.useRef(null);return u.jsx("section",{ref:n,className:"relative overflow-hidden bg-transparent max-w-7xl mx-auto flex items-center justify-center px-4 sm:px-6 py-12 sm:py-14 md:py-16","data-testid":"brand-activation-section","data-section":"brand-activation",style:{minHeight:"100vh"},children:u.jsx(he.div,{className:"backdrop-blur-2xl rounded-xl sm:rounded-2xl md:rounded-3xl bg-white/10 p-5 sm:p-8 md:p-12 w-full",ref:t,initial:"hidden",animate:e?"visible":"hidden",variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsxs("h2",{className:"text-2xl sm:text-4xl md:text-5xl xl:text-6xl font-black leading-tight sm:leading-snug tracking-tight text-black mb-3 sm:mb-4","data-testid":"ai-headline",children:[u.jsx("span",{className:"block",children:"AI designed for"}),u.jsx("span",{className:"block",children:"brand activations"})]}),u.jsx("p",{className:"text-sm sm:text-base md:text-lg xl:text-xl text-black max-w-[36ch] sm:max-w-3xl leading-relaxed mx-auto px-1",children:"Tailored AI solutions that amplify your brand activations."}),u.jsx(Yi,{breakpoint:"md",className:"mt-5 sm:mt-8",children:u.jsx("a",{href:"/ai-technology",className:"inline-block w-full md:w-auto","data-testid":"brand-activation-cta",children:u.jsx($e,{variant:"creativePrimary",size:"lg",className:"group w-full md:w-auto text-base sm:text-lg py-6",children:"Explore our AI Tech"})})})]})})})}const Sl=[{id:"iboothme-x",name:"Iboothme X",meta:"AI Technology • Dubai 2024",description:"AI-powered photo experiences that adapt to every guest with intelligent assessment",image:"/iboothmex.jpg",tier:"Premium",tags:["AI-Powered","Intelligent Assessment"]},{id:"glamdroid",name:"GlamDroid",meta:"Robotic • AI Technology",description:"The unique robotic arm in the world that allows your guests to choose between multiple robotic movements. Soon to be equipped with iboothme AI technology for head detection and perfect shots. Features advanced sensors to protect guests - the arm stops if they cross a safety line.",image:"/glamdroid.jpg",tier:"Premium",tags:["Multiple Movements","AI Head Detection (Coming Soon)"]},{id:"claw-machine",name:"The Claw",meta:"Gaming • Data Collection",description:"Gamified. Branded. Unforgettable. The Claw Machine is a smart engagement tool that captures guest data before they dive into an experience—whether it's a product quiz or a game. Fully branded, it draws people in, gets them interacting, and puts your product in their hands.",image:"/TheClaw.jpg",tier:"Premium",tags:["Gamified Experience","Data Capture"]},{id:"gumball-x",name:"The GumBall",meta:"Interactive • Brand Activation",description:"Interactive brand activation with transparent acrylic balls and digital engagement",image:"/images/gumball-x-purple.png",tier:"Premium",tags:["Digital Quiz Integration","Transparent Acrylic Balls"]},{id:"locker-x",name:"Locker X",meta:"Interactive • Product Distribution",description:"Locker X by iboothme puts your product at the centre of the experience. Guests scan a QR code, engage with a quiz or AI photo, and receive a code. If it's correct, the door unlocks—if not, they get a discount. You can also send the link remotely to drive traffic to your store or event.",image:"/locker-x.jpg",tier:"Premium",tags:["QR Code Integration","Quiz & AI Photo"]},{id:"vending-x",name:"Vending X",meta:"Vending • AI Integration",description:"The iboothme Vending X blends product delivery with brand engagement. Guests interact through a custom experience—quiz, game, or AI photo—before receiving your product. Powered by our latest distribution tech, it can dispense gifts up to the size of a book.",image:"/vendingx.jpg",tier:"Premium",tags:["Product Delivery","Custom Experiences"]},{id:"arcade-x",name:"Arcade X",meta:"Gaming • Brand Engagement",description:"Turn play into product engagement. Arcade X lets your prospects interact with a custom-branded game, built around your campaign. After completing the experience, they drop their email—and we drop your product. Fun, strategic, and built to convert attention into action.",image:"/arcade-x.jpg",tier:"Premium",tags:["Custom Gaming","Brand Engagement"]},{id:"slider-12",name:"120 Slider",meta:"Photo Booth • Compact",description:"Compact sliding photo booth with professional camera system",image:"/images/12-slider-purple.png",tier:"Standard",tags:["Compact Design","Professional Camera"]},{id:"slider-180",name:"180 Booth",meta:"Photo Booth • Dynamic",description:"Semi-circular sliding booth for dynamic photo experiences",image:"/images/180-slider-purple.png",tier:"Premium",tags:["180° Movement","Dynamic Photos"]},{id:"booth-360",name:"360 Booth",meta:"Video Booth • 360°",description:"Full rotation platform for immersive 360-degree content",image:"/images/360-purple.png",tier:"Premium",tags:["360° Rotation","Video Content"]},{id:"catch-baton",name:"Catch The Baton",meta:"Interactive • Gaming",description:"Interactive curved booth for unique photo angles",image:"/images/catch-baton-purple.png",tier:"Standard",tags:["Interactive Gaming","Curved Design"]},{id:"gift-box",name:"GiftBox",meta:"Interactive • Surprise",description:"Compact cube booth with surprise reveal experiences",image:"/GiftBox.jpg",tier:"Standard",tags:["Surprise Element","Compact Cube"]},{id:"scribble-booth",name:"Scribble Booth",meta:"Interactive • Creative",description:"Scribble captures a short video, then invites your guests to draw, write, or add elements directly on top of it using a branded interface. It's interactive, creative, and built to turn every guest into a content creator.",image:"/Scriblebooth.jpg",tier:"Premium",tags:["Video Creation","Interactive Drawing"]},{id:"gobooth",name:"GoBooth X",meta:"Photo Booth • Portable",description:"Portable professional photo booth solution",image:"/images/gobooth-purple.png",tier:"Standard",tags:["Portable Design","Professional Quality"]},{id:"mega-vending",name:"Mega Vending",meta:"Vending • Interactive",description:"Large-scale vending machine with photo booth integration",image:"/images/mega-vending-purple.png",tier:"Premium",tags:["Large Scale","Vending Integration"]},{id:"retro-x",name:"Retro X",meta:"Retro • Immersive",description:"Retro-styled immersive activation system",image:"/images/retro-x.jpg",tier:"Standard",tags:["Retro","Immersive"]}];function cS(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function _y(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:cS(e[i])&&cS(t[i])&&Object.keys(e[i]).length>0&&_y(t[i],e[i])})}const A2={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ts(){const t=typeof document<"u"?document:{};return _y(t,A2),t}const iB={document:A2,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Fn(){const t=typeof window<"u"?window:{};return _y(t,iB),t}function sB(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function rB(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function C2(t,e=0){return setTimeout(t,e)}function uf(){return Date.now()}function oB(t){const e=Fn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function aB(t,e="x"){const n=Fn();let i,s,r;const o=oB(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(s==="none"?"":s)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=r.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?s=r.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function bd(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function lB(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function ii(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const s=t[i];if(s!=null&&!lB(s)){const r=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=r.length;o<a;o+=1){const l=r[o],c=Object.getOwnPropertyDescriptor(s,l);c!==void 0&&c.enumerable&&(bd(e[l])&&bd(s[l])?s[l].__swiper__?e[l]=s[l]:ii(e[l],s[l]):!bd(e[l])&&bd(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:ii(e[l],s[l])):e[l]=s[l])}}}return e}function _d(t,e,n){t.style.setProperty(e,n)}function P2({swiper:t,targetPosition:e,side:n}){const i=Fn(),s=-t.translate;let r=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",c=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,d=()=>{o=new Date().getTime(),r===null&&(r=o);const h=Math.max(Math.min((o-r)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=s+f*(e-s);if(c(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),c(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(d)};d()}function wy(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function gs(t,e=""){const n=Fn(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(s=>s.matches(e)):i}function cB(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function uB(t,e){const n=Fn();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=cB(t,e))),i}function df(t){try{console.warn(t);return}catch{}}function vu(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:sB(e)),n}function dB(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function hB(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Vr(t,e){return Fn().getComputedStyle(t,null).getPropertyValue(e)}function uS(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function fB(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function dS(t,e,n){const i=Fn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Os(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function pB(t){return e=>Math.abs(e)>0&&t.browser&&t.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}function Px(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let dm;function mB(){const t=Fn(),e=Ts();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function R2(){return dm||(dm=mB()),dm}let hm;function gB({userAgent:t}={}){const e=R2(),n=Fn(),i=n.navigator.platform,s=t||n.navigator.userAgent,r={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=i==="Win32";let p=i==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&e.touch&&x.indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!f&&(r.os="android",r.android=!0),(c||h||d)&&(r.os="ios",r.ios=!0),r}function N2(t={}){return hm||(hm=gB(t)),hm}let fm;function xB(){const t=Fn(),e=N2();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=i(),o=r||s&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function I2(){return fm||(fm=xB()),fm}function vB({swiper:t,on:e,emit:n}){const i=Fn();let s=null,r=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{r=i.requestAnimationFrame(()=>{const{width:h,height:f}=t;let p=h,x=f;d.forEach(({contentBoxSize:v,contentRect:g,target:m})=>{m&&m!==t.el||(p=g?g.width:(v[0]||v).inlineSize,x=g?g.height:(v[0]||v).blockSize)}),(p!==h||x!==f)&&o()})}),s.observe(t.el))},l=()=>{r&&i.cancelAnimationFrame(r),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){a();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",c)})}function yB({swiper:t,extendParams:e,on:n,emit:i}){const s=[],r=Fn(),o=(c,d={})=>{const h=r.MutationObserver||r.WebkitMutationObserver,f=new h(p=>{if(t.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const x=function(){i("observerUpdate",p[0])};r.requestAnimationFrame?r.requestAnimationFrame(x):r.setTimeout(x,0)});f.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=fB(t.hostEl);for(let d=0;d<c.length;d+=1)o(c[d])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}},l=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}var bB={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=n?"unshift":"push";return t.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][s](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(...r){i.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(i,r)}return s.__emitterProxy=e,i.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((s,r)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[i].splice(r,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,i,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],i=t.slice(1,t.length),s=e):(n=t[0].events,i=t[0].data,s=t[0].context||e),i.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...i])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,i)})}),e}};function _B(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Vr(i,"padding-left")||0,10)-parseInt(Vr(i,"padding-right")||0,10),n=n-parseInt(Vr(i,"padding-top")||0,10)-parseInt(Vr(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function wB(){const t=this;function e(S,R){return parseFloat(S.getPropertyValue(t.getDirectionLabel(R))||0)}const n=t.params,{wrapperEl:i,slidesEl:s,rtlTranslate:r,wrongRTL:o}=t,a=t.virtual&&n.virtual.enabled,l=a?t.virtual.slides.length:t.slides.length,c=gs(s,`.${t.params.slideClass}, swiper-slide`),d=a?t.virtual.slides.length:c.length;let h=[];const f=[],p=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(t));const g=t.snapGrid.length,m=t.slidesGrid.length,y=t.size-x-v;let b=n.spaceBetween,_=-x,w=0,T=0;if(typeof y>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*y:typeof b=="string"&&(b=parseFloat(b)),t.virtualSize=-b-x-v,c.forEach(S=>{r?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(_d(i,"--swiper-centered-offset-before",""),_d(i,"--swiper-centered-offset-after",""));const A=n.grid&&n.grid.rows>1&&t.grid;A?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let E;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<d;S+=1){E=0;const R=c[S];if(!(R&&(A&&t.grid.updateSlide(S,R,c),Vr(R,"display")==="none"))){if(a&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(E=n.virtual.slidesPerViewAutoSlideSize),E&&R&&(n.roundLengths&&(E=Math.floor(E)),R.style[t.getDirectionLabel("width")]=`${E}px`);else if(n.slidesPerView==="auto"){C&&(R.style[t.getDirectionLabel("width")]="");const D=getComputedStyle(R),F=R.style.transform,O=R.style.webkitTransform;if(F&&(R.style.transform="none"),O&&(R.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?dS(R,"width"):dS(R,"height");else{const G=e(D,"width"),H=e(D,"padding-left"),j=e(D,"padding-right"),N=e(D,"margin-left"),B=e(D,"margin-right"),q=D.getPropertyValue("box-sizing");if(q&&q==="border-box")E=G+N+B;else{const{clientWidth:ee,offsetWidth:xe}=R;E=G+H+j+N+B+(xe-ee)}}F&&(R.style.transform=F),O&&(R.style.webkitTransform=O),n.roundLengths&&(E=Math.floor(E))}else E=(y-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),R&&(R.style[t.getDirectionLabel("width")]=`${E}px`);R&&(R.swiperSlideSize=E),p.push(E),n.centeredSlides?(_=_+E/2+w/2+b,w===0&&S!==0&&(_=_-y/2-b),S===0&&(_=_-y/2-b),Math.abs(_)<1/1e3&&(_=0),n.roundLengths&&(_=Math.floor(_)),T%n.slidesPerGroup===0&&h.push(_),f.push(_)):(n.roundLengths&&(_=Math.floor(_)),(T-Math.min(t.params.slidesPerGroupSkip,T))%t.params.slidesPerGroup===0&&h.push(_),f.push(_),_=_+E+b),t.virtualSize+=E+b,w=E,T+=1}}if(t.virtualSize=Math.max(t.virtualSize,y)+v,r&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+b}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+b}px`),A&&t.grid.updateWrapperSize(E,h),!n.centeredSlides){const S=[];for(let R=0;R<h.length;R+=1){let D=h[R];n.roundLengths&&(D=Math.floor(D)),h[R]<=t.virtualSize-y&&S.push(D)}h=S,Math.floor(t.virtualSize-y)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-y)}if(a&&n.loop){const S=p[0]+b;if(n.slidesPerGroup>1){const R=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=S*n.slidesPerGroup;for(let F=0;F<R;F+=1)h.push(h[h.length-1]+D)}for(let R=0;R<t.virtual.slidesBefore+t.virtual.slidesAfter;R+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+S),f.push(f[f.length-1]+S),t.virtualSize+=S}if(h.length===0&&(h=[0]),b!==0){const S=t.isHorizontal()&&r?"marginLeft":t.getDirectionLabel("marginRight");c.filter((R,D)=>!n.cssMode||n.loop?!0:D!==c.length-1).forEach(R=>{R.style[S]=`${b}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;p.forEach(D=>{S+=D+(b||0)}),S-=b;const R=S>y?S-y:0;h=h.map(D=>D<=0?-x:D>R?R+v:D)}if(n.centerInsufficientSlides){let S=0;p.forEach(D=>{S+=D+(b||0)}),S-=b;const R=(x||0)+(v||0);if(S+R<y){const D=(y-S-R)/2;h.forEach((F,O)=>{h[O]=F-D}),f.forEach((F,O)=>{f[O]=F+D})}}if(Object.assign(t,{slides:c,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){_d(i,"--swiper-centered-offset-before",`${-h[0]}px`),_d(i,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const S=-t.snapGrid[0],R=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+S),t.slidesGrid=t.slidesGrid.map(D=>D+R)}if(d!==l&&t.emit("slidesLengthChange"),h.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==m&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!a&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,R=t.el.classList.contains(S);d<=n.maxBackfaceHiddenSlides?R||t.el.classList.add(S):R&&t.el.classList.remove(S)}}function SB(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let s=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function TB(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const hS=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function EB(t=this&&this.translate||0){const e=this,n=e.params,{slides:i,rtlTranslate:s,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let d=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=i[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),p=-(o-d),x=p+e.slidesSizesGrid[l],v=p>=0&&p<=e.size-e.slidesSizesGrid[l],g=p>=0&&p<e.size-1||x>1&&x<=e.size||p<=0&&x>=e.size;g&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),hS(c,g,n.slideVisibleClass),hS(c,v,n.slideFullyVisibleClass),c.progress=s?-h:h,c.originalProgress=s?-f:f}}function MB(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(i===0)s=0,r=!0,o=!0;else{s=(t-e.minTranslate())/i;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;r=d||s<=0,o=h||s>=1,d&&(s=0),h&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],p=e.slidesGrid[h],x=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=f?a=(v-f)/x:a=(v+x-p)/x,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const pm=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function AB(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:s}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>gs(i,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,c,d;if(r)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=e.find(h=>h.column===s),d=e.find(h=>h.column===s+1),c=e.find(h=>h.column===s-1)):l=e[s];l&&(o||(d=hB(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),c=dB(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(h=>{pm(h,h===l,n.slideActiveClass),pm(h,h===d,n.slideNextClass),pm(h,h===c,n.slidePrevClass)}),t.emitSlidesClasses()}const xh=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let s=i.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},mm=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Rx=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&mm(t,c)});return}const r=s+i-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<s||a>r)&&mm(t,a)}else for(let o=Math.max(s-e,0);o<=Math.min(r+e,n-1);o+=1)o!==s&&(o>r||o<s)&&mm(t,o)};function CB(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let s;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?s=r:i>=e[r]&&i<e[r+1]&&(s=r+1):i>=e[r]&&(s=r);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function PB(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const d=p=>{let x=p-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof l>"u"&&(l=CB(e)),i.indexOf(n)>=0)c=i.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/s.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=d(l);else if(h){const p=e.slides.find(v=>v.column===l);let x=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(p),0)),f=Math.floor(x/s.grid.rows)}else if(e.slides[l]){const p=e.slides[l].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&Rx(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function RB(t,e){const n=this,i=n.params;let s=t.closest(`.${i.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(s=a)});let r=!1,o;if(s){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===s){r=!0,o=a;break}}if(s&&r)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var NB={updateSize:_B,updateSlides:wB,updateAutoHeight:SB,updateSlidesOffset:TB,updateSlidesProgress:EB,updateProgress:MB,updateSlidesClasses:AB,updateActiveIndex:PB,updateClickedSlide:RB};function IB(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:i,translate:s,wrapperEl:r}=e;if(n.virtualTranslate)return i?-s:s;if(n.cssMode)return s;let o=aB(r,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function LB(t,e){const n=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-t:t:l=t,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,s.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:s.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function DB(){return-this.snapGrid[0]}function kB(){return-this.snapGrid[this.snapGrid.length-1]}function OB(t=0,e=this.params.speed,n=!0,i=!0,s){const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let d;if(i&&t>l?d=l:i&&t<c?d=c:d=t,r.updateProgress(d),o.cssMode){const h=r.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!r.support.smoothScroll)return P2({swiper:r,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(d),n&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(d),n&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var jB={getTranslate:IB,setTranslate:LB,minTranslate:DB,maxTranslate:kB,translateTo:OB};function FB(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function L2({swiper:t,runCallbacks:e,direction:n,step:i}){const{activeIndex:s,previousIndex:r}=t;let o=n;o||(s>r?o="next":s<r?o="prev":o="reset"),t.emit(`transition${i}`),e&&o==="reset"?t.emit(`slideResetTransition${i}`):e&&s!==r&&(t.emit(`slideChangeTransition${i}`),o==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`))}function UB(t=!0,e){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),L2({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function BB(t=!0,e){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),L2({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var zB={setTransition:FB,transitionStart:UB,transitionEnd:BB};function VB(t=0,e,n=!0,i,s){typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:x}=r;if(!x&&!i&&!s||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const v=Math.min(r.params.slidesPerGroupSkip,o);let g=v+Math.floor((o-v)/r.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const m=-l[g];if(a.normalizeSlideIndex)for(let A=0;A<c.length;A+=1){const E=-Math.floor(m*100),C=Math.floor(c[A]*100),S=Math.floor(c[A+1]*100);typeof c[A+1]<"u"?E>=C&&E<S-(S-C)/2?o=A:E>=C&&E<S&&(o=A+1):E>=C&&(o=A)}if(r.initialized&&o!==h&&(!r.allowSlideNext&&(f?m>r.translate&&m>r.minTranslate():m<r.translate&&m<r.minTranslate())||!r.allowSlidePrev&&m>r.translate&&m>r.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(m);let y;o>h?y="next":o<h?y="prev":y="reset";const b=r.virtual&&r.params.virtual.enabled;if(!(b&&s)&&(f&&-m===r.translate||!f&&m===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(m),y!=="reset"&&(r.transitionStart(n,y),r.transitionEnd(n,y)),!1;if(a.cssMode){const A=r.isHorizontal(),E=f?m:-m;if(e===0)b&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),b&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[A?"scrollLeft":"scrollTop"]=E})):p[A?"scrollLeft":"scrollTop"]=E,b&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return P2({swiper:r,targetPosition:E,side:A?"left":"top"}),!0;p.scrollTo({[A?"left":"top"]:E,behavior:"smooth"})}return!0}const T=I2().isSafari;return b&&!s&&T&&r.isElement&&r.virtual.update(!1,!1,o),r.setTransition(e),r.setTranslate(m),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,y),e===0?r.transitionEnd(n,y):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(E){!r||r.destroyed||E.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,y))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function HB(t=0,e,n=!0,i){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(r){const v=o*s.params.grid.rows;a=s.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===v).column}else a=s.getSlideIndexByData(o);const l=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c,slidesOffsetBefore:d,slidesOffsetAfter:h}=s.params,f=c||!!d||!!h;let p=s.params.slidesPerView;p==="auto"?p=s.slidesPerViewDynamic():(p=Math.ceil(parseFloat(s.params.slidesPerView,10)),f&&p%2===0&&(p=p+1));let x=l-a<p;if(f&&(x=x||a<Math.ceil(p/2)),i&&f&&s.params.slidesPerView!=="auto"&&!r&&(x=!1),x){const v=f?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?a+1:a-l+1,slideRealIndex:v==="next"?s.realIndex:void 0})}if(r){const v=o*s.params.grid.rows;o=s.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===v).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,i)}),s}function GB(t,e=!0,n){const i=this,{enabled:s,params:r,animating:o}=i;if(!s||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<r.slidesPerGroupSkip?1:a,c=i.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function WB(t,e=!0,n){const i=this,{params:s,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const d=i.virtual&&s.virtual.enabled;if(s.loop){if(c&&!d&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const h=a?i.translate:-i.translate;function f(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const p=f(h),x=r.map(y=>f(y)),v=s.freeMode&&s.freeMode.enabled;let g=r[x.indexOf(p)-1];if(typeof g>"u"&&(s.cssMode||v)){let y;r.forEach((b,_)=>{p>=b&&(y=_)}),typeof y<"u"&&(g=v?r[y]:r[y>0?y-1:y])}let m=0;if(typeof g<"u"&&(m=o.indexOf(g),m<0&&(m=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(m=m-i.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),s.rewind&&i.isBeginning){const y=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(y,t,e,n)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(m,t,e,n)}),!0;return i.slideTo(m,t,e,n)}function XB(t,e=!0,n){const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function $B(t,e=!0,n,i=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let r=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],d=s.snapGrid[a+1];l-c>(d-c)*i&&(r+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],d=s.snapGrid[a];l-c<=(d-c)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,t,e,n)}function qB(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(r):s>(a?(t.slides.length-i)/2-(t.params.grid.rows-1):t.slides.length-i)?(t.loopFix(),s=t.getSlideIndex(gs(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),C2(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var YB={slideTo:VB,slideToLoop:HB,slideNext:GB,slidePrev:WB,slideReset:XB,slideToClosest:$B,slideToClickedSlide:qB};function KB(t,e){const n=this,{params:i,slidesEl:s}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const r=()=>{gs(s,`.${i.slideClass}, swiper-slide`).forEach((x,v)=>{x.setAttribute("data-swiper-slide-index",v)})},o=()=>{const p=gs(s,`.${i.slideBlankClass}`);p.forEach(x=>{x.remove()}),p.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||a)&&o();const l=i.slidesPerGroup*(a?i.grid.rows:1),c=n.slides.length%l!==0,d=a&&n.slides.length%i.grid.rows!==0,h=p=>{for(let x=0;x<p;x+=1){const v=n.isElement?vu("swiper-slide",[i.slideBlankClass]):vu("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(v)}};if(c){if(i.loopAddBlankSlides){const p=l-n.slides.length%l;h(p),n.recalcSlides(),n.updateSlides()}else df("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(d){if(i.loopAddBlankSlides){const p=i.grid.rows-n.slides.length%i.grid.rows;h(p),n.recalcSlides(),n.updateSlides()}else df("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();const f=i.centeredSlides||!!i.slidesOffsetBefore||!!i.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:f?void 0:"next",initial:e})}function ZB({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:i,activeSlideIndex:s,initial:r,byController:o,byMousewheel:a}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:p}=l,{centeredSlides:x,slidesOffsetBefore:v,slidesOffsetAfter:g,initialSlide:m}=p,y=x||!!v||!!g;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){e&&(!y&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):y&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=h,l.emit("loopFix");return}let b=p.slidesPerView;b==="auto"?b=l.slidesPerViewDynamic():(b=Math.ceil(parseFloat(p.slidesPerView,10)),y&&b%2===0&&(b=b+1));const _=p.slidesPerGroupAuto?b:p.slidesPerGroup;let w=y?Math.max(_,Math.ceil(b/2)):_;w%_!==0&&(w+=_-w%_),w+=p.loopAdditionalSlides,l.loopedSlides=w;const T=l.grid&&p.grid&&p.grid.rows>1;c.length<b+w||l.params.effect==="cards"&&c.length<b+w*2?df("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):T&&p.grid.fill==="row"&&df("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const A=[],E=[],C=T?Math.ceil(c.length/p.grid.rows):c.length,S=r&&C-m<b&&!y;let R=S?m:l.activeIndex;typeof s>"u"?s=l.getSlideIndex(c.find(N=>N.classList.contains(p.slideActiveClass))):R=s;const D=n==="next"||!n,F=n==="prev"||!n;let O=0,G=0;const j=(T?c[s].column:s)+(y&&typeof i>"u"?-b/2+.5:0);if(j<w){O=Math.max(w-j,_);for(let N=0;N<w-j;N+=1){const B=N-Math.floor(N/C)*C;if(T){const q=C-B-1;for(let ee=c.length-1;ee>=0;ee-=1)c[ee].column===q&&A.push(ee)}else A.push(C-B-1)}}else if(j+b>C-w){G=Math.max(j-(C-w*2),_),S&&(G=Math.max(G,b-C+m+1));for(let N=0;N<G;N+=1){const B=N-Math.floor(N/C)*C;T?c.forEach((q,ee)=>{q.column===B&&E.push(ee)}):E.push(B)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&c.length<b+w*2&&(E.includes(s)&&E.splice(E.indexOf(s),1),A.includes(s)&&A.splice(A.indexOf(s),1)),F&&A.forEach(N=>{c[N].swiperLoopMoveDOM=!0,f.prepend(c[N]),c[N].swiperLoopMoveDOM=!1}),D&&E.forEach(N=>{c[N].swiperLoopMoveDOM=!0,f.append(c[N]),c[N].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():T&&(A.length>0&&F||E.length>0&&D)&&l.slides.forEach((N,B)=>{l.grid.updateSlide(B,N,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),e){if(A.length>0&&F){if(typeof t>"u"){const N=l.slidesGrid[R],q=l.slidesGrid[R+O]-N;a?l.setTranslate(l.translate-q):(l.slideTo(R+Math.ceil(O),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else if(i){const N=T?A.length/p.grid.rows:A.length;l.slideTo(l.activeIndex+N,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(E.length>0&&D)if(typeof t>"u"){const N=l.slidesGrid[R],q=l.slidesGrid[R-G]-N;a?l.setTranslate(l.translate-q):(l.slideTo(R-G,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-q))}else{const N=T?E.length/p.grid.rows:E.length;l.slideTo(l.activeIndex-N,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=h,l.controller&&l.controller.control&&!o){const N={slideRealIndex:t,direction:n,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(B=>{!B.destroyed&&B.params.loop&&B.loopFix({...N,slideTo:B.params.slidesPerView===p.slidesPerView?e:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...N,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?e:!1})}l.emit("loopFix")}function QB(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(s=>{const r=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[r]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var JB={loopCreate:KB,loopFix:ZB,loopDestroy:QB};function e5(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function t5(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var n5={setGrabCursor:e5,unsetGrabCursor:t5};function i5(t,e=this){function n(i){if(!i||i===Ts()||i===Fn())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(t);return!s&&!i.getRootNode?null:s||n(i.getRootNode().host)}return n(e)}function fS(t,e,n){const i=Fn(),{params:s}=t,r=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return r&&(n<=o||n>=i.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function s5(t){const e=this,n=Ts();let i=t;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){fS(e,i,i.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=i.target;if(r.touchEventsTarget==="wrapper"&&!uB(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);const h=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(f?i5(h,l):l.closest(h))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const p=o.currentX,x=o.currentY;if(!fS(e,i,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=x,s.touchStartTime=uf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let v=!0;l.matches(s.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&n.activeElement.blur();const g=v&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||g)&&!l.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function r5(t){const e=Ts(),n=this,i=n.touchEventsData,{params:s,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!s.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(T=>T.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=c.pageX,h=c.pageY;if(l.preventedByNestedSwiper){r.startX=d,r.startY=h;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:d,startY:h,currentX:d,currentY:h}),i.touchStartTime=uf());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(h<r.startY&&n.translate<=n.maxTranslate()||h>r.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(o&&(d>r.startX&&-n.translate<=n.maxTranslate()||d<r.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<r.startX&&n.translate<=n.maxTranslate()||d>r.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=d,r.currentY=h;const f=r.currentX-r.startX,p=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let T;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:f*f+p*p>=25&&(T=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,i.isScrolling=n.isHorizontal()?T>s.touchAngle:90-T>s.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let x=n.isHorizontal()?f:p,v=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(x=Math.abs(x)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),r.diff=x,x*=s.touchRatio,o&&(x=-x,v=-v);const g=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const m=n.params.loop&&!s.cssMode,y=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(m&&y&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}i.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let b;if(new Date().getTime(),s._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&g!==n.touchesDirection&&m&&y&&Math.abs(x)>=1){Object.assign(r,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=x+i.startTranslate;let _=!0,w=s.resistanceRatio;if(s.touchReleaseOnEdges&&(w=0),x>0?(m&&y&&!b&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(_=!1,s.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+x)**w))):x<0&&(m&&y&&!b&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(_=!1,s.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-x)**w))),_&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function o5(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(w=>w.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=uf(),f=h-n.touchStartTime;if(e.allowClick){const w=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(w&&w[0]||i.target,w),e.emit("tap click",i),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=uf(),C2(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=l?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const x=p>=-e.maxTranslate()&&!e.params.loop;let v=0,g=e.slidesSizesGrid[0];for(let w=0;w<c.length;w+=w<o.slidesPerGroupSkip?1:o.slidesPerGroup){const T=w<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[w+T]<"u"?(x||p>=c[w]&&p<c[w+T])&&(v=w,g=c[w+T]-c[w]):(x||p>=c[w])&&(v=w,g=c[c.length-1]-c[c.length-2])}let m=null,y=null;o.rewind&&(e.isBeginning?y=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const b=(p-c[v])/g,_=v<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(b>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?m:v+_):e.slideTo(v)),e.swipeDirection==="prev"&&(b>1-o.longSwipesRatio?e.slideTo(v+_):y!==null&&b<0&&Math.abs(b)>o.longSwipesRatio?e.slideTo(y):e.slideTo(v))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(v+_):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:v+_),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:v))}}function pS(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=i,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function a5(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function l5(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const r=t.maxTranslate()-t.minTranslate();r===0?s=0:s=(t.translate-t.minTranslate())/r,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function c5(t){const e=this;xh(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function u5(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const D2=(t,e)=>{const n=Ts(),{params:i,el:s,wrapperEl:r,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!s||typeof s=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[l]("click",t.onClick,!0),i.cssMode&&r[l]("scroll",t.onScroll),i.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",pS,!0):t[c]("observerUpdate",pS,!0),s[l]("load",t.onLoad,{capture:!0}))};function d5(){const t=this,{params:e}=t;t.onTouchStart=s5.bind(t),t.onTouchMove=r5.bind(t),t.onTouchEnd=o5.bind(t),t.onDocumentTouchStart=u5.bind(t),e.cssMode&&(t.onScroll=l5.bind(t)),t.onClick=a5.bind(t),t.onLoad=c5.bind(t),D2(t,"on")}function h5(){D2(this,"off")}var f5={attachEvents:d5,detachEvents:h5};const mS=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function p5(){const t=this,{realIndex:e,initialized:n,params:i,el:s}=t,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=Ts(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),c=t.getBreakpoint(r,a,l);if(!c||t.currentBreakpoint===c)return;const h=(c in r?r[c]:void 0)||t.originalParams,f=mS(t,i),p=mS(t,h),x=t.params.grabCursor,v=h.grabCursor,g=i.enabled;f&&!p?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&p&&(s.classList.add(`${i.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),x&&!v?t.unsetGrabCursor():!x&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(T=>{if(typeof h[T]>"u")return;const A=i[T]&&i[T].enabled,E=h[T]&&h[T].enabled;A&&!E&&t[T].disable(),!A&&E&&t[T].enable()});const m=h.direction&&h.direction!==i.direction,y=i.loop&&(h.slidesPerView!==i.slidesPerView||m),b=i.loop;m&&n&&t.changeDirection(),ii(t.params,h);const _=t.params.enabled,w=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),g&&!_?t.disable():!g&&_&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",h),n&&(y?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!b&&w?(t.loopCreate(e),t.updateSlides()):b&&!w&&t.loopDestroy()),t.emit("breakpoint",h)}function m5(t,e="window",n){if(!t||e==="container"&&!n)return;let i=!1;const s=Fn(),r=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var g5={setBreakpoint:p5,getBreakpoint:m5};function x5(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&n.push(e+s)}):typeof i=="string"&&n.push(e+i)}),n}function v5(){const t=this,{classNames:e,params:n,rtl:i,el:s,device:r}=t,o=x5(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function y5(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var b5={addClasses:v5,removeClasses:y5};function _5(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const s=t.slides.length-1,r=t.slidesGrid[s]+t.slidesSizesGrid[s]+i*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var w5={checkOverflow:_5},Nx={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function S5(t,e){return function(i={}){const s=Object.keys(i)[0],r=i[s];if(typeof r!="object"||r===null){ii(e,i);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in r)){ii(e,i);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),ii(e,i)}}const gm={eventsEmitter:bB,update:NB,translate:jB,transition:zB,slide:YB,loop:JB,grabCursor:n5,events:f5,breakpoints:g5,checkOverflow:w5,classes:b5},xm={};let Sy=class Gs{constructor(...e){let n,i;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[n,i]=e,i||(i={}),i=ii({},i),n&&!i.el&&(i.el=n);const s=Ts();if(i.el&&typeof i.el=="string"&&s.querySelectorAll(i.el).length>1){const l=[];return s.querySelectorAll(i.el).forEach(c=>{const d=ii({},i,{el:c});l.push(new Gs(d))}),l}const r=this;r.__swiper__=!0,r.support=R2(),r.device=N2({userAgent:i.userAgent}),r.browser=I2(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],i.modules&&Array.isArray(i.modules)&&r.modules.push(...i.modules);const o={};r.modules.forEach(l=>{l({params:i,swiper:r,extendParams:S5(i,o),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})});const a=ii({},Nx,o);return r.params=ii({},a,xm,i),r.originalParams=ii({},r.params),r.passedParams=ii({},i),r.params&&r.params.on&&Object.keys(r.params.on).forEach(l=>{r.on(l,r.params.on[l])}),r.params&&r.params.onAny&&r.onAny(r.params.onAny),Object.assign(r,{enabled:r.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return r.params.direction==="horizontal"},isVertical(){return r.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,s=gs(n,`.${i.slideClass}, swiper-slide`),r=uS(s[0]);return uS(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=gs(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),o=(i.maxTranslate()-s)*e+s;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);n.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const i=this,{params:s,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let p=c+1;p<r.length;p+=1)r[p]&&!f&&(h+=Math.ceil(r[p].swiperSlideSize),d+=1,h>l&&(f=!0));for(let p=c-1;p>=0;p-=1)r[p]&&!f&&(h+=r[p].swiperSlideSize,d+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<r.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(d+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&xh(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):gs(i,s())[0];return!o&&n.params.createElements&&(o=vu("div",n.params.wrapperClass),i.append(o),gs(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Vr(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Vr(i,"direction")==="rtl"),wrongRTL:Vr(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(r=>{r.complete?xh(n,r):r.addEventListener("load",o=>{xh(n,o.target)})}),Rx(n),n.initialized=!0,Rx(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const i=this,{params:s,el:r,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),n&&(i.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),rB(i)),i.destroyed=!0),null}static extendDefaults(e){ii(xm,e)}static get extendedDefaults(){return xm}static get defaults(){return Nx}static installModule(e){Gs.prototype.__modules__||(Gs.prototype.__modules__=[]);const n=Gs.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Gs.installModule(n)),Gs):(Gs.installModule(e),Gs)}};Object.keys(gm).forEach(t=>{Object.keys(gm[t]).forEach(e=>{Sy.prototype[e]=gm[t][e]})});Sy.use([vB,yB]);const k2=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Zo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ka(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Zo(e[i])&&Zo(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Ka(t[i],e[i]):t[i]=e[i]})}function O2(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function j2(t={}){return t.pagination&&typeof t.pagination.el>"u"}function F2(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function U2(t=""){const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function T5(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function E5({swiper:t,slides:e,passedParams:n,changedParams:i,nextEl:s,prevEl:r,scrollbarEl:o,paginationEl:a}){const l=i.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:c,pagination:d,navigation:h,scrollbar:f,virtual:p,thumbs:x}=t;let v,g,m,y,b,_,w,T;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(v=!0),i.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(g=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||c.pagination===!1)&&d&&!d.el&&(m=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(y=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||r)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(b=!0);const A=E=>{t[E]&&(t[E].destroy(),E==="navigation"?(t.isElement&&(t[E].prevEl.remove(),t[E].nextEl.remove()),c[E].prevEl=void 0,c[E].nextEl=void 0,t[E].prevEl=void 0,t[E].nextEl=void 0):(t.isElement&&t[E].el.remove(),c[E].el=void 0,t[E].el=void 0))};i.includes("loop")&&t.isElement&&(c.loop&&!n.loop?_=!0:!c.loop&&n.loop?w=!0:T=!0),l.forEach(E=>{if(Zo(c[E])&&Zo(n[E]))Object.assign(c[E],n[E]),(E==="navigation"||E==="pagination"||E==="scrollbar")&&"enabled"in n[E]&&!n[E].enabled&&A(E);else{const C=n[E];(C===!0||C===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?C===!1&&A(E):c[E]=n[E]}}),l.includes("controller")&&!g&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),i.includes("children")&&e&&p&&c.virtual.enabled?(p.slides=e,p.update(!0)):i.includes("virtual")&&p&&c.virtual.enabled&&(e&&(p.slides=e),p.update(!0)),i.includes("children")&&e&&c.loop&&(T=!0),v&&x.init()&&x.update(!0),g&&(t.controller.control=c.controller.control),m&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-pagination"),a.part.add("pagination"),t.el.appendChild(a)),a&&(c.pagination.el=a),d.init(),d.render(),d.update()),y&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(c.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),b&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Px(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-prev"),Px(r,t.hostEl.constructor.prevButtonSvg),r.part.add("button-prev"),t.el.appendChild(r))),s&&(c.navigation.nextEl=s),r&&(c.navigation.prevEl=r),h.init(),h.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&t.changeDirection(n.direction,!1),(_||T)&&t.loopDestroy(),(w||T)&&t.loopCreate(),t.update()}function M5(t={},e=!0){const n={on:{}},i={},s={};Ka(n,Nx),n._emitClasses=!0,n.init=!1;const r={},o=k2.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Zo(t[l])?(n[l]={},s[l]={},Ka(n[l],t[l]),Ka(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:r,events:i}}function A5({el:t,nextEl:e,prevEl:n,paginationEl:i,scrollbarEl:s,swiper:r},o){O2(o)&&e&&n&&(r.params.navigation.nextEl=e,r.originalParams.navigation.nextEl=e,r.params.navigation.prevEl=n,r.originalParams.navigation.prevEl=n),j2(o)&&i&&(r.params.pagination.el=i,r.originalParams.pagination.el=i),F2(o)&&s&&(r.params.scrollbar.el=s,r.originalParams.scrollbar.el=s),r.init(t)}function C5(t,e,n,i,s){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&i){const l=i.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),i.length!==n.length&&o("children")}return k2.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Zo(t[l])&&Zo(e[l])){const c=Object.keys(t[l]),d=Object.keys(e[l]);c.length!==d.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const P5=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hf.apply(this,arguments)}function B2(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function z2(t){const e=[];return wt.Children.toArray(t).forEach(n=>{B2(n)?e.push(n):n.props&&n.props.children&&z2(n.props.children).forEach(i=>e.push(i))}),e}function R5(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return wt.Children.toArray(t).forEach(i=>{if(B2(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const s=z2(i.props.children);s.length>0?s.forEach(r=>e.push(r)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function N5(t,e,n){if(!n)return null;const i=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let d=a;d<l;d+=1)d>=r&&d<=o&&c.push(e[i(d)]);return c.map((d,h)=>wt.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function Hc(t,e){return typeof window>"u"?M.useEffect(t,e):M.useLayoutEffect(t,e)}const gS=M.createContext(null),I5=M.createContext(null),yu=M.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:i,onSwiper:s,...r}={},o)=>{let a=!1;const[l,c]=M.useState("swiper"),[d,h]=M.useState(null),[f,p]=M.useState(!1),x=M.useRef(!1),v=M.useRef(null),g=M.useRef(null),m=M.useRef(null),y=M.useRef(null),b=M.useRef(null),_=M.useRef(null),w=M.useRef(null),T=M.useRef(null),{params:A,passedParams:E,rest:C,events:S}=M5(r),{slides:R,slots:D}=R5(i),F=()=>{p(!f)};Object.assign(A.on,{_containerClasses(N,B){c(B)}});const O=()=>{Object.assign(A.on,S),a=!0;const N={...A};if(delete N.wrapperClass,g.current=new Sy(N),g.current.virtual&&g.current.params.virtual.enabled){g.current.virtual.slides=R;const B={cache:!1,slides:R,renderExternal:h,renderExternalUpdate:!1};Ka(g.current.params.virtual,B),Ka(g.current.originalParams.virtual,B)}};v.current||O(),g.current&&g.current.on("_beforeBreakpoint",F);const G=()=>{a||!S||!g.current||Object.keys(S).forEach(N=>{g.current.on(N,S[N])})},H=()=>{!S||!g.current||Object.keys(S).forEach(N=>{g.current.off(N,S[N])})};M.useEffect(()=>()=>{g.current&&g.current.off("_beforeBreakpoint",F)}),M.useEffect(()=>{!x.current&&g.current&&(g.current.emitSlidesClasses(),x.current=!0)}),Hc(()=>{if(o&&(o.current=v.current),!!v.current)return g.current.destroyed&&O(),A5({el:v.current,nextEl:b.current,prevEl:_.current,paginationEl:w.current,scrollbarEl:T.current,swiper:g.current},A),s&&!g.current.destroyed&&s(g.current),()=>{g.current&&!g.current.destroyed&&g.current.destroy(!0,!1)}},[]),Hc(()=>{G();const N=C5(E,m.current,R,y.current,B=>B.key);return m.current=E,y.current=R,N.length&&g.current&&!g.current.destroyed&&E5({swiper:g.current,slides:R,passedParams:E,changedParams:N,nextEl:b.current,prevEl:_.current,scrollbarEl:T.current,paginationEl:w.current}),()=>{H()}}),Hc(()=>{P5(g.current)},[d]);function j(){return A.virtual?N5(g.current,R,d):R.map((N,B)=>wt.cloneElement(N,{swiper:g.current,swiperSlideIndex:B}))}return wt.createElement(e,hf({ref:v,className:U2(`${l}${t?` ${t}`:""}`)},C),wt.createElement(I5.Provider,{value:g.current},D["container-start"],wt.createElement(n,{className:T5(A.wrapperClass)},D["wrapper-start"],j(),D["wrapper-end"]),O2(A)&&wt.createElement(wt.Fragment,null,wt.createElement("div",{ref:_,className:"swiper-button-prev"}),wt.createElement("div",{ref:b,className:"swiper-button-next"})),F2(A)&&wt.createElement("div",{ref:T,className:"swiper-scrollbar"}),j2(A)&&wt.createElement("div",{ref:w,className:"swiper-pagination"}),D["container-end"]))});yu.displayName="Swiper";const bu=M.forwardRef(({tag:t="div",children:e,className:n="",swiper:i,zoom:s,lazy:r,virtualIndex:o,swiperSlideIndex:a,...l}={},c)=>{const d=M.useRef(null),[h,f]=M.useState("swiper-slide"),[p,x]=M.useState(!1);function v(b,_,w){_===d.current&&f(w)}Hc(()=>{if(typeof a<"u"&&(d.current.swiperSlideIndex=a),c&&(c.current=d.current),!(!d.current||!i)){if(i.destroyed){h!=="swiper-slide"&&f("swiper-slide");return}return i.on("_slideClass",v),()=>{i&&i.off("_slideClass",v)}}}),Hc(()=>{i&&d.current&&!i.destroyed&&f(i.getSlideClasses(d.current))},[i]);const g={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},m=()=>typeof e=="function"?e(g):e,y=()=>{x(!0)};return wt.createElement(t,hf({ref:d,className:U2(`${h}${n?` ${n}`:""}`),"data-swiper-slide-index":o,onLoad:y},l),s&&wt.createElement(gS.Provider,{value:g},wt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},m(),r&&!p&&wt.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&wt.createElement(gS.Provider,{value:g},m(),r&&!p&&wt.createElement("div",{className:"swiper-lazy-preloader"})))});bu.displayName="SwiperSlide";function L5(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(s=>{if(!n[s]&&n.auto===!0){let r=gs(t.el,`.${i[s]}`)[0];r||(r=vu("div",i[s]),r.className=i[s],t.el.append(r)),n[s]=r,e[s]=r}}),n}const D5='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Ty({swiper:t,extendParams:e,on:n,emit:i}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(p){let x;return p&&typeof p=="string"&&t.isElement&&(x=t.el.querySelector(p)||t.hostEl.querySelector(p),x)?x:(p&&(typeof p=="string"&&(x=[...document.querySelectorAll(p)]),t.params.uniqueNavElements&&typeof p=="string"&&x&&x.length>1&&t.el.querySelectorAll(p).length===1?x=t.el.querySelector(p):x&&x.length===1&&(x=x[0])),p&&!x?p:x)}function r(p,x){const v=t.params.navigation;p=Os(p),p.forEach(g=>{g&&(g.classList[x?"add":"remove"](...v.disabledClass.split(" ")),g.tagName==="BUTTON"&&(g.disabled=x),t.params.watchOverflow&&t.enabled&&g.classList[t.isLocked?"add":"remove"](v.lockClass))})}function o(){const{nextEl:p,prevEl:x}=t.navigation;if(t.params.loop){r(x,!1),r(p,!1);return}r(x,t.isBeginning&&!t.params.rewind),r(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function c(){const p=t.params.navigation;if(t.params.navigation=L5(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let x=s(p.nextEl),v=s(p.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:v}),x=Os(x),v=Os(v);const g=(m,y)=>{m&&(m.matches(".swiper-button-next,.swiper-button-prev")&&!m.querySelector("svg")&&Px(m,D5),m.addEventListener("click",y==="next"?l:a)),!t.enabled&&m&&m.classList.add(...p.lockClass.split(" "))};x.forEach(m=>g(m,"next")),v.forEach(m=>g(m,"prev"))}function d(){let{nextEl:p,prevEl:x}=t.navigation;p=Os(p),x=Os(x);const v=(g,m)=>{g.removeEventListener("click",m==="next"?l:a),g.classList.remove(...t.params.navigation.disabledClass.split(" "))};p.forEach(g=>v(g,"next")),x.forEach(g=>v(g,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?f():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{d()}),n("enable disable",()=>{let{nextEl:p,prevEl:x}=t.navigation;if(p=Os(p),x=Os(x),t.enabled){o();return}[...p,...x].filter(v=>!!v).forEach(v=>v.classList.add(t.params.navigation.lockClass))}),n("click",(p,x)=>{let{nextEl:v,prevEl:g}=t.navigation;v=Os(v),g=Os(g);const m=x.target;let y=g.includes(m)||v.includes(m);if(t.isElement&&!y){const b=x.path||x.composedPath&&x.composedPath();b&&(y=b.find(_=>v.includes(_)||g.includes(_)))}if(t.params.navigation.hideOnClick&&!y){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===m||t.pagination.el.contains(m)))return;let b;v.length?b=v[0].classList.contains(t.params.navigation.hiddenClass):g.length&&(b=g[0].classList.contains(t.params.navigation.hiddenClass)),i(b===!0?"navigationShow":"navigationHide"),[...v,...g].filter(_=>!!_).forEach(_=>_.classList.toggle(t.params.navigation.hiddenClass))}});const h=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),c(),o()},f=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:h,disable:f,update:o,init:c,destroy:d})}function ff({swiper:t,extendParams:e,on:n,emit:i,params:s}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let r,o,a=s&&s.autoplay?s.autoplay.delay:3e3,l=s&&s.autoplay?s.autoplay.delay:3e3,c,d=new Date().getTime(),h,f,p,x,v,g,m;function y(j){!t||t.destroyed||!t.wrapperEl||j.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",y),!(m||j.detail&&j.detail.bySwiperTouchMove)&&C())}const b=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?h=!0:h&&(l=c,h=!1);const j=t.autoplay.paused?c:d+l-new Date().getTime();t.autoplay.timeLeft=j,i("autoplayTimeLeft",j,j/a),o=requestAnimationFrame(()=>{b()})},_=()=>{let j;return t.virtual&&t.params.virtual.enabled?j=t.slides.find(B=>B.classList.contains("swiper-slide-active")):j=t.slides[t.activeIndex],j?parseInt(j.getAttribute("data-swiper-autoplay"),10):void 0},w=j=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(o),b();let N=typeof j>"u"?t.params.autoplay.delay:j;a=t.params.autoplay.delay,l=t.params.autoplay.delay;const B=_();!Number.isNaN(B)&&B>0&&typeof j>"u"&&(N=B,a=B,l=B),c=N;const q=t.params.speed,ee=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(q,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,q,!0,!0),i("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(q,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,q,!0,!0),i("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{w()})))};return N>0?(clearTimeout(r),r=setTimeout(()=>{ee()},N)):requestAnimationFrame(()=>{ee()}),N},T=()=>{d=new Date().getTime(),t.autoplay.running=!0,w(),i("autoplayStart")},A=()=>{t.autoplay.running=!1,clearTimeout(r),cancelAnimationFrame(o),i("autoplayStop")},E=(j,N)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(r),j||(g=!0);const B=()=>{i("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",y):C()};if(t.autoplay.paused=!0,N){v&&(c=t.params.autoplay.delay),v=!1,B();return}c=(c||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&c<0&&!t.params.loop)&&(c<0&&(c=0),B())},C=()=>{t.isEnd&&c<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),g?(g=!1,w(c)):w(),t.autoplay.paused=!1,i("autoplayResume"))},S=()=>{if(t.destroyed||!t.autoplay.running)return;const j=Ts();j.visibilityState==="hidden"&&(g=!0,E(!0)),j.visibilityState==="visible"&&C()},R=j=>{j.pointerType==="mouse"&&(g=!0,m=!0,!(t.animating||t.autoplay.paused)&&E(!0))},D=j=>{j.pointerType==="mouse"&&(m=!1,t.autoplay.paused&&C())},F=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",R),t.el.addEventListener("pointerleave",D))},O=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",R),t.el.removeEventListener("pointerleave",D))},G=()=>{Ts().addEventListener("visibilitychange",S)},H=()=>{Ts().removeEventListener("visibilitychange",S)};n("init",()=>{t.params.autoplay.enabled&&(F(),G(),T())}),n("destroy",()=>{O(),H(),t.autoplay.running&&A()}),n("_freeModeStaticRelease",()=>{(p||g)&&C()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?A():E(!0,!0)}),n("beforeTransitionStart",(j,N,B)=>{t.destroyed||!t.autoplay.running||(B||!t.params.autoplay.disableOnInteraction?E(!0,!0):A())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){A();return}f=!0,p=!1,g=!1,x=setTimeout(()=>{g=!0,p=!0,E(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!f)){if(clearTimeout(x),clearTimeout(r),t.params.autoplay.disableOnInteraction){p=!1,f=!1;return}p&&t.params.cssMode&&C(),p=!1,f=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:T,stop:A,pause:E,resume:C})}function k5(t){const{effect:e,swiper:n,on:i,setTranslate:s,setTransition:r,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),i("setTranslate _virtualUpdated",()=>{n.params.effect===e&&s()}),i("setTransition",(h,f)=>{n.params.effect===e&&r(f)}),i("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}});let d;i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(d=!0),requestAnimationFrame(()=>{d&&n.slides&&n.slides.length&&(s(),d=!1)}))})}function O5(t,e){const n=wy(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function xS(t,e,n){const i=`swiper-slide-shadow${n?`-${n}`:""}${` swiper-slide-shadow-${t}`}`,s=wy(e);let r=s.querySelector(`.${i.split(" ").join(".")}`);return r||(r=vu("div",i.split(" ")),s.append(r)),r}function V2({swiper:t,extendParams:e,on:n}){e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),k5({effect:"coverflow",swiper:t,on:n,setTranslate:()=>{const{width:r,height:o,slides:a,slidesSizesGrid:l}=t,c=t.params.coverflowEffect,d=t.isHorizontal(),h=t.translate,f=d?-h+r/2:-h+o/2,p=d?c.rotate:-c.rotate,x=c.depth,v=pB(t);for(let g=0,m=a.length;g<m;g+=1){const y=a[g],b=l[g],_=y.swiperSlideOffset,w=(f-_-b/2)/b,T=typeof c.modifier=="function"?c.modifier(w):w*c.modifier;let A=d?p*T:0,E=d?0:p*T,C=-x*Math.abs(T),S=c.stretch;typeof S=="string"&&S.indexOf("%")!==-1&&(S=parseFloat(c.stretch)/100*b);let R=d?0:S*T,D=d?S*T:0,F=1-(1-c.scale)*Math.abs(T);Math.abs(D)<.001&&(D=0),Math.abs(R)<.001&&(R=0),Math.abs(C)<.001&&(C=0),Math.abs(A)<.001&&(A=0),Math.abs(E)<.001&&(E=0),Math.abs(F)<.001&&(F=0);const O=`translate3d(${D}px,${R}px,${C}px)  rotateX(${v(E)}deg) rotateY(${v(A)}deg) scale(${F})`,G=O5(c,y);if(G.style.transform=O,y.style.zIndex=-Math.abs(Math.round(T))+1,c.slideShadows){let H=d?y.querySelector(".swiper-slide-shadow-left"):y.querySelector(".swiper-slide-shadow-top"),j=d?y.querySelector(".swiper-slide-shadow-right"):y.querySelector(".swiper-slide-shadow-bottom");H||(H=xS("coverflow",y,d?"left":"top")),j||(j=xS("coverflow",y,d?"right":"bottom")),H&&(H.style.opacity=T>0?T:0),j&&(j.style.opacity=-T>0?-T:0)}}},setTransition:r=>{t.slides.map(a=>wy(a)).forEach(a=>{a.style.transitionDuration=`${r}ms`,a.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(l=>{l.style.transitionDuration=`${r}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}const j5=[{id:"holo-booth",title:"AI-Powered Experiences",subtitle:"HoloBooth",description:"Easy to use. Easy to love.",image:"/images/holobox-purple.png",bgColor:"from-orange-400 via-pink-400 to-blue-500",isDarkImage:!0},{id:"360-booth",title:"Performance and Content",subtitle:"360 Booth",description:"Go fast. Go far.",image:"/images/360-purple.png",bgColor:"from-gray-900 to-black",isDarkImage:!0},{id:"mirror-tech",title:"Interactive and Social",subtitle:"Mirror Tech",description:"Dream team.",image:"/images/mirror-tech-purple.png",bgColor:"from-green-300 to-blue-400",isDarkImage:!1},{id:"gumball-x",title:"Compatibility",subtitle:"Gumball X",description:"Mac runs your favorite apps.",image:"/images/gumball-x-purple.png",bgColor:"from-blue-300 to-purple-400",isDarkImage:!1},{id:"gift-box",title:"Surprise & Delight",subtitle:"Gift Box",description:"Branded gift reveals and social moments",image:"/images/gift-box-purple.png",bgColor:"from-yellow-300 to-orange-400",isDarkImage:!1},{id:"gobooth",title:"Portable Solutions",subtitle:"GoBooth",description:"Mobile photo booth experiences for any event",image:"/images/gobooth-purple.png",bgColor:"from-indigo-400 to-blue-500",isDarkImage:!0}];function F5(){const[t,e]=M.useState(j5);M.useEffect(()=>{let a=!0;const l=typeof window<"u"&&window.__PRODUCTS_URL__||"/data/products.json";return fetch(l,{cache:"no-store"}).then(async c=>{if(!c.ok)throw new Error(`HTTP ${c.status}`);const d=await c.json();Array.isArray(d)&&d.length&&a&&e(d)}).catch(()=>{const c=Sl.slice(0,6).map(d=>({id:d.id,title:d.meta,subtitle:d.name,description:d.description,image:d.image,bgColor:"from-gray-900 to-black",isDarkImage:!0}));a&&c.length&&e(c)}),()=>{a=!1}},[]);const n=Ni(),[i,s]=fo(),r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:n?0:.15}}},o={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:n?.01:.5,ease:"easeOut"}}};return u.jsx("section",{ref:i,className:"relative py-24 overflow-hidden","data-testid":"products-section","data-section":"products",children:u.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsxs(he.div,{className:"text-center mb-16",initial:"hidden",animate:s?"visible":"hidden",variants:o,children:[u.jsx(he.div,{variants:o,className:"mb-6",children:u.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full border border-white/10 bg-white/5 backdrop-blur-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-white tracking-wide uppercase",children:"Our Solutions"})]})}),u.jsx(he.h2,{className:"text-3xl sm:text-4xl md:text-6xl font-bold text-white mb-3 md:mb-4 leading-tight",variants:o,"data-testid":"products-headline",children:"Engagement Lineup"}),u.jsx(he.p,{variants:o,className:"text-base sm:text-lg md:text-xl text-white/80 max-w-4xl mx-auto px-1","data-testid":"products-description",children:"Immersive experiences that capture attention and keep your brand on top of mind."})]}),u.jsx(he.div,{className:"relative mb-10 md:mb-16",initial:"hidden",animate:s?"visible":"hidden",variants:r,children:u.jsx(he.div,{variants:o,children:u.jsxs("div",{className:"relative h-[360px] sm:h-[420px] md:h-[480px]",children:[u.jsx("button",{type:"button","aria-label":"Previous",className:"products-prev absolute left-3 sm:left-6 top-1/2 -translate-y-1/2 z-30 h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-white/10 border border-white/20 backdrop-blur grid place-items-center hover:bg-white/20 transition",children:u.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/80",children:u.jsx("path",{d:"M15 18l-6-6 6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u.jsx("button",{type:"button","aria-label":"Next",className:"products-next absolute right-3 sm:right-6 top-1/2 -translate-y-1/2 z-30 h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-white/10 border border-white/20 backdrop-blur grid place-items-center hover:bg-white/20 transition",children:u.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/80",children:u.jsx("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u.jsx(yu,{modules:[V2,ff,Ty],effect:"coverflow",centeredSlides:!0,slidesPerView:"auto",spaceBetween:16,autoplay:{delay:4500,disableOnInteraction:!1,pauseOnMouseEnter:!0},coverflowEffect:{rotate:14,stretch:0,depth:120,modifier:1,scale:.9,slideShadows:!1},navigation:{prevEl:".products-prev",nextEl:".products-next"},className:"absolute inset-0 !px-6 sm:!px-10 md:!px-12 !overflow-visible",children:t.map(a=>u.jsx(bu,{className:"!w-[min(78vw,320px)] sm:!w-[min(70vw,360px)] md:!w-[min(38vw,360px)] xl:!w-[min(28vw,380px)] !min-w-[240px] sm:!min-w-[260px] md:!min-w-[320px]",children:u.jsx("div",{className:"group cursor-pointer relative z-10",children:u.jsxs(he.div,{whileHover:{scale:1.04,boxShadow:"0 16px 48px 0 rgba(80,130,255,0.17), 0 1.5px 23px 0 rgba(0,0,0,0.08)",transition:{type:"spring",stiffness:275,damping:23}},className:`relative h-[360px] sm:h-[420px] md:h-[480px] rounded-[28px] sm:rounded-[32px] md:rounded-[34px] overflow-hidden transform-gpu will-change-transform bg-gradient-to-br ${a.bgColor} shadow-2xl transition-all duration-700 ease-[cubic-bezier(.77,0,.18,1)]`,"data-testid":`product-card-${a.id}`,children:[u.jsx("div",{className:"absolute inset-0 w-full h-full bg-cover bg-center transform-gpu will-change-transform",style:{backgroundImage:`url('${a.image}')`}}),u.jsxs("div",{className:"absolute inset-0 z-10 pointer-events-none transform-gpu will-change-transform",style:{backfaceVisibility:"hidden"},children:[u.jsx("div",{className:"absolute inset-0 bg-black/20"}),u.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.18)_0%,transparent_28%,transparent_72%,rgba(255,255,255,0.09)_100%)] mix-blend-overlay"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-black/45 via-transparent to-black/65"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-40 bg-gradient-to-t from-black/70 to-transparent"}),u.jsx("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black/40 to-transparent"})]}),u.jsx("div",{className:"relative z-20 pt-36 sm:pt-44 md:pt-48 pb-6 sm:pb-8 px-5 sm:px-8 flex flex-col h-full",style:{transform:"translateZ(0)"},children:u.jsxs("div",{className:"space-y-2 drop-shadow-[0_0_18px_rgba(0,0,0,0.16)] mt-auto",children:[u.jsx("span",{className:"uppercase tracking-[0.14em] sm:tracking-[0.19em] font-medium text-[10px] sm:text-xs px-2.5 py-1 bg-white/15 rounded-full backdrop-blur-sm text-white/90 shadow-white/30",children:a.title}),u.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold leading-tight tracking-[-0.6px] sm:tracking-[-1.2px] font-display text-white",children:u.jsx("span",{className:"drop-shadow-glow",children:a.subtitle})}),u.jsx("p",{className:"text-sm sm:text-base md:text-xl leading-relaxed font-medium text-white/92 line-clamp-2",children:a.description})]})})]})})},a.id))})]})})}),u.jsxs(he.div,{className:"text-center",initial:"hidden",animate:s?"visible":"hidden",variants:o,children:[u.jsxs(Yi,{breakpoint:"md",className:"gap-3 md:gap-4 justify-center px-4 max-w-2xl mx-auto",children:[u.jsx(Hi,{href:"/products",children:u.jsx("a",{className:"inline-block w-full md:w-auto",children:u.jsx($e,{variant:"creativePrimary",size:"lg",className:"group w-full md:w-auto text-base sm:text-lg py-6","data-testid":"view-all-models",children:u.jsx("span",{className:"text-white",children:"View All Booths"})})})}),u.jsxs($e,{size:"lg",variant:"creativeSecondary",className:"group w-full md:w-auto text-base sm:text-lg py-6","data-testid":"product-lineup-video",children:[u.jsx("span",{className:"text-white",children:"Solutions Lineup Video 2025"}),u.jsx(ID,{className:"ml-2 w-5 h-5"})]})]}),u.jsx("div",{className:"text-center pt-2 px-4 max-w-3xl mx-auto",children:u.jsx("p",{className:"text-sm sm:text-base text-white/80",children:"Explore our complete product range or watch our showcase video"})})]})]})})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ey="179",Za={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fa={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},U5=0,vS=1,B5=2,H2=1,z5=2,Ws=3,pr=0,$n=1,ps=2,sr=0,Qa=1,_u=2,yS=3,bS=4,V5=5,Ro=100,H5=101,G5=102,W5=103,X5=104,$5=200,q5=201,Y5=202,K5=203,Ix=204,Lx=205,Z5=206,Q5=207,J5=208,ez=209,tz=210,nz=211,iz=212,sz=213,rz=214,Dx=0,kx=1,Ox=2,Tl=3,jx=4,Fx=5,Ux=6,Bx=7,G2=0,oz=1,az=2,to=0,lz=1,cz=2,uz=3,My=4,dz=5,hz=6,fz=7,_S="attached",pz="detached",W2=300,El=301,Ml=302,zx=303,Vx=304,rp=306,Al=1e3,Hr=1001,pf=1002,Dn=1003,X2=1004,Mc=1005,Hn=1006,vh=1007,xs=1008,Cs=1009,$2=1010,q2=1011,wu=1012,Ay=1013,Qo=1014,Xi=1015,rr=1016,Cy=1017,Py=1018,Su=1020,Y2=35902,K2=1021,Z2=1022,Ai=1023,Tu=1026,Eu=1027,Ry=1028,Ny=1029,Q2=1030,Iy=1031,Ly=1033,yh=33776,bh=33777,_h=33778,wh=33779,Hx=35840,Gx=35841,Wx=35842,Xx=35843,$x=36196,qx=37492,Yx=37496,Kx=37808,Zx=37809,Qx=37810,Jx=37811,e0=37812,t0=37813,n0=37814,i0=37815,s0=37816,r0=37817,o0=37818,a0=37819,l0=37820,c0=37821,Sh=36492,u0=36494,d0=36495,J2=36283,h0=36284,f0=36285,p0=36286,mz=2200,eP=2201,gz=2202,Mu=2300,Au=2301,vm=2302,Ua=2400,Ba=2401,mf=2402,Dy=2500,xz=2501,vz=0,tP=1,m0=2,yz=3200,bz=3201,nP=0,_z=1,Dr="",an="srgb",kn="srgb-linear",gf="linear",yt="srgb",ra=7680,wS=519,wz=512,Sz=513,Tz=514,iP=515,Ez=516,Mz=517,Az=518,Cz=519,g0=35044,SS="300 es",vs=2e3,xf=2001;class po{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const s=i[e];if(s!==void 0){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,e);e.target=null}}}const vn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let TS=1234567;const Gc=Math.PI/180,Cl=180/Math.PI;function Ki(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(vn[t&255]+vn[t>>8&255]+vn[t>>16&255]+vn[t>>24&255]+"-"+vn[e&255]+vn[e>>8&255]+"-"+vn[e>>16&15|64]+vn[e>>24&255]+"-"+vn[n&63|128]+vn[n>>8&255]+"-"+vn[n>>16&255]+vn[n>>24&255]+vn[i&255]+vn[i>>8&255]+vn[i>>16&255]+vn[i>>24&255]).toLowerCase()}function et(t,e,n){return Math.max(e,Math.min(n,t))}function ky(t,e){return(t%e+e)%e}function Pz(t,e,n,i,s){return i+(t-e)*(s-i)/(n-e)}function Rz(t,e,n){return t!==e?(n-t)/(e-t):0}function Wc(t,e,n){return(1-n)*t+n*e}function Nz(t,e,n,i){return Wc(t,e,1-Math.exp(-n*i))}function Iz(t,e=1){return e-Math.abs(ky(t,e*2)-e)}function Lz(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Dz(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function kz(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Oz(t,e){return t+Math.random()*(e-t)}function jz(t){return t*(.5-Math.random())}function Fz(t){t!==void 0&&(TS=t);let e=TS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Uz(t){return t*Gc}function Bz(t){return t*Cl}function zz(t){return(t&t-1)===0&&t!==0}function Vz(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Hz(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Gz(t,e,n,i,s){const r=Math.cos,o=Math.sin,a=r(n/2),l=o(n/2),c=r((e+i)/2),d=o((e+i)/2),h=r((e-i)/2),f=o((e-i)/2),p=r((i-e)/2),x=o((i-e)/2);switch(s){case"XYX":t.set(a*d,l*h,l*f,a*c);break;case"YZY":t.set(l*f,a*d,l*h,a*c);break;case"ZXZ":t.set(l*h,l*f,a*d,a*c);break;case"XZX":t.set(a*d,l*x,l*p,a*c);break;case"YXY":t.set(l*p,a*d,l*x,a*c);break;case"ZYZ":t.set(l*x,l*p,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Gi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function gt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const sP={DEG2RAD:Gc,RAD2DEG:Cl,generateUUID:Ki,clamp:et,euclideanModulo:ky,mapLinear:Pz,inverseLerp:Rz,lerp:Wc,damp:Nz,pingpong:Iz,smoothstep:Lz,smootherstep:Dz,randInt:kz,randFloat:Oz,randFloatSpread:jz,seededRandom:Fz,degToRad:Uz,radToDeg:Bz,isPowerOfTwo:zz,ceilPowerOfTwo:Vz,floorPowerOfTwo:Hz,setQuaternionFromProperEuler:Gz,normalize:gt,denormalize:Gi};class Ae{constructor(e=0,n=0){Ae.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6],this.y=s[1]*n+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=et(this.x,e.x,n.x),this.y=et(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=et(this.x,e,n),this.y=et(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(et(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(et(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),s=Math.sin(n),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*s+e.x,this.y=r*s+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class li{constructor(e=0,n=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=s}static slerpFlat(e,n,i,s,r,o,a){let l=i[s+0],c=i[s+1],d=i[s+2],h=i[s+3];const f=r[o+0],p=r[o+1],x=r[o+2],v=r[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=h;return}if(a===1){e[n+0]=f,e[n+1]=p,e[n+2]=x,e[n+3]=v;return}if(h!==v||l!==f||c!==p||d!==x){let g=1-a;const m=l*f+c*p+d*x+h*v,y=m>=0?1:-1,b=1-m*m;if(b>Number.EPSILON){const w=Math.sqrt(b),T=Math.atan2(w,m*y);g=Math.sin(g*T)/w,a=Math.sin(a*T)/w}const _=a*y;if(l=l*g+f*_,c=c*g+p*_,d=d*g+x*_,h=h*g+v*_,g===1-a){const w=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=w,c*=w,d*=w,h*=w}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,i,s,r,o){const a=i[s],l=i[s+1],c=i[s+2],d=i[s+3],h=r[o],f=r[o+1],p=r[o+2],x=r[o+3];return e[n]=a*x+d*h+l*p-c*f,e[n+1]=l*x+d*f+c*h-a*p,e[n+2]=c*x+d*p+a*f-l*h,e[n+3]=d*x-a*h-l*f-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,s=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(s/2),h=a(r/2),f=l(i/2),p=l(s/2),x=l(r/2);switch(o){case"XYZ":this._x=f*d*h+c*p*x,this._y=c*p*h-f*d*x,this._z=c*d*x+f*p*h,this._w=c*d*h-f*p*x;break;case"YXZ":this._x=f*d*h+c*p*x,this._y=c*p*h-f*d*x,this._z=c*d*x-f*p*h,this._w=c*d*h+f*p*x;break;case"ZXY":this._x=f*d*h-c*p*x,this._y=c*p*h+f*d*x,this._z=c*d*x+f*p*h,this._w=c*d*h-f*p*x;break;case"ZYX":this._x=f*d*h-c*p*x,this._y=c*p*h+f*d*x,this._z=c*d*x-f*p*h,this._w=c*d*h+f*p*x;break;case"YZX":this._x=f*d*h+c*p*x,this._y=c*p*h+f*d*x,this._z=c*d*x-f*p*h,this._w=c*d*h-f*p*x;break;case"XZY":this._x=f*d*h-c*p*x,this._y=c*p*h-f*d*x,this._z=c*d*x+f*p*h,this._w=c*d*h+f*p*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],s=n[4],r=n[8],o=n[1],a=n[5],l=n[9],c=n[2],d=n[6],h=n[10],f=i+a+h;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(d-l)*p,this._y=(r-c)*p,this._z=(o-s)*p}else if(i>a&&i>h){const p=2*Math.sqrt(1+i-a-h);this._w=(d-l)/p,this._x=.25*p,this._y=(s+o)/p,this._z=(r+c)/p}else if(a>h){const p=2*Math.sqrt(1+a-i-h);this._w=(r-c)/p,this._x=(s+o)/p,this._y=.25*p,this._z=(l+d)/p}else{const p=2*Math.sqrt(1+h-i-a);this._w=(o-s)/p,this._x=(r+c)/p,this._y=(l+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(et(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,n/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,s=e._y,r=e._z,o=e._w,a=n._x,l=n._y,c=n._z,d=n._w;return this._x=i*d+o*a+s*c-r*l,this._y=s*d+o*l+r*a-i*c,this._z=r*d+o*c+i*l-s*a,this._w=o*d-i*a-s*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,s=this._y,r=this._z,o=this._w;let a=o*e._w+i*e._x+s*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*i+n*this._x,this._y=p*s+n*this._y,this._z=p*r+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-n)*d)/c,f=Math.sin(n*d)/c;return this._w=o*h+this._w*f,this._x=i*h+this._x*f,this._y=s*h+this._y*f,this._z=r*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(n),r*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class U{constructor(e=0,n=0,i=0){U.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ES.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ES.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6]*s,this.y=r[1]*n+r[4]*i+r[7]*s,this.z=r[2]*n+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=e.elements,o=1/(r[3]*n+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*n+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*n+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*n+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,s=this.z,r=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*s-a*i),d=2*(a*n-r*s),h=2*(r*i-o*n);return this.x=n+l*c+o*h-a*d,this.y=i+l*d+a*c-r*h,this.z=s+l*h+r*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[4]*i+r[8]*s,this.y=r[1]*n+r[5]*i+r[9]*s,this.z=r[2]*n+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=et(this.x,e.x,n.x),this.y=et(this.y,e.y,n.y),this.z=et(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=et(this.x,e,n),this.y=et(this.y,e,n),this.z=et(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(et(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,s=e.y,r=e.z,o=n.x,a=n.y,l=n.z;return this.x=s*l-r*a,this.y=r*o-i*l,this.z=i*a-s*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ym.copy(this).projectOnVector(e),this.sub(ym)}reflect(e){return this.sub(ym.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(et(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return n*n+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const s=Math.sin(n)*e;return this.x=s*Math.sin(i),this.y=Math.cos(n)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ym=new U,ES=new li;class Ke{constructor(e,n,i,s,r,o,a,l,c){Ke.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,o,a,l,c)}set(e,n,i,s,r,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=s,d[2]=a,d[3]=n,d[4]=r,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],h=i[7],f=i[2],p=i[5],x=i[8],v=s[0],g=s[3],m=s[6],y=s[1],b=s[4],_=s[7],w=s[2],T=s[5],A=s[8];return r[0]=o*v+a*y+l*w,r[3]=o*g+a*b+l*T,r[6]=o*m+a*_+l*A,r[1]=c*v+d*y+h*w,r[4]=c*g+d*b+h*T,r[7]=c*m+d*_+h*A,r[2]=f*v+p*y+x*w,r[5]=f*g+p*b+x*T,r[8]=f*m+p*_+x*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return n*o*d-n*a*c-i*r*d+i*a*l+s*r*c-s*o*l}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,f=a*l-d*r,p=c*r-o*l,x=n*h+i*f+s*p;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/x;return e[0]=h*v,e[1]=(s*c-d*i)*v,e[2]=(a*i-s*o)*v,e[3]=f*v,e[4]=(d*n-s*l)*v,e[5]=(s*r-a*n)*v,e[6]=p*v,e[7]=(i*l-c*n)*v,e[8]=(o*n-i*r)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,s,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-s*c,s*l,-s*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(bm.makeScale(e,n)),this}rotate(e){return this.premultiply(bm.makeRotation(-e)),this}translate(e,n){return this.premultiply(bm.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<9;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const bm=new Ke;function rP(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Cu(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Wz(){const t=Cu("canvas");return t.style.display="block",t}const MS={};function Ja(t){t in MS||(MS[t]=!0,console.warn(t))}function Xz(t,e,n){return new Promise(function(i,s){function r(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:s();break;case t.TIMEOUT_EXPIRED:setTimeout(r,n);break;default:i()}}setTimeout(r,n)})}const AS=new Ke().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),CS=new Ke().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function $z(){const t={enabled:!0,workingColorSpace:kn,spaces:{},convert:function(s,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===yt&&(s.r=or(s.r),s.g=or(s.g),s.b=or(s.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===yt&&(s.r=el(s.r),s.g=el(s.g),s.b=el(s.b))),s},workingToColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},colorSpaceToWorking:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Dr?gf:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,o){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,r){return Ja("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(s,r)},toWorkingColorSpace:function(s,r){return Ja("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(s,r)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[kn]:{primaries:e,whitePoint:i,transfer:gf,toXYZ:AS,fromXYZ:CS,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:an},outputColorSpaceConfig:{drawingBufferColorSpace:an}},[an]:{primaries:e,whitePoint:i,transfer:yt,toXYZ:AS,fromXYZ:CS,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:an}}}),t}const at=$z();function or(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function el(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let oa;class qz{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{oa===void 0&&(oa=Cu("canvas")),oa.width=e.width,oa.height=e.height;const s=oa.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),i=oa}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Cu("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=or(r[o]/255)*255;return i.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(or(n[i]/255)*255):n[i]=or(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Yz=0;class Oy{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Yz++}),this.uuid=Ki(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let o=0,a=s.length;o<a;o++)s[o].isDataTexture?r.push(_m(s[o].image)):r.push(_m(s[o]))}else r=_m(s);i.url=r}return n||(e.images[this.uuid]=i),i}}function _m(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?qz.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Kz=0;const wm=new U;class tn extends po{constructor(e=tn.DEFAULT_IMAGE,n=tn.DEFAULT_MAPPING,i=Hr,s=Hr,r=Hn,o=xs,a=Ai,l=Cs,c=tn.DEFAULT_ANISOTROPY,d=Dr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Kz++}),this.uuid=Ki(),this.name="",this.source=new Oy(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.center=new Ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ke,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(wm).x}get height(){return this.source.getSize(wm).y}get depth(){return this.source.getSize(wm).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}s&&i&&s.isVector2&&i.isVector2||s&&i&&s.isVector3&&i.isVector3||s&&i&&s.isMatrix3&&i.isMatrix3?s.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==W2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Al:e.x=e.x-Math.floor(e.x);break;case Hr:e.x=e.x<0?0:1;break;case pf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Al:e.y=e.y-Math.floor(e.y);break;case Hr:e.y=e.y<0?0:1;break;case pf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}tn.DEFAULT_IMAGE=null;tn.DEFAULT_MAPPING=W2;tn.DEFAULT_ANISOTROPY=1;class dt{constructor(e=0,n=0,i=0,s=1){dt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,s){return this.x=e,this.y=n,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*n+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*n+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*n+o[7]*i+o[11]*s+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,s,r;const l=e.elements,c=l[0],d=l[4],h=l[8],f=l[1],p=l[5],x=l[9],v=l[2],g=l[6],m=l[10];if(Math.abs(d-f)<.01&&Math.abs(h-v)<.01&&Math.abs(x-g)<.01){if(Math.abs(d+f)<.1&&Math.abs(h+v)<.1&&Math.abs(x+g)<.1&&Math.abs(c+p+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,_=(p+1)/2,w=(m+1)/2,T=(d+f)/4,A=(h+v)/4,E=(x+g)/4;return b>_&&b>w?b<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(b),s=T/i,r=A/i):_>w?_<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(_),i=T/s,r=E/s):w<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(w),i=A/r,s=E/r),this.set(i,s,r,n),this}let y=Math.sqrt((g-x)*(g-x)+(h-v)*(h-v)+(f-d)*(f-d));return Math.abs(y)<.001&&(y=1),this.x=(g-x)/y,this.y=(h-v)/y,this.z=(f-d)/y,this.w=Math.acos((c+p+m-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=et(this.x,e.x,n.x),this.y=et(this.y,e.y,n.y),this.z=et(this.z,e.z,n.z),this.w=et(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=et(this.x,e,n),this.y=et(this.y,e,n),this.z=et(this.z,e,n),this.w=et(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(et(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Zz extends po{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Hn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new dt(0,0,e,n),this.scissorTest=!1,this.viewport=new dt(0,0,e,n);const s={width:e,height:n,depth:i.depth},r=new tn(s);this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=r.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:Hn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=i,this.textures[s].isArrayTexture=this.textures[s].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const s=Object.assign({},e.textures[n].image);this.textures[n].source=new Oy(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Zi extends Zz{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class oP extends tn{constructor(e=null,n=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=Hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Qz extends tn{constructor(e=null,n=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=Hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ns{constructor(e=new U(1/0,1/0,1/0),n=new U(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Di.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Di.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Di.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(n===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=r.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Di):Di.fromBufferAttribute(r,o),Di.applyMatrix4(e.matrixWorld),this.expandByPoint(Di);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),wd.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),wd.copy(i.boundingBox)),wd.applyMatrix4(e.matrixWorld),this.union(wd)}const s=e.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Di),Di.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(uc),Sd.subVectors(this.max,uc),aa.subVectors(e.a,uc),la.subVectors(e.b,uc),ca.subVectors(e.c,uc),yr.subVectors(la,aa),br.subVectors(ca,la),vo.subVectors(aa,ca);let n=[0,-yr.z,yr.y,0,-br.z,br.y,0,-vo.z,vo.y,yr.z,0,-yr.x,br.z,0,-br.x,vo.z,0,-vo.x,-yr.y,yr.x,0,-br.y,br.x,0,-vo.y,vo.x,0];return!Sm(n,aa,la,ca,Sd)||(n=[1,0,0,0,1,0,0,0,1],!Sm(n,aa,la,ca,Sd))?!1:(Td.crossVectors(yr,br),n=[Td.x,Td.y,Td.z],Sm(n,aa,la,ca,Sd))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Di).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Di).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(js[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),js[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),js[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),js[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),js[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),js[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),js[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),js[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(js),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const js=[new U,new U,new U,new U,new U,new U,new U,new U],Di=new U,wd=new Ns,aa=new U,la=new U,ca=new U,yr=new U,br=new U,vo=new U,uc=new U,Sd=new U,Td=new U,yo=new U;function Sm(t,e,n,i,s){for(let r=0,o=t.length-3;r<=o;r+=3){yo.fromArray(t,r);const a=s.x*Math.abs(yo.x)+s.y*Math.abs(yo.y)+s.z*Math.abs(yo.z),l=e.dot(yo),c=n.dot(yo),d=i.dot(yo);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const Jz=new Ns,dc=new U,Tm=new U;class Is{constructor(e=new U,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Jz.setFromPoints(e).getCenter(i);let s=0;for(let r=0,o=e.length;r<o;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;dc.subVectors(e,this.center);const n=dc.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),s=(i-this.radius)*.5;this.center.addScaledVector(dc,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Tm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(dc.copy(e.center).add(Tm)),this.expandByPoint(dc.copy(e.center).sub(Tm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Fs=new U,Em=new U,Ed=new U,_r=new U,Mm=new U,Md=new U,Am=new U;class Xl{constructor(e=new U,n=new U(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Fs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Fs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Fs.copy(this.origin).addScaledVector(this.direction,n),Fs.distanceToSquared(e))}distanceSqToSegment(e,n,i,s){Em.copy(e).add(n).multiplyScalar(.5),Ed.copy(n).sub(e).normalize(),_r.copy(this.origin).sub(Em);const r=e.distanceTo(n)*.5,o=-this.direction.dot(Ed),a=_r.dot(this.direction),l=-_r.dot(Ed),c=_r.lengthSq(),d=Math.abs(1-o*o);let h,f,p,x;if(d>0)if(h=o*l-a,f=o*a-l,x=r*d,h>=0)if(f>=-x)if(f<=x){const v=1/d;h*=v,f*=v,p=h*(h+o*f+2*a)+f*(o*h+f+2*l)+c}else f=r,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;else f=-r,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;else f<=-x?(h=Math.max(0,-(-o*r+a)),f=h>0?-r:Math.min(Math.max(-r,-l),r),p=-h*h+f*(f+2*l)+c):f<=x?(h=0,f=Math.min(Math.max(-r,-l),r),p=f*(f+2*l)+c):(h=Math.max(0,-(o*r+a)),f=h>0?r:Math.min(Math.max(-r,-l),r),p=-h*h+f*(f+2*l)+c);else f=o>0?-r:r,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),s&&s.copy(Em).addScaledVector(Ed,f),p}intersectSphere(e,n){Fs.subVectors(e.center,this.origin);const i=Fs.dot(this.direction),s=Fs.dot(Fs)-i*i,r=e.radius*e.radius;if(s>r)return null;const o=Math.sqrt(r-s),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,s,r,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,s=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,s=(e.min.x-f.x)*c),d>=0?(r=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(r=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),i>o||r>s||((r>i||isNaN(i))&&(i=r),(o<s||isNaN(s))&&(s=o),h>=0?(a=(e.min.z-f.z)*h,l=(e.max.z-f.z)*h):(a=(e.max.z-f.z)*h,l=(e.min.z-f.z)*h),i>l||a>s)||((a>i||i!==i)&&(i=a),(l<s||s!==s)&&(s=l),s<0)?null:this.at(i>=0?i:s,n)}intersectsBox(e){return this.intersectBox(e,Fs)!==null}intersectTriangle(e,n,i,s,r){Mm.subVectors(n,e),Md.subVectors(i,e),Am.crossVectors(Mm,Md);let o=this.direction.dot(Am),a;if(o>0){if(s)return null;a=1}else if(o<0)a=-1,o=-o;else return null;_r.subVectors(this.origin,e);const l=a*this.direction.dot(Md.crossVectors(_r,Md));if(l<0)return null;const c=a*this.direction.dot(Mm.cross(_r));if(c<0||l+c>o)return null;const d=-a*_r.dot(Am);return d<0?null:this.at(d/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ze{constructor(e,n,i,s,r,o,a,l,c,d,h,f,p,x,v,g){Ze.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,o,a,l,c,d,h,f,p,x,v,g)}set(e,n,i,s,r,o,a,l,c,d,h,f,p,x,v,g){const m=this.elements;return m[0]=e,m[4]=n,m[8]=i,m[12]=s,m[1]=r,m[5]=o,m[9]=a,m[13]=l,m[2]=c,m[6]=d,m[10]=h,m[14]=f,m[3]=p,m[7]=x,m[11]=v,m[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ze().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,s=1/ua.setFromMatrixColumn(e,0).length(),r=1/ua.setFromMatrixColumn(e,1).length(),o=1/ua.setFromMatrixColumn(e,2).length();return n[0]=i[0]*s,n[1]=i[1]*s,n[2]=i[2]*s,n[3]=0,n[4]=i[4]*r,n[5]=i[5]*r,n[6]=i[6]*r,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,s=e.y,r=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(s),c=Math.sin(s),d=Math.cos(r),h=Math.sin(r);if(e.order==="XYZ"){const f=o*d,p=o*h,x=a*d,v=a*h;n[0]=l*d,n[4]=-l*h,n[8]=c,n[1]=p+x*c,n[5]=f-v*c,n[9]=-a*l,n[2]=v-f*c,n[6]=x+p*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*d,p=l*h,x=c*d,v=c*h;n[0]=f+v*a,n[4]=x*a-p,n[8]=o*c,n[1]=o*h,n[5]=o*d,n[9]=-a,n[2]=p*a-x,n[6]=v+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*d,p=l*h,x=c*d,v=c*h;n[0]=f-v*a,n[4]=-o*h,n[8]=x+p*a,n[1]=p+x*a,n[5]=o*d,n[9]=v-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*d,p=o*h,x=a*d,v=a*h;n[0]=l*d,n[4]=x*c-p,n[8]=f*c+v,n[1]=l*h,n[5]=v*c+f,n[9]=p*c-x,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,p=o*c,x=a*l,v=a*c;n[0]=l*d,n[4]=v-f*h,n[8]=x*h+p,n[1]=h,n[5]=o*d,n[9]=-a*d,n[2]=-c*d,n[6]=p*h+x,n[10]=f-v*h}else if(e.order==="XZY"){const f=o*l,p=o*c,x=a*l,v=a*c;n[0]=l*d,n[4]=-h,n[8]=c*d,n[1]=f*h+v,n[5]=o*d,n[9]=p*h-x,n[2]=x*h-p,n[6]=a*d,n[10]=v*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(eV,e,tV)}lookAt(e,n,i){const s=this.elements;return Jn.subVectors(e,n),Jn.lengthSq()===0&&(Jn.z=1),Jn.normalize(),wr.crossVectors(i,Jn),wr.lengthSq()===0&&(Math.abs(i.z)===1?Jn.x+=1e-4:Jn.z+=1e-4,Jn.normalize(),wr.crossVectors(i,Jn)),wr.normalize(),Ad.crossVectors(Jn,wr),s[0]=wr.x,s[4]=Ad.x,s[8]=Jn.x,s[1]=wr.y,s[5]=Ad.y,s[9]=Jn.y,s[2]=wr.z,s[6]=Ad.z,s[10]=Jn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],h=i[5],f=i[9],p=i[13],x=i[2],v=i[6],g=i[10],m=i[14],y=i[3],b=i[7],_=i[11],w=i[15],T=s[0],A=s[4],E=s[8],C=s[12],S=s[1],R=s[5],D=s[9],F=s[13],O=s[2],G=s[6],H=s[10],j=s[14],N=s[3],B=s[7],q=s[11],ee=s[15];return r[0]=o*T+a*S+l*O+c*N,r[4]=o*A+a*R+l*G+c*B,r[8]=o*E+a*D+l*H+c*q,r[12]=o*C+a*F+l*j+c*ee,r[1]=d*T+h*S+f*O+p*N,r[5]=d*A+h*R+f*G+p*B,r[9]=d*E+h*D+f*H+p*q,r[13]=d*C+h*F+f*j+p*ee,r[2]=x*T+v*S+g*O+m*N,r[6]=x*A+v*R+g*G+m*B,r[10]=x*E+v*D+g*H+m*q,r[14]=x*C+v*F+g*j+m*ee,r[3]=y*T+b*S+_*O+w*N,r[7]=y*A+b*R+_*G+w*B,r[11]=y*E+b*D+_*H+w*q,r[15]=y*C+b*F+_*j+w*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],s=e[8],r=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],f=e[10],p=e[14],x=e[3],v=e[7],g=e[11],m=e[15];return x*(+r*l*h-s*c*h-r*a*f+i*c*f+s*a*p-i*l*p)+v*(+n*l*p-n*c*f+r*o*f-s*o*p+s*c*d-r*l*d)+g*(+n*c*h-n*a*p-r*o*h+i*o*p+r*a*d-i*c*d)+m*(-s*a*d-n*l*h+n*a*f+s*o*h-i*o*f+i*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],f=e[10],p=e[11],x=e[12],v=e[13],g=e[14],m=e[15],y=h*g*c-v*f*c+v*l*p-a*g*p-h*l*m+a*f*m,b=x*f*c-d*g*c-x*l*p+o*g*p+d*l*m-o*f*m,_=d*v*c-x*h*c+x*a*p-o*v*p-d*a*m+o*h*m,w=x*h*l-d*v*l-x*a*f+o*v*f+d*a*g-o*h*g,T=n*y+i*b+s*_+r*w;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/T;return e[0]=y*A,e[1]=(v*f*r-h*g*r-v*s*p+i*g*p+h*s*m-i*f*m)*A,e[2]=(a*g*r-v*l*r+v*s*c-i*g*c-a*s*m+i*l*m)*A,e[3]=(h*l*r-a*f*r-h*s*c+i*f*c+a*s*p-i*l*p)*A,e[4]=b*A,e[5]=(d*g*r-x*f*r+x*s*p-n*g*p-d*s*m+n*f*m)*A,e[6]=(x*l*r-o*g*r-x*s*c+n*g*c+o*s*m-n*l*m)*A,e[7]=(o*f*r-d*l*r+d*s*c-n*f*c-o*s*p+n*l*p)*A,e[8]=_*A,e[9]=(x*h*r-d*v*r-x*i*p+n*v*p+d*i*m-n*h*m)*A,e[10]=(o*v*r-x*a*r+x*i*c-n*v*c-o*i*m+n*a*m)*A,e[11]=(d*a*r-o*h*r-d*i*c+n*h*c+o*i*p-n*a*p)*A,e[12]=w*A,e[13]=(d*v*s-x*h*s+x*i*f-n*v*f-d*i*g+n*h*g)*A,e[14]=(x*a*s-o*v*s-x*i*l+n*v*l+o*i*g-n*a*g)*A,e[15]=(o*h*s-d*a*s+d*i*l-n*h*l-o*i*f+n*a*f)*A,this}scale(e){const n=this.elements,i=e.x,s=e.y,r=e.z;return n[0]*=i,n[4]*=s,n[8]*=r,n[1]*=i,n[5]*=s,n[9]*=r,n[2]*=i,n[6]*=s,n[10]*=r,n[3]*=i,n[7]*=s,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,s))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),s=Math.sin(n),r=1-i,o=e.x,a=e.y,l=e.z,c=r*o,d=r*a;return this.set(c*o+i,c*a-s*l,c*l+s*a,0,c*a+s*l,d*a+i,d*l-s*o,0,c*l-s*a,d*l+s*o,r*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,s,r,o){return this.set(1,i,r,0,e,1,o,0,n,s,1,0,0,0,0,1),this}compose(e,n,i){const s=this.elements,r=n._x,o=n._y,a=n._z,l=n._w,c=r+r,d=o+o,h=a+a,f=r*c,p=r*d,x=r*h,v=o*d,g=o*h,m=a*h,y=l*c,b=l*d,_=l*h,w=i.x,T=i.y,A=i.z;return s[0]=(1-(v+m))*w,s[1]=(p+_)*w,s[2]=(x-b)*w,s[3]=0,s[4]=(p-_)*T,s[5]=(1-(f+m))*T,s[6]=(g+y)*T,s[7]=0,s[8]=(x+b)*A,s[9]=(g-y)*A,s[10]=(1-(f+v))*A,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,i){const s=this.elements;let r=ua.set(s[0],s[1],s[2]).length();const o=ua.set(s[4],s[5],s[6]).length(),a=ua.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],ki.copy(this);const c=1/r,d=1/o,h=1/a;return ki.elements[0]*=c,ki.elements[1]*=c,ki.elements[2]*=c,ki.elements[4]*=d,ki.elements[5]*=d,ki.elements[6]*=d,ki.elements[8]*=h,ki.elements[9]*=h,ki.elements[10]*=h,n.setFromRotationMatrix(ki),i.x=r,i.y=o,i.z=a,this}makePerspective(e,n,i,s,r,o,a=vs,l=!1){const c=this.elements,d=2*r/(n-e),h=2*r/(i-s),f=(n+e)/(n-e),p=(i+s)/(i-s);let x,v;if(l)x=r/(o-r),v=o*r/(o-r);else if(a===vs)x=-(o+r)/(o-r),v=-2*o*r/(o-r);else if(a===xf)x=-o/(o-r),v=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=d,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=h,c[9]=p,c[13]=0,c[2]=0,c[6]=0,c[10]=x,c[14]=v,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,i,s,r,o,a=vs,l=!1){const c=this.elements,d=2/(n-e),h=2/(i-s),f=-(n+e)/(n-e),p=-(i+s)/(i-s);let x,v;if(l)x=1/(o-r),v=o/(o-r);else if(a===vs)x=-2/(o-r),v=-(o+r)/(o-r);else if(a===xf)x=-1/(o-r),v=-r/(o-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=d,c[4]=0,c[8]=0,c[12]=f,c[1]=0,c[5]=h,c[9]=0,c[13]=p,c[2]=0,c[6]=0,c[10]=x,c[14]=v,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<16;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const ua=new U,ki=new Ze,eV=new U(0,0,0),tV=new U(1,1,1),wr=new U,Ad=new U,Jn=new U,PS=new Ze,RS=new li;class Ps{constructor(e=0,n=0,i=0,s=Ps.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,s=this._order){return this._x=e,this._y=n,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const s=e.elements,r=s[0],o=s[4],a=s[8],l=s[1],c=s[5],d=s[9],h=s[2],f=s[6],p=s[10];switch(n){case"XYZ":this._y=Math.asin(et(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-et(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,r),this._z=0);break;case"ZXY":this._x=Math.asin(et(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-et(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(et(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,r)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-et(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return PS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(PS,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return RS.setFromEuler(this),this.setFromQuaternion(RS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ps.DEFAULT_ORDER="XYZ";class jy{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let nV=0;const NS=new U,da=new li,Us=new Ze,Cd=new U,hc=new U,iV=new U,sV=new li,IS=new U(1,0,0),LS=new U(0,1,0),DS=new U(0,0,1),kS={type:"added"},rV={type:"removed"},ha={type:"childadded",child:null},Cm={type:"childremoved",child:null};class Nt extends po{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:nV++}),this.uuid=Ki(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Nt.DEFAULT_UP.clone();const e=new U,n=new Ps,i=new li,s=new U(1,1,1);function r(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Ze},normalMatrix:{value:new Ke}}),this.matrix=new Ze,this.matrixWorld=new Ze,this.matrixAutoUpdate=Nt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Nt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new jy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return da.setFromAxisAngle(e,n),this.quaternion.multiply(da),this}rotateOnWorldAxis(e,n){return da.setFromAxisAngle(e,n),this.quaternion.premultiply(da),this}rotateX(e){return this.rotateOnAxis(IS,e)}rotateY(e){return this.rotateOnAxis(LS,e)}rotateZ(e){return this.rotateOnAxis(DS,e)}translateOnAxis(e,n){return NS.copy(e).applyQuaternion(this.quaternion),this.position.add(NS.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(IS,e)}translateY(e){return this.translateOnAxis(LS,e)}translateZ(e){return this.translateOnAxis(DS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Us.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Cd.copy(e):Cd.set(e,n,i);const s=this.parent;this.updateWorldMatrix(!0,!1),hc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Us.lookAt(hc,Cd,this.up):Us.lookAt(Cd,hc,this.up),this.quaternion.setFromRotationMatrix(Us),s&&(Us.extractRotation(s.matrixWorld),da.setFromRotationMatrix(Us),this.quaternion.premultiply(da.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(kS),ha.child=e,this.dispatchEvent(ha),ha.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(rV),Cm.child=e,this.dispatchEvent(Cm),Cm.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Us.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Us.multiply(e.parent.matrixWorld)),e.applyMatrix4(Us),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(kS),ha.child=e,this.dispatchEvent(ha),ha.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hc,e,iV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hc,sV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(a=>({...a})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];r(e.shapes,h)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(r(e.materials,this.material[l]));s.material=a}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let a=0;a<this.children.length;a++)s.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];s.animations.push(r(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),f=o(e.skeletons),p=o(e.animations),x=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),f.length>0&&(i.skeletons=f),p.length>0&&(i.animations=p),x.length>0&&(i.nodes=x)}return i.object=s,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}Nt.DEFAULT_UP=new U(0,1,0);Nt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Nt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Oi=new U,Bs=new U,Pm=new U,zs=new U,fa=new U,pa=new U,OS=new U,Rm=new U,Nm=new U,Im=new U,Lm=new dt,Dm=new dt,km=new dt;class Wi{constructor(e=new U,n=new U,i=new U){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,s){s.subVectors(i,n),Oi.subVectors(e,n),s.cross(Oi);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,n,i,s,r){Oi.subVectors(s,n),Bs.subVectors(i,n),Pm.subVectors(e,n);const o=Oi.dot(Oi),a=Oi.dot(Bs),l=Oi.dot(Pm),c=Bs.dot(Bs),d=Bs.dot(Pm),h=o*c-a*a;if(h===0)return r.set(0,0,0),null;const f=1/h,p=(c*l-a*d)*f,x=(o*d-a*l)*f;return r.set(1-p-x,x,p)}static containsPoint(e,n,i,s){return this.getBarycoord(e,n,i,s,zs)===null?!1:zs.x>=0&&zs.y>=0&&zs.x+zs.y<=1}static getInterpolation(e,n,i,s,r,o,a,l){return this.getBarycoord(e,n,i,s,zs)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,zs.x),l.addScaledVector(o,zs.y),l.addScaledVector(a,zs.z),l)}static getInterpolatedAttribute(e,n,i,s,r,o){return Lm.setScalar(0),Dm.setScalar(0),km.setScalar(0),Lm.fromBufferAttribute(e,n),Dm.fromBufferAttribute(e,i),km.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(Lm,r.x),o.addScaledVector(Dm,r.y),o.addScaledVector(km,r.z),o}static isFrontFacing(e,n,i,s){return Oi.subVectors(i,n),Bs.subVectors(e,n),Oi.cross(Bs).dot(s)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,s){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,i,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Oi.subVectors(this.c,this.b),Bs.subVectors(this.a,this.b),Oi.cross(Bs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Wi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,s,r){return Wi.getInterpolation(e,this.a,this.b,this.c,n,i,s,r)}containsPoint(e){return Wi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,s=this.b,r=this.c;let o,a;fa.subVectors(s,i),pa.subVectors(r,i),Rm.subVectors(e,i);const l=fa.dot(Rm),c=pa.dot(Rm);if(l<=0&&c<=0)return n.copy(i);Nm.subVectors(e,s);const d=fa.dot(Nm),h=pa.dot(Nm);if(d>=0&&h<=d)return n.copy(s);const f=l*h-d*c;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(i).addScaledVector(fa,o);Im.subVectors(e,r);const p=fa.dot(Im),x=pa.dot(Im);if(x>=0&&p<=x)return n.copy(r);const v=p*c-l*x;if(v<=0&&c>=0&&x<=0)return a=c/(c-x),n.copy(i).addScaledVector(pa,a);const g=d*x-p*h;if(g<=0&&h-d>=0&&p-x>=0)return OS.subVectors(r,s),a=(h-d)/(h-d+(p-x)),n.copy(s).addScaledVector(OS,a);const m=1/(g+v+f);return o=v*m,a=f*m,n.copy(i).addScaledVector(fa,o).addScaledVector(pa,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const aP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Sr={h:0,s:0,l:0},Pd={h:0,s:0,l:0};function Om(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Oe{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=an){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,at.colorSpaceToWorking(this,n),this}setRGB(e,n,i,s=at.workingColorSpace){return this.r=e,this.g=n,this.b=i,at.colorSpaceToWorking(this,s),this}setHSL(e,n,i,s=at.workingColorSpace){if(e=ky(e,1),n=et(n,0,1),i=et(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=Om(o,r,e+1/3),this.g=Om(o,r,e),this.b=Om(o,r,e-1/3)}return at.colorSpaceToWorking(this,s),this}setStyle(e,n=an){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=s[1],a=s[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=an){const i=aP[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=or(e.r),this.g=or(e.g),this.b=or(e.b),this}copyLinearToSRGB(e){return this.r=el(e.r),this.g=el(e.g),this.b=el(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=an){return at.workingToColorSpace(yn.copy(this),e),Math.round(et(yn.r*255,0,255))*65536+Math.round(et(yn.g*255,0,255))*256+Math.round(et(yn.b*255,0,255))}getHexString(e=an){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=at.workingColorSpace){at.workingToColorSpace(yn.copy(this),n);const i=yn.r,s=yn.g,r=yn.b,o=Math.max(i,s,r),a=Math.min(i,s,r);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(s-r)/h+(s<r?6:0);break;case s:l=(r-i)/h+2;break;case r:l=(i-s)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=at.workingColorSpace){return at.workingToColorSpace(yn.copy(this),n),e.r=yn.r,e.g=yn.g,e.b=yn.b,e}getStyle(e=an){at.workingToColorSpace(yn.copy(this),e);const n=yn.r,i=yn.g,s=yn.b;return e!==an?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,n,i){return this.getHSL(Sr),this.setHSL(Sr.h+e,Sr.s+n,Sr.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Sr),e.getHSL(Pd);const i=Wc(Sr.h,Pd.h,n),s=Wc(Sr.s,Pd.s,n),r=Wc(Sr.l,Pd.l,n);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*n+r[3]*i+r[6]*s,this.g=r[1]*n+r[4]*i+r[7]*s,this.b=r[2]*n+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const yn=new Oe;Oe.NAMES=aP;let oV=0;class Es extends po{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:oV++}),this.uuid=Ki(),this.name="",this.type="Material",this.blending=Qa,this.side=pr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ix,this.blendDst=Lx,this.blendEquation=Ro,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Oe(0,0,0),this.blendAlpha=0,this.depthFunc=Tl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ra,this.stencilZFail=ra,this.stencilZPass=ra,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Qa&&(i.blending=this.blending),this.side!==pr&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Ix&&(i.blendSrc=this.blendSrc),this.blendDst!==Lx&&(i.blendDst=this.blendDst),this.blendEquation!==Ro&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Tl&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==wS&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ra&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ra&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ra&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(n){const r=s(e.textures),o=s(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const s=n.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=n[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Js extends Es{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=G2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Xt=new U,Rd=new Ae;let aV=0;class Vt{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:aV++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=g0,this.updateRanges=[],this.gpuType=Xi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=n.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Rd.fromBufferAttribute(this,n),Rd.applyMatrix3(e),this.setXY(n,Rd.x,Rd.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Xt.fromBufferAttribute(this,n),Xt.applyMatrix3(e),this.setXYZ(n,Xt.x,Xt.y,Xt.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Xt.fromBufferAttribute(this,n),Xt.applyMatrix4(e),this.setXYZ(n,Xt.x,Xt.y,Xt.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Xt.fromBufferAttribute(this,n),Xt.applyNormalMatrix(e),this.setXYZ(n,Xt.x,Xt.y,Xt.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Xt.fromBufferAttribute(this,n),Xt.transformDirection(e),this.setXYZ(n,Xt.x,Xt.y,Xt.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Gi(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=gt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Gi(n,this.array)),n}setX(e,n){return this.normalized&&(n=gt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Gi(n,this.array)),n}setY(e,n){return this.normalized&&(n=gt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Gi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=gt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Gi(n,this.array)),n}setW(e,n){return this.normalized&&(n=gt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=gt(n,this.array),i=gt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=gt(n,this.array),i=gt(i,this.array),s=gt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=gt(n,this.array),i=gt(i,this.array),s=gt(s,this.array),r=gt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==g0&&(e.usage=this.usage),e}}class lP extends Vt{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class cP extends Vt{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class Qi extends Vt{constructor(e,n,i){super(new Float32Array(e),n,i)}}let lV=0;const bi=new Ze,jm=new Nt,ma=new U,ei=new Ns,fc=new Ns,rn=new U;class Ii extends po{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lV++}),this.uuid=Ki(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rP(e)?cP:lP)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Ke().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return bi.makeRotationFromQuaternion(e),this.applyMatrix4(bi),this}rotateX(e){return bi.makeRotationX(e),this.applyMatrix4(bi),this}rotateY(e){return bi.makeRotationY(e),this.applyMatrix4(bi),this}rotateZ(e){return bi.makeRotationZ(e),this.applyMatrix4(bi),this}translate(e,n,i){return bi.makeTranslation(e,n,i),this.applyMatrix4(bi),this}scale(e,n,i){return bi.makeScale(e,n,i),this.applyMatrix4(bi),this}lookAt(e){return jm.lookAt(e),jm.updateMatrix(),this.applyMatrix4(jm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ma).negate(),this.translate(ma.x,ma.y,ma.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let s=0,r=e.length;s<r;s++){const o=e[s];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Qi(i,3))}else{const i=Math.min(e.length,n.count);for(let s=0;s<i;s++){const r=e[s];n.setXYZ(s,r.x,r.y,r.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ns);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new U(-1/0,-1/0,-1/0),new U(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,s=n.length;i<s;i++){const r=n[i];ei.setFromBufferAttribute(r),this.morphTargetsRelative?(rn.addVectors(this.boundingBox.min,ei.min),this.boundingBox.expandByPoint(rn),rn.addVectors(this.boundingBox.max,ei.max),this.boundingBox.expandByPoint(rn)):(this.boundingBox.expandByPoint(ei.min),this.boundingBox.expandByPoint(ei.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Is);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new U,1/0);return}if(e){const i=this.boundingSphere.center;if(ei.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const a=n[r];fc.setFromBufferAttribute(a),this.morphTargetsRelative?(rn.addVectors(ei.min,fc.min),ei.expandByPoint(rn),rn.addVectors(ei.max,fc.max),ei.expandByPoint(rn)):(ei.expandByPoint(fc.min),ei.expandByPoint(fc.max))}ei.getCenter(i);let s=0;for(let r=0,o=e.count;r<o;r++)rn.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(rn));if(n)for(let r=0,o=n.length;r<o;r++){const a=n[r],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)rn.fromBufferAttribute(a,c),l&&(ma.fromBufferAttribute(e,c),rn.add(ma)),s=Math.max(s,i.distanceToSquared(rn))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,s=n.normal,r=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vt(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let E=0;E<i.count;E++)a[E]=new U,l[E]=new U;const c=new U,d=new U,h=new U,f=new Ae,p=new Ae,x=new Ae,v=new U,g=new U;function m(E,C,S){c.fromBufferAttribute(i,E),d.fromBufferAttribute(i,C),h.fromBufferAttribute(i,S),f.fromBufferAttribute(r,E),p.fromBufferAttribute(r,C),x.fromBufferAttribute(r,S),d.sub(c),h.sub(c),p.sub(f),x.sub(f);const R=1/(p.x*x.y-x.x*p.y);isFinite(R)&&(v.copy(d).multiplyScalar(x.y).addScaledVector(h,-p.y).multiplyScalar(R),g.copy(h).multiplyScalar(p.x).addScaledVector(d,-x.x).multiplyScalar(R),a[E].add(v),a[C].add(v),a[S].add(v),l[E].add(g),l[C].add(g),l[S].add(g))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let E=0,C=y.length;E<C;++E){const S=y[E],R=S.start,D=S.count;for(let F=R,O=R+D;F<O;F+=3)m(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const b=new U,_=new U,w=new U,T=new U;function A(E){w.fromBufferAttribute(s,E),T.copy(w);const C=a[E];b.copy(C),b.sub(w.multiplyScalar(w.dot(C))).normalize(),_.crossVectors(T,C);const R=_.dot(l[E])<0?-1:1;o.setXYZW(E,b.x,b.y,b.z,R)}for(let E=0,C=y.length;E<C;++E){const S=y[E],R=S.start,D=S.count;for(let F=R,O=R+D;F<O;F+=3)A(e.getX(F+0)),A(e.getX(F+1)),A(e.getX(F+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Vt(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let f=0,p=i.count;f<p;f++)i.setXYZ(f,0,0,0);const s=new U,r=new U,o=new U,a=new U,l=new U,c=new U,d=new U,h=new U;if(e)for(let f=0,p=e.count;f<p;f+=3){const x=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);s.fromBufferAttribute(n,x),r.fromBufferAttribute(n,v),o.fromBufferAttribute(n,g),d.subVectors(o,r),h.subVectors(s,r),d.cross(h),a.fromBufferAttribute(i,x),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,g),a.add(d),l.add(d),c.add(d),i.setXYZ(x,a.x,a.y,a.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let f=0,p=n.count;f<p;f+=3)s.fromBufferAttribute(n,f+0),r.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),d.subVectors(o,r),h.subVectors(s,r),d.cross(h),i.setXYZ(f+0,d.x,d.y,d.z),i.setXYZ(f+1,d.x,d.y,d.z),i.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)rn.fromBufferAttribute(e,n),rn.normalize(),e.setXYZ(n,rn.x,rn.y,rn.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,f=new c.constructor(l.length*d);let p=0,x=0;for(let v=0,g=l.length;v<g;v++){a.isInterleavedBufferAttribute?p=l[v]*a.data.stride+a.offset:p=l[v]*d;for(let m=0;m<d;m++)f[x++]=c[p++]}return new Vt(f,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ii,i=this.index.array,s=this.attributes;for(const a in s){const l=s[a],c=e(l,i);n.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let d=0,h=c.length;d<h;d++){const f=c[d],p=e(f,i);l.push(p)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,f=c.length;h<f;h++){const p=c[h];d.push(p.toJSON(e.data))}d.length>0&&(s[l]=d,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const s=e.attributes;for(const c in s){const d=s[c];this.setAttribute(c,d.clone(n))}const r=e.morphAttributes;for(const c in r){const d=[],h=r[c];for(let f=0,p=h.length;f<p;f++)d.push(h[f].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jS=new Ze,bo=new Xl,Nd=new Is,FS=new U,Id=new U,Ld=new U,Dd=new U,Fm=new U,kd=new U,US=new U,Od=new U;class En extends Nt{constructor(e=new Ii,n=new Js){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,n){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(s,e);const a=this.morphTargetInfluences;if(r&&a){kd.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const d=a[l],h=r[l];d!==0&&(Fm.fromBufferAttribute(h,e),o?kd.addScaledVector(Fm,d):kd.addScaledVector(Fm.sub(n),d))}n.add(kd)}return n}raycast(e,n){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Nd.copy(i.boundingSphere),Nd.applyMatrix4(r),bo.copy(e.ray).recast(e.near),!(Nd.containsPoint(bo.origin)===!1&&(bo.intersectSphere(Nd,FS)===null||bo.origin.distanceToSquared(FS)>(e.far-e.near)**2))&&(jS.copy(r).invert(),bo.copy(e.ray).applyMatrix4(jS),!(i.boundingBox!==null&&bo.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,bo)))}_computeIntersections(e,n,i){let s;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,c=r.attributes.uv,d=r.attributes.uv1,h=r.attributes.normal,f=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(o))for(let x=0,v=f.length;x<v;x++){const g=f[x],m=o[g.materialIndex],y=Math.max(g.start,p.start),b=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let _=y,w=b;_<w;_+=3){const T=a.getX(_),A=a.getX(_+1),E=a.getX(_+2);s=jd(this,m,e,i,c,d,h,T,A,E),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=g.materialIndex,n.push(s))}}else{const x=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let g=x,m=v;g<m;g+=3){const y=a.getX(g),b=a.getX(g+1),_=a.getX(g+2);s=jd(this,o,e,i,c,d,h,y,b,_),s&&(s.faceIndex=Math.floor(g/3),n.push(s))}}else if(l!==void 0)if(Array.isArray(o))for(let x=0,v=f.length;x<v;x++){const g=f[x],m=o[g.materialIndex],y=Math.max(g.start,p.start),b=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let _=y,w=b;_<w;_+=3){const T=_,A=_+1,E=_+2;s=jd(this,m,e,i,c,d,h,T,A,E),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=g.materialIndex,n.push(s))}}else{const x=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let g=x,m=v;g<m;g+=3){const y=g,b=g+1,_=g+2;s=jd(this,o,e,i,c,d,h,y,b,_),s&&(s.faceIndex=Math.floor(g/3),n.push(s))}}}}function cV(t,e,n,i,s,r,o,a){let l;if(e.side===$n?l=i.intersectTriangle(o,r,s,!0,a):l=i.intersectTriangle(s,r,o,e.side===pr,a),l===null)return null;Od.copy(a),Od.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Od);return c<n.near||c>n.far?null:{distance:c,point:Od.clone(),object:t}}function jd(t,e,n,i,s,r,o,a,l,c){t.getVertexPosition(a,Id),t.getVertexPosition(l,Ld),t.getVertexPosition(c,Dd);const d=cV(t,e,n,i,Id,Ld,Dd,US);if(d){const h=new U;Wi.getBarycoord(US,Id,Ld,Dd,h),s&&(d.uv=Wi.getInterpolatedAttribute(s,a,l,c,h,new Ae)),r&&(d.uv1=Wi.getInterpolatedAttribute(r,a,l,c,h,new Ae)),o&&(d.normal=Wi.getInterpolatedAttribute(o,a,l,c,h,new U),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new U,materialIndex:0};Wi.getNormal(Id,Ld,Dd,f.normal),d.face=f,d.barycoord=h}return d}class Vu extends Ii{constructor(e=1,n=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const a=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],d=[],h=[];let f=0,p=0;x("z","y","x",-1,-1,i,n,e,o,r,0),x("z","y","x",1,-1,i,n,-e,o,r,1),x("x","z","y",1,1,e,i,n,s,o,2),x("x","z","y",1,-1,e,i,-n,s,o,3),x("x","y","z",1,-1,e,n,i,s,r,4),x("x","y","z",-1,-1,e,n,-i,s,r,5),this.setIndex(l),this.setAttribute("position",new Qi(c,3)),this.setAttribute("normal",new Qi(d,3)),this.setAttribute("uv",new Qi(h,2));function x(v,g,m,y,b,_,w,T,A,E,C){const S=_/A,R=w/E,D=_/2,F=w/2,O=T/2,G=A+1,H=E+1;let j=0,N=0;const B=new U;for(let q=0;q<H;q++){const ee=q*R-F;for(let xe=0;xe<G;xe++){const Be=xe*S-D;B[v]=Be*y,B[g]=ee*b,B[m]=O,c.push(B.x,B.y,B.z),B[v]=0,B[g]=0,B[m]=T>0?1:-1,d.push(B.x,B.y,B.z),h.push(xe/A),h.push(1-q/E),j+=1}}for(let q=0;q<E;q++)for(let ee=0;ee<A;ee++){const xe=f+ee+G*q,Be=f+ee+G*(q+1),We=f+(ee+1)+G*(q+1),Q=f+(ee+1)+G*q;l.push(xe,Be,Q),l.push(Be,We,Q),N+=6}a.addGroup(p,N,C),p+=N,f+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Pl(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const s=t[n][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=s.clone():Array.isArray(s)?e[n][i]=s.slice():e[n][i]=s}}return e}function Pn(t){const e={};for(let n=0;n<t.length;n++){const i=Pl(t[n]);for(const s in i)e[s]=i[s]}return e}function uV(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function uP(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:at.workingColorSpace}const vf={clone:Pl,merge:Pn};var dV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,hV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class hn extends Es{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=dV,this.fragmentShader=hV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Pl(e.uniforms),this.uniformsGroups=uV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?n.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[s]={type:"m4",value:o.toArray()}:n.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class dP extends Nt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ze,this.projectionMatrix=new Ze,this.projectionMatrixInverse=new Ze,this.coordinateSystem=vs,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Tr=new U,BS=new Ae,zS=new Ae;class Tn extends dP{constructor(e=50,n=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Cl*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Gc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Cl*2*Math.atan(Math.tan(Gc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Tr.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Tr.x,Tr.y).multiplyScalar(-e/Tr.z),Tr.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Tr.x,Tr.y).multiplyScalar(-e/Tr.z)}getViewSize(e,n){return this.getViewBounds(e,BS,zS),n.subVectors(zS,BS)}setViewOffset(e,n,i,s,r,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Gc*.5*this.fov)/this.zoom,i=2*n,s=this.aspect*i,r=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*s/l,n-=o.offsetY*i/c,s*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ga=-90,xa=1;class fV extends Nt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Tn(ga,xa,e,n);s.layers=this.layers,this.add(s);const r=new Tn(ga,xa,e,n);r.layers=this.layers,this.add(r);const o=new Tn(ga,xa,e,n);o.layers=this.layers,this.add(o);const a=new Tn(ga,xa,e,n);a.layers=this.layers,this.add(a);const l=new Tn(ga,xa,e,n);l.layers=this.layers,this.add(l);const c=new Tn(ga,xa,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,s,r,o,a,l]=n;for(const c of n)this.remove(c);if(e===vs)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===xf)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,a,l,c,d]=this.children,h=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const v=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(n,r),e.setRenderTarget(i,1,s),e.render(n,o),e.setRenderTarget(i,2,s),e.render(n,a),e.setRenderTarget(i,3,s),e.render(n,l),e.setRenderTarget(i,4,s),e.render(n,c),i.texture.generateMipmaps=v,e.setRenderTarget(i,5,s),e.render(n,d),e.setRenderTarget(h,f,p),e.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class hP extends tn{constructor(e=[],n=El,i,s,r,o,a,l,c,d){super(e,n,i,s,r,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class pV extends Zi{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new hP(s),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Vu(5,5,5),r=new hn({name:"CubemapFromEquirect",uniforms:Pl(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:$n,blending:sr});r.uniforms.tEquirect.value=n;const o=new En(s,r),a=n.minFilter;return n.minFilter===xs&&(n.minFilter=Hn),new fV(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,i=!0,s=!0){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,s);e.setRenderTarget(r)}}class Gr extends Nt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const mV={type:"move"};class Um{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Gr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Gr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new U,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new U),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Gr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new U,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new U),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let s=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const g=n.getJointPose(v,i),m=this._getHandJoint(c,v);g!==null&&(m.matrix.fromArray(g.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=g.radius),m.visible=g!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],f=d.position.distanceTo(h.position),p=.02,x=.005;c.inputState.pinching&&f>p+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=p-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,i),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(s=n.getPose(e.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(mV)))}return a!==null&&(a.visible=s!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Gr;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class fP extends Nt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ps,this.environmentIntensity=1,this.environmentRotation=new Ps,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class gV{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=g0,this.updateRanges=[],this.version=0,this.uuid=Ki()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=n.array[i+s];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Cn=new U;class Fy{constructor(e,n,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Cn.fromBufferAttribute(this,n),Cn.applyMatrix4(e),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Cn.fromBufferAttribute(this,n),Cn.applyNormalMatrix(e),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Cn.fromBufferAttribute(this,n),Cn.transformDirection(e),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=Gi(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=gt(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=gt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=gt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=gt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=gt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Gi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Gi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Gi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Gi(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=gt(n,this.array),i=gt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=gt(n,this.array),i=gt(i,this.array),s=gt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=gt(n,this.array),i=gt(i,this.array),s=gt(s,this.array),r=gt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return new Vt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Fy(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const VS=new U,HS=new dt,GS=new dt,xV=new U,WS=new Ze,Fd=new U,Bm=new Is,XS=new Ze,zm=new Xl;class vV extends En{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=_S,this.bindMatrix=new Ze,this.bindMatrixInverse=new Ze,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ns),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Fd),this.boundingBox.expandByPoint(Fd)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Is),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Fd),this.boundingSphere.expandByPoint(Fd)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Bm.copy(this.boundingSphere),Bm.applyMatrix4(s),e.ray.intersectsSphere(Bm)!==!1&&(XS.copy(s).invert(),zm.copy(e.ray).applyMatrix4(XS),!(this.boundingBox!==null&&zm.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,zm)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dt,n=this.geometry.attributes.skinWeight;for(let i=0,s=n.count;i<s;i++){e.fromBufferAttribute(n,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===_S?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===pz?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,s=this.geometry;HS.fromBufferAttribute(s.attributes.skinIndex,e),GS.fromBufferAttribute(s.attributes.skinWeight,e),VS.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let r=0;r<4;r++){const o=GS.getComponent(r);if(o!==0){const a=HS.getComponent(r);WS.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(xV.copy(VS).applyMatrix4(WS),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class pP extends Nt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class mP extends tn{constructor(e=null,n=1,i=1,s,r,o,a,l,c=Dn,d=Dn,h,f){super(null,o,a,l,c,d,s,r,h,f),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $S=new Ze,yV=new Ze;class Uy{constructor(e=[],n=[]){this.uuid=Ki(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Ze)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Ze;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const a=e[r]?e[r].matrixWorld:yV;$S.multiplyMatrices(a,n[r]),$S.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Uy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new mP(n,e,e,Ai,Xi);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let o=n[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new pP),this.bones.push(o),this.boneInverses.push(new Ze().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let s=0,r=n.length;s<r;s++){const o=n[s];e.bones.push(o.uuid);const a=i[s];e.boneInverses.push(a.toArray())}return e}}class x0 extends Vt{constructor(e,n,i,s=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const va=new Ze,qS=new Ze,Ud=[],YS=new Ns,bV=new Ze,pc=new En,mc=new Is;class _V extends En{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new x0(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,bV)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ns),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,va),YS.copy(e.boundingBox).applyMatrix4(va),this.boundingBox.union(YS)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Is),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,va),mc.copy(e.boundingSphere).applyMatrix4(va),this.boundingSphere.union(mc)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,o=e*r+1;for(let a=0;a<i.length;a++)i[a]=s[o+a]}raycast(e,n){const i=this.matrixWorld,s=this.count;if(pc.geometry=this.geometry,pc.material=this.material,pc.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),mc.copy(this.boundingSphere),mc.applyMatrix4(i),e.ray.intersectsSphere(mc)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,va),qS.multiplyMatrices(i,va),pc.matrixWorld=qS,pc.raycast(e,Ud);for(let o=0,a=Ud.length;o<a;o++){const l=Ud[o];l.instanceId=r,l.object=this,n.push(l)}Ud.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new x0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new mP(new Float32Array(s*this.count),s,this.count,Ry,Xi));const r=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=s*e;r[l]=a,r.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Vm=new U,wV=new U,SV=new Ke;class Ys{constructor(e=new U(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,s){return this.normal.set(e,n,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const s=Vm.subVectors(i,n).cross(wV.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Vm),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:n.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||SV.getNormalMatrix(e),s=this.coplanarPoint(Vm).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _o=new Is,TV=new Ae(.5,.5),Bd=new U;class By{constructor(e=new Ys,n=new Ys,i=new Ys,s=new Ys,r=new Ys,o=new Ys){this.planes=[e,n,i,s,r,o]}set(e,n,i,s,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(s),a[4].copy(r),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=vs,i=!1){const s=this.planes,r=e.elements,o=r[0],a=r[1],l=r[2],c=r[3],d=r[4],h=r[5],f=r[6],p=r[7],x=r[8],v=r[9],g=r[10],m=r[11],y=r[12],b=r[13],_=r[14],w=r[15];if(s[0].setComponents(c-o,p-d,m-x,w-y).normalize(),s[1].setComponents(c+o,p+d,m+x,w+y).normalize(),s[2].setComponents(c+a,p+h,m+v,w+b).normalize(),s[3].setComponents(c-a,p-h,m-v,w-b).normalize(),i)s[4].setComponents(l,f,g,_).normalize(),s[5].setComponents(c-l,p-f,m-g,w-_).normalize();else if(s[4].setComponents(c-l,p-f,m-g,w-_).normalize(),n===vs)s[5].setComponents(c+l,p+f,m+g,w+_).normalize();else if(n===xf)s[5].setComponents(l,f,g,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_o.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),_o.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_o)}intersectsSprite(e){_o.center.set(0,0,0);const n=TV.distanceTo(e.center);return _o.radius=.7071067811865476+n,_o.applyMatrix4(e.matrixWorld),this.intersectsSphere(_o)}intersectsSphere(e){const n=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const s=n[i];if(Bd.x=s.normal.x>0?e.max.x:e.min.x,Bd.y=s.normal.y>0?e.max.y:e.min.y,Bd.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Bd)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class gP extends Es{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Oe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const yf=new U,bf=new U,KS=new Ze,gc=new Xl,zd=new Is,Hm=new U,ZS=new U;class zy extends Nt{constructor(e=new Ii,n=new gP){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let s=1,r=n.count;s<r;s++)yf.fromBufferAttribute(n,s-1),bf.fromBufferAttribute(n,s),i[s]=i[s-1],i[s]+=yf.distanceTo(bf);e.setAttribute("lineDistance",new Qi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),zd.copy(i.boundingSphere),zd.applyMatrix4(s),zd.radius+=r,e.ray.intersectsSphere(zd)===!1)return;KS.copy(s).invert(),gc.copy(e.ray).applyMatrix4(KS);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=i.index,f=i.attributes.position;if(d!==null){const p=Math.max(0,o.start),x=Math.min(d.count,o.start+o.count);for(let v=p,g=x-1;v<g;v+=c){const m=d.getX(v),y=d.getX(v+1),b=Vd(this,e,gc,l,m,y,v);b&&n.push(b)}if(this.isLineLoop){const v=d.getX(x-1),g=d.getX(p),m=Vd(this,e,gc,l,v,g,x-1);m&&n.push(m)}}else{const p=Math.max(0,o.start),x=Math.min(f.count,o.start+o.count);for(let v=p,g=x-1;v<g;v+=c){const m=Vd(this,e,gc,l,v,v+1,v);m&&n.push(m)}if(this.isLineLoop){const v=Vd(this,e,gc,l,x-1,p,x-1);v&&n.push(v)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function Vd(t,e,n,i,s,r,o){const a=t.geometry.attributes.position;if(yf.fromBufferAttribute(a,s),bf.fromBufferAttribute(a,r),n.distanceSqToSegment(yf,bf,Hm,ZS)>i)return;Hm.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(Hm);if(!(c<e.near||c>e.far))return{distance:c,point:ZS.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const QS=new U,JS=new U;class EV extends zy{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let s=0,r=n.count;s<r;s+=2)QS.fromBufferAttribute(n,s),JS.fromBufferAttribute(n,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+QS.distanceTo(JS);e.setAttribute("lineDistance",new Qi(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class MV extends zy{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class xP extends Es{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const e1=new Ze,v0=new Xl,Hd=new Is,Gd=new U;class vP extends Nt{constructor(e=new Ii,n=new xP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Hd.copy(i.boundingSphere),Hd.applyMatrix4(s),Hd.radius+=r,e.ray.intersectsSphere(Hd)===!1)return;e1.copy(s).invert(),v0.copy(e.ray).applyMatrix4(e1);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let x=f,v=p;x<v;x++){const g=c.getX(x);Gd.fromBufferAttribute(h,g),t1(Gd,g,l,s,e,n,this)}}else{const f=Math.max(0,o.start),p=Math.min(h.count,o.start+o.count);for(let x=f,v=p;x<v;x++)Gd.fromBufferAttribute(h,x),t1(Gd,x,l,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function t1(t,e,n,i,s,r,o){const a=v0.distanceSqToPoint(t);if(a<n){const l=new U;v0.closestPointToPoint(t,l),l.applyMatrix4(i);const c=s.ray.origin.distanceTo(l);if(c<s.near||c>s.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class AV extends tn{constructor(e,n,i,s,r,o,a,l,c){super(e,n,i,s,r,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class yP extends tn{constructor(e,n,i=Qo,s,r,o,a=Dn,l=Dn,c,d=Tu,h=1){if(d!==Tu&&d!==Eu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:h};super(f,s,r,o,a,l,d,i,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Oy(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Rl extends Ii{constructor(e=1,n=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s};const r=e/2,o=n/2,a=Math.floor(i),l=Math.floor(s),c=a+1,d=l+1,h=e/a,f=n/l,p=[],x=[],v=[],g=[];for(let m=0;m<d;m++){const y=m*f-o;for(let b=0;b<c;b++){const _=b*h-r;x.push(_,-y,0),v.push(0,0,1),g.push(b/a),g.push(1-m/l)}}for(let m=0;m<l;m++)for(let y=0;y<a;y++){const b=y+c*m,_=y+c*(m+1),w=y+1+c*(m+1),T=y+1+c*m;p.push(b,_,T),p.push(_,w,T)}this.setIndex(p),this.setAttribute("position",new Qi(x,3)),this.setAttribute("normal",new Qi(v,3)),this.setAttribute("uv",new Qi(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rl(e.width,e.height,e.widthSegments,e.heightSegments)}}class Vy extends Es{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Oe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nP,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ls extends Vy{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ae(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return et(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Oe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Oe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Oe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class CV extends Es{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=yz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class PV extends Es{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Wd(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function RV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function NV(t){function e(s,r){return t[s]-t[r]}const n=t.length,i=new Array(n);for(let s=0;s!==n;++s)i[s]=s;return i.sort(e),i}function n1(t,e,n){const i=t.length,s=new t.constructor(i);for(let r=0,o=0;o!==i;++r){const a=n[r]*e;for(let l=0;l!==e;++l)s[o++]=t[a+l]}return s}function bP(t,e,n,i){let s=1,r=t[0];for(;r!==void 0&&r[i]===void 0;)r=t[s++];if(r===void 0)return;let o=r[i];if(o!==void 0)if(Array.isArray(o))do o=r[i],o!==void 0&&(e.push(r.time),n.push(...o)),r=t[s++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[i],o!==void 0&&(e.push(r.time),o.toArray(n,n.length)),r=t[s++];while(r!==void 0);else do o=r[i],o!==void 0&&(e.push(r.time),n.push(o)),r=t[s++];while(r!==void 0)}class Hu{constructor(e,n,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,s=n[i],r=n[i-1];e:{t:{let o;n:{i:if(!(e<s)){for(let a=i+2;;){if(s===void 0){if(e<r)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(r=s,s=n[++i],e<s)break t}o=n.length;break n}if(!(e>=r)){const a=n[1];e<a&&(i=2,r=a);for(let l=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(s=r,r=n[--i-1],e>=r)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(s=n[i],r=n[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let o=0;o!==s;++o)n[o]=i[r+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class IV extends Hu{constructor(e,n,i,s){super(e,n,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ua,endingEnd:Ua}}intervalChanged_(e,n,i){const s=this.parameterPositions;let r=e-2,o=e+1,a=s[r],l=s[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ba:r=e,a=2*n-i;break;case mf:r=s.length-2,a=n+s[r]-s[r+1];break;default:r=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Ba:o=e,l=2*i-n;break;case mf:o=1,l=i+s[1]-s[0];break;default:o=e-1,l=n}const c=(i-n)*.5,d=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=r*d,this._offsetNext=o*d}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,p=this._weightNext,x=(i-n)/(s-n),v=x*x,g=v*x,m=-f*g+2*f*v-f*x,y=(1+f)*g+(-1.5-2*f)*v+(-.5+f)*x+1,b=(-1-p)*g+(1.5+p)*v+.5*x,_=p*g-p*v;for(let w=0;w!==a;++w)r[w]=m*o[d+w]+y*o[c+w]+b*o[l+w]+_*o[h+w];return r}}class _P extends Hu{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-n)/(s-n),h=1-d;for(let f=0;f!==a;++f)r[f]=o[c+f]*h+o[l+f]*d;return r}}class LV extends Hu{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class ss{constructor(e,n,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wd(n,this.TimeBufferType),this.values=Wd(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Wd(e.times,Array),values:Wd(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new LV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _P(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new IV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Mu:n=this.InterpolantFactoryMethodDiscrete;break;case Au:n=this.InterpolantFactoryMethodLinear;break;case vm:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Mu;case this.InterpolantFactoryMethodLinear:return Au;case this.InterpolantFactoryMethodSmooth:return vm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]*=e}return this}trim(e,n){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<e;)++r;for(;o!==-1&&i[o]>n;)--o;if(++o,r!==0||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(s!==void 0&&RV(s))for(let a=0,l=s.length;a!==l;++a){const c=s[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===vm,r=e.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(s)l=!0;else{const h=a*i,f=h-i,p=h+i;for(let x=0;x!==i;++x){const v=n[h+x];if(v!==n[f+x]||v!==n[p+x]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,f=o*i;for(let p=0;p!==i;++p)n[f+p]=n[h+p]}++o}}if(r>0){e[o]=e[r];for(let a=r*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,s=new i(this.name,e,n);return s.createInterpolant=this.createInterpolant,s}}ss.prototype.ValueTypeName="";ss.prototype.TimeBufferType=Float32Array;ss.prototype.ValueBufferType=Float32Array;ss.prototype.DefaultInterpolation=Au;class $l extends ss{constructor(e,n,i){super(e,n,i)}}$l.prototype.ValueTypeName="bool";$l.prototype.ValueBufferType=Array;$l.prototype.DefaultInterpolation=Mu;$l.prototype.InterpolantFactoryMethodLinear=void 0;$l.prototype.InterpolantFactoryMethodSmooth=void 0;class wP extends ss{constructor(e,n,i,s){super(e,n,i,s)}}wP.prototype.ValueTypeName="color";class Nl extends ss{constructor(e,n,i,s){super(e,n,i,s)}}Nl.prototype.ValueTypeName="number";class DV extends Hu{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(s-n);let c=e*a;for(let d=c+a;c!==d;c+=4)li.slerpFlat(r,0,o,c-a,o,c,l);return r}}class Il extends ss{constructor(e,n,i,s){super(e,n,i,s)}InterpolantFactoryMethodLinear(e){return new DV(this.times,this.values,this.getValueSize(),e)}}Il.prototype.ValueTypeName="quaternion";Il.prototype.InterpolantFactoryMethodSmooth=void 0;class ql extends ss{constructor(e,n,i){super(e,n,i)}}ql.prototype.ValueTypeName="string";ql.prototype.ValueBufferType=Array;ql.prototype.DefaultInterpolation=Mu;ql.prototype.InterpolantFactoryMethodLinear=void 0;ql.prototype.InterpolantFactoryMethodSmooth=void 0;class Ll extends ss{constructor(e,n,i,s){super(e,n,i,s)}}Ll.prototype.ValueTypeName="vector";class y0{constructor(e="",n=-1,i=[],s=Dy){this.name=e,this.tracks=i,this.duration=n,this.blendMode=s,this.uuid=Ki(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,s=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(OV(i[o]).scale(s));const r=new this(e.name,e.duration,n,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const n=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=i.length;r!==o;++r)n.push(ss.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,n,i,s){const r=n.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const d=NV(l);l=n1(l,1,d),c=n1(c,1,d),!s&&l[0]===0&&(l.push(r),c.push(c[0])),o.push(new Nl(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===n)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(r);if(d&&d.length>1){const h=d[1];let f=s[h];f||(s[h]=f=[]),f.push(c)}}const o=[];for(const a in s)o.push(this.CreateFromMorphTargetSequence(a,s[a],n,i));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,f,p,x,v){if(p.length!==0){const g=[],m=[];bP(p,g,m,x),g.length!==0&&v.push(new h(f,g,m))}},s=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const f=c[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let x;for(x=0;x<f.length;x++)if(f[x].morphTargets)for(let v=0;v<f[x].morphTargets.length;v++)p[f[x].morphTargets[v]]=-1;for(const v in p){const g=[],m=[];for(let y=0;y!==f[x].morphTargets.length;++y){const b=f[x];g.push(b.time),m.push(b.morphTarget===v?1:0)}s.push(new Nl(".morphTargetInfluence["+v+"]",g,m))}l=p.length*o}else{const p=".bones["+n[h].name+"]";i(Ll,p+".position",f,"pos",s),i(Il,p+".quaternion",f,"rot",s),i(Ll,p+".scale",f,"scl",s)}}return s.length===0?null:new this(r,l,s,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,s=e.length;i!==s;++i){const r=this.tracks[i];n=Math.max(n,r.times[r.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function kV(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Nl;case"vector":case"vector2":case"vector3":case"vector4":return Ll;case"color":return wP;case"quaternion":return Il;case"bool":case"boolean":return $l;case"string":return ql}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function OV(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=kV(t.type);if(t.times===void 0){const n=[],i=[];bP(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const er={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class jV{constructor(e,n,i){const s=this;let r=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.abortController=new AbortController,this.itemStart=function(d){a++,r===!1&&s.onStart!==void 0&&s.onStart(d,o,a),r=!0},this.itemEnd=function(d){o++,s.onProgress!==void 0&&s.onProgress(d,o,a),o===a&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(d){s.onError!==void 0&&s.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,f=c.length;h<f;h+=2){const p=c[h],x=c[h+1];if(p.global&&(p.lastIndex=0),p.test(d))return x}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const FV=new jV;class Yl{constructor(e){this.manager=e!==void 0?e:FV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(s,r){i.load(e,s,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Yl.DEFAULT_MATERIAL_NAME="__DEFAULT";const Vs={};class UV extends Error{constructor(e,n){super(e),this.response=n}}class SP extends Yl{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=er.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(r),this.manager.itemEnd(e)},0),r;if(Vs[e]!==void 0){Vs[e].push({onLoad:n,onProgress:i,onError:s});return}Vs[e]=[],Vs[e].push({onLoad:n,onProgress:i,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Vs[e],h=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),p=f?parseInt(f):0,x=p!==0;let v=0;const g=new ReadableStream({start(m){y();function y(){h.read().then(({done:b,value:_})=>{if(b)m.close();else{v+=_.byteLength;const w=new ProgressEvent("progress",{lengthComputable:x,loaded:v,total:p});for(let T=0,A=d.length;T<A;T++){const E=d[T];E.onProgress&&E.onProgress(w)}m.enqueue(_),y()}},b=>{m.error(b)})}}});return new Response(g)}else throw new UV(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a==="")return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),f=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(f);return c.arrayBuffer().then(x=>p.decode(x))}}}).then(c=>{er.add(`file:${e}`,c);const d=Vs[e];delete Vs[e];for(let h=0,f=d.length;h<f;h++){const p=d[h];p.onLoad&&p.onLoad(c)}}).catch(c=>{const d=Vs[e];if(d===void 0)throw this.manager.itemError(e),c;delete Vs[e];for(let h=0,f=d.length;h<f;h++){const p=d[h];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}const ya=new WeakMap;class BV extends Yl{constructor(e){super(e)}load(e,n,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=er.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0);else{let h=ya.get(o);h===void 0&&(h=[],ya.set(o,h)),h.push({onLoad:n,onError:s})}return o}const a=Cu("img");function l(){d(),n&&n(this);const h=ya.get(this)||[];for(let f=0;f<h.length;f++){const p=h[f];p.onLoad&&p.onLoad(this)}ya.delete(this),r.manager.itemEnd(e)}function c(h){d(),s&&s(h),er.remove(`image:${e}`);const f=ya.get(this)||[];for(let p=0;p<f.length;p++){const x=f[p];x.onError&&x.onError(h)}ya.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),er.add(`image:${e}`,a),r.manager.itemStart(e),a.src=e,a}}class zV extends Yl{constructor(e){super(e)}load(e,n,i,s){const r=new tn,o=new BV(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,n!==void 0&&n(r)},i,s),r}}class op extends Nt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Oe(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class TP extends op{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Oe(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Gm=new Ze,i1=new U,s1=new U;class Hy{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ae(512,512),this.mapType=Cs,this.map=null,this.mapPass=null,this.matrix=new Ze,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new By,this._frameExtents=new Ae(1,1),this._viewportCount=1,this._viewports=[new dt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;i1.setFromMatrixPosition(e.matrixWorld),n.position.copy(i1),s1.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(s1),n.updateMatrixWorld(),Gm.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Gm,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Gm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class VV extends Hy{constructor(){super(new Tn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=Cl*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||n.far;(i!==n.fov||s!==n.aspect||r!==n.far)&&(n.fov=i,n.aspect=s,n.far=r,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class HV extends op{constructor(e,n,i=0,s=Math.PI/3,r=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.target=new Nt,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new VV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const r1=new Ze,xc=new U,Wm=new U;class GV extends Hy{constructor(){super(new Tn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ae(4,2),this._viewportCount=6,this._viewports=[new dt(2,1,1,1),new dt(0,1,1,1),new dt(3,1,1,1),new dt(1,1,1,1),new dt(3,0,1,1),new dt(1,0,1,1)],this._cubeDirections=[new U(1,0,0),new U(-1,0,0),new U(0,0,1),new U(0,0,-1),new U(0,1,0),new U(0,-1,0)],this._cubeUps=[new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,1,0),new U(0,0,1),new U(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),xc.setFromMatrixPosition(e.matrixWorld),i.position.copy(xc),Wm.copy(i.position),Wm.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(Wm),i.updateMatrixWorld(),s.makeTranslation(-xc.x,-xc.y,-xc.z),r1.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r1,i.coordinateSystem,i.reversedDepth)}}class WV extends op{constructor(e,n,i=0,s=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new GV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ap extends dP{constructor(e=-1,n=1,i=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,s,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,o=i+e,a=s+n,l=s-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class XV extends Hy{constructor(){super(new ap(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _f extends op{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nt.DEFAULT_UP),this.updateMatrix(),this.target=new Nt,this.shadow=new XV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Xc{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}const Xm=new WeakMap;class $V extends Yl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=er.get(`image-bitmap:${e}`);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(c=>{if(Xm.has(o)===!0)s&&s(Xm.get(o)),r.manager.itemError(e),r.manager.itemEnd(e);else return n&&n(c),r.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(c){return er.add(`image-bitmap:${e}`,c),n&&n(c),r.manager.itemEnd(e),c}).catch(function(c){s&&s(c),Xm.set(l,c),er.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});er.add(`image-bitmap:${e}`,l),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class qV extends Tn{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class EP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}class YV{constructor(e,n,i){this.binding=e,this.valueSize=i;let s,r,o;switch(n){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,s=this.valueSize,r=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==s;++a)i[r+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,r,0,a,s)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,s=e*n+n,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const l=n*this._origIndex;this._mixBufferRegion(i,s,l,1-r,n)}o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,s);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(n,s);for(let r=i,o=s;r!==o;++r)n[r]=n[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,s,r){if(s>=.5)for(let o=0;o!==r;++o)e[n+o]=e[i+o]}_slerp(e,n,i,s){li.slerpFlat(e,n,e,n,e,i,s)}_slerpAdditive(e,n,i,s,r){const o=this._workIndex*r;li.multiplyQuaternionsFlat(e,o,e,n,e,i),li.slerpFlat(e,n,e,n,e,o,s)}_lerp(e,n,i,s,r){const o=1-s;for(let a=0;a!==r;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*s}}_lerpAdditive(e,n,i,s,r){for(let o=0;o!==r;++o){const a=n+o;e[a]=e[a]+e[i+o]*s}}}const Gy="\\[\\]\\.:\\/",KV=new RegExp("["+Gy+"]","g"),Wy="[^"+Gy+"]",ZV="[^"+Gy.replace("\\.","")+"]",QV=/((?:WC+[\/:])*)/.source.replace("WC",Wy),JV=/(WCOD+)?/.source.replace("WCOD",ZV),e6=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Wy),t6=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Wy),n6=new RegExp("^"+QV+JV+e6+t6+"$"),i6=["material","materials","bones","map"];class s6{constructor(e,n,i){const s=i||mt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,s)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class mt{constructor(e,n,i){this.path=n,this.parsedPath=i||mt.parseTrackName(n),this.node=mt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new mt.Composite(e,n,i):new mt(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(KV,"")}static parseTrackName(e){const n=n6.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);i6.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)e[n++]=i[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,s=n.propertyName;let r=n.propertyIndex;if(e||(e=mt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[s];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+s+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}mt.Composite=s6;mt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};mt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};mt.prototype.GetterByBindingType=[mt.prototype._getValue_direct,mt.prototype._getValue_array,mt.prototype._getValue_arrayElement,mt.prototype._getValue_toArray];mt.prototype.SetterByBindingTypeAndVersioning=[[mt.prototype._setValue_direct,mt.prototype._setValue_direct_setNeedsUpdate,mt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[mt.prototype._setValue_array,mt.prototype._setValue_array_setNeedsUpdate,mt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[mt.prototype._setValue_arrayElement,mt.prototype._setValue_arrayElement_setNeedsUpdate,mt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[mt.prototype._setValue_fromArray,mt.prototype._setValue_fromArray_setNeedsUpdate,mt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class r6{constructor(e,n,i=null,s=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=s;const r=n.tracks,o=r.length,a=new Array(o),l={endingStart:Ua,endingEnd:Ua};for(let c=0;c!==o;++c){const d=r[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=eP,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const s=this._clip.duration,r=e._clip.duration,o=r/s,a=s/r;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const s=this._mixer,r=s.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=s._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=r,l[1]=r+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const l=(e-r)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case xz:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case Dy:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(s,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let s=this.time+e,r=this._loopCount;const o=i===gz;if(e===0)return r===-1?s:o&&(r&1)===1?n-s:s;if(i===mz){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=n||s<0){const a=Math.floor(s/n);s-=n*a,r+=Math.abs(a);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=s;if(o&&(r&1)===1)return n-s}return s}_setEndings(e,n,i){const s=this._interpolantSettings;i?(s.endingStart=Ba,s.endingEnd=Ba):(e?s.endingStart=this.zeroSlopeAtStart?Ba:Ua:s.endingStart=mf,n?s.endingEnd=this.zeroSlopeAtEnd?Ba:Ua:s.endingEnd=mf)}_scheduleFading(e,n,i){const s=this._mixer,r=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=r,l[0]=n,a[1]=r+e,l[1]=i,this}}const o6=new Float32Array(1);class a6 extends po{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,s=e._clip.tracks,r=s.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==r;++h){const f=s[h],p=f.name;let x=d[p];if(x!==void 0)++x.referenceCount,o[h]=x;else{if(x=o[h],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,p));continue}const v=n&&n._propertyBindings[h].binding.parsedPath;x=new YV(mt.create(i,p,v),f.ValueTypeName,f.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,p),o[h]=x}a[h].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,i)}const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const s=this._actions,r=this._actionsByClip;let o=r[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],s=e._cacheIndex;i._cacheIndex=s,n[s]=i,n.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,a=o[r],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete h[f],l.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,s=this._nActiveActions++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,s=--this._nActiveActions,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_addInactiveBinding(e,n,i){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[n];o===void 0&&(o={},s[n]=o),o[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,s=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,a=o[s],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[r],Object.keys(a).length===0&&delete o[s]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new _P(new Float32Array(2),new Float32Array(2),1,o6),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=n[s];e.__cacheIndex=s,n[s]=e,r.__cacheIndex=i,n[i]=r}clipAction(e,n,i){const s=n||this._root,r=s.uuid;let o=typeof e=="string"?y0.findByName(s,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Dy),l!==void 0){const h=l.actionByRoot[r];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new r6(this,o,n,i);return this._bindAction(d,c),this._addInactiveAction(d,a,r),d}existingAction(e,n){const i=n||this._root,s=i.uuid,r=typeof e=="string"?y0.findByName(i,e):e,o=r?r.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[s]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,s=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(s,e,r,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const o=r.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,n[d]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete s[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const s=this._bindingsByRootAndName,r=s[n];if(r!==void 0)for(const o in r){const a=r[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}const o1=new Ze;class l6{constructor(e,n,i=0,s=1/0){this.ray=new Xl(e,n),this.near=i,this.far=s,this.camera=null,this.layers=new jy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return o1.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(o1),this}intersectObject(e,n=!0,i=[]){return b0(e,this,i,n),i.sort(a1),i}intersectObjects(e,n=!0,i=[]){for(let s=0,r=e.length;s<r;s++)b0(e[s],this,i,n);return i.sort(a1),i}}function a1(t,e){return t.distance-e.distance}function b0(t,e,n,i){let s=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(s=!1),s===!0&&i===!0){const r=t.children;for(let o=0,a=r.length;o<a;o++)b0(r[o],e,n,!0)}}class l1{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=et(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(et(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class c6 extends po{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function c1(t,e,n,i){const s=u6(i);switch(n){case K2:return t*e;case Ry:return t*e/s.components*s.byteLength;case Ny:return t*e/s.components*s.byteLength;case Q2:return t*e*2/s.components*s.byteLength;case Iy:return t*e*2/s.components*s.byteLength;case Z2:return t*e*3/s.components*s.byteLength;case Ai:return t*e*4/s.components*s.byteLength;case Ly:return t*e*4/s.components*s.byteLength;case yh:case bh:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case _h:case wh:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Gx:case Xx:return Math.max(t,16)*Math.max(e,8)/4;case Hx:case Wx:return Math.max(t,8)*Math.max(e,8)/2;case $x:case qx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Yx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Kx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Zx:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Qx:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Jx:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case e0:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case t0:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case n0:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case i0:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case s0:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case r0:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case o0:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case a0:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case l0:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case c0:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Sh:case u0:case d0:return Math.ceil(t/4)*Math.ceil(e/4)*16;case J2:case h0:return Math.ceil(t/4)*Math.ceil(e/4)*8;case f0:case p0:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function u6(t){switch(t){case Cs:case $2:return{byteLength:1,components:1};case wu:case q2:case rr:return{byteLength:2,components:1};case Cy:case Py:return{byteLength:2,components:4};case Qo:case Ay:case Xi:return{byteLength:4,components:1};case Y2:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ey}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ey);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function MP(){let t=null,e=!1,n=null,i=null;function s(r,o){n(r,o),i=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function d6(t){const e=new WeakMap;function n(a,l){const c=a.array,d=a.usage,h=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,d),a.onUploadCallback();let p;if(c instanceof Float32Array)p=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)p=t.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=t.SHORT;else if(c instanceof Uint32Array)p=t.UNSIGNED_INT;else if(c instanceof Int32Array)p=t.INT;else if(c instanceof Int8Array)p=t.BYTE;else if(c instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function i(a,l,c){const d=l.array,h=l.updateRanges;if(t.bindBuffer(c,a),h.length===0)t.bufferSubData(c,0,d);else{h.sort((p,x)=>p.start-x.start);let f=0;for(let p=1;p<h.length;p++){const x=h[f],v=h[p];v.start<=x.start+x.count+1?x.count=Math.max(x.count,v.start+v.count-x.start):(++f,h[f]=v)}h.length=f+1;for(let p=0,x=h.length;p<x;p++){const v=h[p];t.bufferSubData(c,v.start*d.BYTES_PER_ELEMENT,d,v.start,v.count)}l.clearUpdateRanges()}l.onUploadCallback()}function s(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function r(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:s,remove:r,update:o}}var h6=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,f6=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,p6=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,m6=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,g6=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,x6=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,v6=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,y6=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,b6=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,_6=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,w6=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,S6=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,T6=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,E6=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,M6=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,A6=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,C6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,P6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,R6=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,N6=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,I6=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,L6=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,D6=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,k6=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,O6=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,j6=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,F6=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,U6=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,B6=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,z6=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,V6="gl_FragColor = linearToOutputTexel( gl_FragColor );",H6=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,G6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,W6=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,X6=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,$6=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,q6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Y6=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,K6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Z6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Q6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,J6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,eH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nH=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,iH=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,sH=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,rH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,oH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,aH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,cH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,uH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dH=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,hH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,pH=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mH=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gH=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,xH=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,vH=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,yH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,bH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_H=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,SH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,TH=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,EH=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,MH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,AH=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,CH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,PH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,RH=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,NH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,IH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,LH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,DH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,kH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,OH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,jH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,FH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,UH=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,BH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,zH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,HH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,GH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,WH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,XH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,$H=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,qH=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,YH=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,KH=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ZH=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,QH=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,JH=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,e8=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,t8=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,n8=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,i8=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,s8=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,r8=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,o8=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,a8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,l8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,c8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,u8=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const d8=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,h8=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,f8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,p8=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,m8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,g8=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,x8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,v8=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,y8=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,b8=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,w8=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,S8=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,T8=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,E8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,M8=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,A8=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,C8=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,P8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,R8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,I8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,L8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,D8=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k8=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,O8=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,j8=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,F8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,B8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,z8=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,V8=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,H8=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,G8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Je={alphahash_fragment:h6,alphahash_pars_fragment:f6,alphamap_fragment:p6,alphamap_pars_fragment:m6,alphatest_fragment:g6,alphatest_pars_fragment:x6,aomap_fragment:v6,aomap_pars_fragment:y6,batching_pars_vertex:b6,batching_vertex:_6,begin_vertex:w6,beginnormal_vertex:S6,bsdfs:T6,iridescence_fragment:E6,bumpmap_pars_fragment:M6,clipping_planes_fragment:A6,clipping_planes_pars_fragment:C6,clipping_planes_pars_vertex:P6,clipping_planes_vertex:R6,color_fragment:N6,color_pars_fragment:I6,color_pars_vertex:L6,color_vertex:D6,common:k6,cube_uv_reflection_fragment:O6,defaultnormal_vertex:j6,displacementmap_pars_vertex:F6,displacementmap_vertex:U6,emissivemap_fragment:B6,emissivemap_pars_fragment:z6,colorspace_fragment:V6,colorspace_pars_fragment:H6,envmap_fragment:G6,envmap_common_pars_fragment:W6,envmap_pars_fragment:X6,envmap_pars_vertex:$6,envmap_physical_pars_fragment:sH,envmap_vertex:q6,fog_vertex:Y6,fog_pars_vertex:K6,fog_fragment:Z6,fog_pars_fragment:Q6,gradientmap_pars_fragment:J6,lightmap_pars_fragment:eH,lights_lambert_fragment:tH,lights_lambert_pars_fragment:nH,lights_pars_begin:iH,lights_toon_fragment:rH,lights_toon_pars_fragment:oH,lights_phong_fragment:aH,lights_phong_pars_fragment:lH,lights_physical_fragment:cH,lights_physical_pars_fragment:uH,lights_fragment_begin:dH,lights_fragment_maps:hH,lights_fragment_end:fH,logdepthbuf_fragment:pH,logdepthbuf_pars_fragment:mH,logdepthbuf_pars_vertex:gH,logdepthbuf_vertex:xH,map_fragment:vH,map_pars_fragment:yH,map_particle_fragment:bH,map_particle_pars_fragment:_H,metalnessmap_fragment:wH,metalnessmap_pars_fragment:SH,morphinstance_vertex:TH,morphcolor_vertex:EH,morphnormal_vertex:MH,morphtarget_pars_vertex:AH,morphtarget_vertex:CH,normal_fragment_begin:PH,normal_fragment_maps:RH,normal_pars_fragment:NH,normal_pars_vertex:IH,normal_vertex:LH,normalmap_pars_fragment:DH,clearcoat_normal_fragment_begin:kH,clearcoat_normal_fragment_maps:OH,clearcoat_pars_fragment:jH,iridescence_pars_fragment:FH,opaque_fragment:UH,packing:BH,premultiplied_alpha_fragment:zH,project_vertex:VH,dithering_fragment:HH,dithering_pars_fragment:GH,roughnessmap_fragment:WH,roughnessmap_pars_fragment:XH,shadowmap_pars_fragment:$H,shadowmap_pars_vertex:qH,shadowmap_vertex:YH,shadowmask_pars_fragment:KH,skinbase_vertex:ZH,skinning_pars_vertex:QH,skinning_vertex:JH,skinnormal_vertex:e8,specularmap_fragment:t8,specularmap_pars_fragment:n8,tonemapping_fragment:i8,tonemapping_pars_fragment:s8,transmission_fragment:r8,transmission_pars_fragment:o8,uv_pars_fragment:a8,uv_pars_vertex:l8,uv_vertex:c8,worldpos_vertex:u8,background_vert:d8,background_frag:h8,backgroundCube_vert:f8,backgroundCube_frag:p8,cube_vert:m8,cube_frag:g8,depth_vert:x8,depth_frag:v8,distanceRGBA_vert:y8,distanceRGBA_frag:b8,equirect_vert:_8,equirect_frag:w8,linedashed_vert:S8,linedashed_frag:T8,meshbasic_vert:E8,meshbasic_frag:M8,meshlambert_vert:A8,meshlambert_frag:C8,meshmatcap_vert:P8,meshmatcap_frag:R8,meshnormal_vert:N8,meshnormal_frag:I8,meshphong_vert:L8,meshphong_frag:D8,meshphysical_vert:k8,meshphysical_frag:O8,meshtoon_vert:j8,meshtoon_frag:F8,points_vert:U8,points_frag:B8,shadow_vert:z8,shadow_frag:V8,sprite_vert:H8,sprite_frag:G8},me={common:{diffuse:{value:new Oe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ke},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ke}},envmap:{envMap:{value:null},envMapRotation:{value:new Ke},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ke}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ke}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ke},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ke},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ke},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ke}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ke}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ke}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Oe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0},uvTransform:{value:new Ke}},sprite:{diffuse:{value:new Oe(16777215)},opacity:{value:1},center:{value:new Ae(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ke},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0}}},hs={basic:{uniforms:Pn([me.common,me.specularmap,me.envmap,me.aomap,me.lightmap,me.fog]),vertexShader:Je.meshbasic_vert,fragmentShader:Je.meshbasic_frag},lambert:{uniforms:Pn([me.common,me.specularmap,me.envmap,me.aomap,me.lightmap,me.emissivemap,me.bumpmap,me.normalmap,me.displacementmap,me.fog,me.lights,{emissive:{value:new Oe(0)}}]),vertexShader:Je.meshlambert_vert,fragmentShader:Je.meshlambert_frag},phong:{uniforms:Pn([me.common,me.specularmap,me.envmap,me.aomap,me.lightmap,me.emissivemap,me.bumpmap,me.normalmap,me.displacementmap,me.fog,me.lights,{emissive:{value:new Oe(0)},specular:{value:new Oe(1118481)},shininess:{value:30}}]),vertexShader:Je.meshphong_vert,fragmentShader:Je.meshphong_frag},standard:{uniforms:Pn([me.common,me.envmap,me.aomap,me.lightmap,me.emissivemap,me.bumpmap,me.normalmap,me.displacementmap,me.roughnessmap,me.metalnessmap,me.fog,me.lights,{emissive:{value:new Oe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Je.meshphysical_vert,fragmentShader:Je.meshphysical_frag},toon:{uniforms:Pn([me.common,me.aomap,me.lightmap,me.emissivemap,me.bumpmap,me.normalmap,me.displacementmap,me.gradientmap,me.fog,me.lights,{emissive:{value:new Oe(0)}}]),vertexShader:Je.meshtoon_vert,fragmentShader:Je.meshtoon_frag},matcap:{uniforms:Pn([me.common,me.bumpmap,me.normalmap,me.displacementmap,me.fog,{matcap:{value:null}}]),vertexShader:Je.meshmatcap_vert,fragmentShader:Je.meshmatcap_frag},points:{uniforms:Pn([me.points,me.fog]),vertexShader:Je.points_vert,fragmentShader:Je.points_frag},dashed:{uniforms:Pn([me.common,me.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Je.linedashed_vert,fragmentShader:Je.linedashed_frag},depth:{uniforms:Pn([me.common,me.displacementmap]),vertexShader:Je.depth_vert,fragmentShader:Je.depth_frag},normal:{uniforms:Pn([me.common,me.bumpmap,me.normalmap,me.displacementmap,{opacity:{value:1}}]),vertexShader:Je.meshnormal_vert,fragmentShader:Je.meshnormal_frag},sprite:{uniforms:Pn([me.sprite,me.fog]),vertexShader:Je.sprite_vert,fragmentShader:Je.sprite_frag},background:{uniforms:{uvTransform:{value:new Ke},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Je.background_vert,fragmentShader:Je.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ke}},vertexShader:Je.backgroundCube_vert,fragmentShader:Je.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Je.cube_vert,fragmentShader:Je.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Je.equirect_vert,fragmentShader:Je.equirect_frag},distanceRGBA:{uniforms:Pn([me.common,me.displacementmap,{referencePosition:{value:new U},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Je.distanceRGBA_vert,fragmentShader:Je.distanceRGBA_frag},shadow:{uniforms:Pn([me.lights,me.fog,{color:{value:new Oe(0)},opacity:{value:1}}]),vertexShader:Je.shadow_vert,fragmentShader:Je.shadow_frag}};hs.physical={uniforms:Pn([hs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ke},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ke},clearcoatNormalScale:{value:new Ae(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ke},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ke},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ke},sheen:{value:0},sheenColor:{value:new Oe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ke},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ke},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ke},transmissionSamplerSize:{value:new Ae},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ke},attenuationDistance:{value:0},attenuationColor:{value:new Oe(0)},specularColor:{value:new Oe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ke},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ke},anisotropyVector:{value:new Ae},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ke}}]),vertexShader:Je.meshphysical_vert,fragmentShader:Je.meshphysical_frag};const Xd={r:0,b:0,g:0},wo=new Ps,W8=new Ze;function X8(t,e,n,i,s,r,o){const a=new Oe(0);let l=r===!0?0:1,c,d,h=null,f=0,p=null;function x(b){let _=b.isScene===!0?b.background:null;return _&&_.isTexture&&(_=(b.backgroundBlurriness>0?n:e).get(_)),_}function v(b){let _=!1;const w=x(b);w===null?m(a,l):w&&w.isColor&&(m(w,1),_=!0);const T=t.xr.getEnvironmentBlendMode();T==="additive"?i.buffers.color.setClear(0,0,0,1,o):T==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||_)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function g(b,_){const w=x(_);w&&(w.isCubeTexture||w.mapping===rp)?(d===void 0&&(d=new En(new Vu(1,1,1),new hn({name:"BackgroundCubeMaterial",uniforms:Pl(hs.backgroundCube.uniforms),vertexShader:hs.backgroundCube.vertexShader,fragmentShader:hs.backgroundCube.fragmentShader,side:$n,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(T,A,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(d)),wo.copy(_.backgroundRotation),wo.x*=-1,wo.y*=-1,wo.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(wo.y*=-1,wo.z*=-1),d.material.uniforms.envMap.value=w,d.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(W8.makeRotationFromEuler(wo)),d.material.toneMapped=at.getTransfer(w.colorSpace)!==yt,(h!==w||f!==w.version||p!==t.toneMapping)&&(d.material.needsUpdate=!0,h=w,f=w.version,p=t.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new En(new Rl(2,2),new hn({name:"BackgroundMaterial",uniforms:Pl(hs.background.uniforms),vertexShader:hs.background.vertexShader,fragmentShader:hs.background.fragmentShader,side:pr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=at.getTransfer(w.colorSpace)!==yt,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||f!==w.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,h=w,f=w.version,p=t.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function m(b,_){b.getRGB(Xd,uP(t)),i.buffers.color.setClear(Xd.r,Xd.g,Xd.b,_,o)}function y(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(b,_=1){a.set(b),l=_,m(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,m(a,l)},render:v,addToRenderList:g,dispose:y}}function $8(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},s=f(null);let r=s,o=!1;function a(S,R,D,F,O){let G=!1;const H=h(F,D,R);r!==H&&(r=H,c(r.object)),G=p(S,F,D,O),G&&x(S,F,D,O),O!==null&&e.update(O,t.ELEMENT_ARRAY_BUFFER),(G||o)&&(o=!1,_(S,R,D,F),O!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(O).buffer))}function l(){return t.createVertexArray()}function c(S){return t.bindVertexArray(S)}function d(S){return t.deleteVertexArray(S)}function h(S,R,D){const F=D.wireframe===!0;let O=i[S.id];O===void 0&&(O={},i[S.id]=O);let G=O[R.id];G===void 0&&(G={},O[R.id]=G);let H=G[F];return H===void 0&&(H=f(l()),G[F]=H),H}function f(S){const R=[],D=[],F=[];for(let O=0;O<n;O++)R[O]=0,D[O]=0,F[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:R,enabledAttributes:D,attributeDivisors:F,object:S,attributes:{},index:null}}function p(S,R,D,F){const O=r.attributes,G=R.attributes;let H=0;const j=D.getAttributes();for(const N in j)if(j[N].location>=0){const q=O[N];let ee=G[N];if(ee===void 0&&(N==="instanceMatrix"&&S.instanceMatrix&&(ee=S.instanceMatrix),N==="instanceColor"&&S.instanceColor&&(ee=S.instanceColor)),q===void 0||q.attribute!==ee||ee&&q.data!==ee.data)return!0;H++}return r.attributesNum!==H||r.index!==F}function x(S,R,D,F){const O={},G=R.attributes;let H=0;const j=D.getAttributes();for(const N in j)if(j[N].location>=0){let q=G[N];q===void 0&&(N==="instanceMatrix"&&S.instanceMatrix&&(q=S.instanceMatrix),N==="instanceColor"&&S.instanceColor&&(q=S.instanceColor));const ee={};ee.attribute=q,q&&q.data&&(ee.data=q.data),O[N]=ee,H++}r.attributes=O,r.attributesNum=H,r.index=F}function v(){const S=r.newAttributes;for(let R=0,D=S.length;R<D;R++)S[R]=0}function g(S){m(S,0)}function m(S,R){const D=r.newAttributes,F=r.enabledAttributes,O=r.attributeDivisors;D[S]=1,F[S]===0&&(t.enableVertexAttribArray(S),F[S]=1),O[S]!==R&&(t.vertexAttribDivisor(S,R),O[S]=R)}function y(){const S=r.newAttributes,R=r.enabledAttributes;for(let D=0,F=R.length;D<F;D++)R[D]!==S[D]&&(t.disableVertexAttribArray(D),R[D]=0)}function b(S,R,D,F,O,G,H){H===!0?t.vertexAttribIPointer(S,R,D,O,G):t.vertexAttribPointer(S,R,D,F,O,G)}function _(S,R,D,F){v();const O=F.attributes,G=D.getAttributes(),H=R.defaultAttributeValues;for(const j in G){const N=G[j];if(N.location>=0){let B=O[j];if(B===void 0&&(j==="instanceMatrix"&&S.instanceMatrix&&(B=S.instanceMatrix),j==="instanceColor"&&S.instanceColor&&(B=S.instanceColor)),B!==void 0){const q=B.normalized,ee=B.itemSize,xe=e.get(B);if(xe===void 0)continue;const Be=xe.buffer,We=xe.type,Q=xe.bytesPerElement,ce=We===t.INT||We===t.UNSIGNED_INT||B.gpuType===Ay;if(B.isInterleavedBufferAttribute){const re=B.data,Le=re.stride,ye=B.offset;if(re.isInstancedInterleavedBuffer){for(let Pe=0;Pe<N.locationSize;Pe++)m(N.location+Pe,re.meshPerAttribute);S.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let Pe=0;Pe<N.locationSize;Pe++)g(N.location+Pe);t.bindBuffer(t.ARRAY_BUFFER,Be);for(let Pe=0;Pe<N.locationSize;Pe++)b(N.location+Pe,ee/N.locationSize,We,q,Le*Q,(ye+ee/N.locationSize*Pe)*Q,ce)}else{if(B.isInstancedBufferAttribute){for(let re=0;re<N.locationSize;re++)m(N.location+re,B.meshPerAttribute);S.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=B.meshPerAttribute*B.count)}else for(let re=0;re<N.locationSize;re++)g(N.location+re);t.bindBuffer(t.ARRAY_BUFFER,Be);for(let re=0;re<N.locationSize;re++)b(N.location+re,ee/N.locationSize,We,q,ee*Q,ee/N.locationSize*re*Q,ce)}}else if(H!==void 0){const q=H[j];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(N.location,q);break;case 3:t.vertexAttrib3fv(N.location,q);break;case 4:t.vertexAttrib4fv(N.location,q);break;default:t.vertexAttrib1fv(N.location,q)}}}}y()}function w(){E();for(const S in i){const R=i[S];for(const D in R){const F=R[D];for(const O in F)d(F[O].object),delete F[O];delete R[D]}delete i[S]}}function T(S){if(i[S.id]===void 0)return;const R=i[S.id];for(const D in R){const F=R[D];for(const O in F)d(F[O].object),delete F[O];delete R[D]}delete i[S.id]}function A(S){for(const R in i){const D=i[R];if(D[S.id]===void 0)continue;const F=D[S.id];for(const O in F)d(F[O].object),delete F[O];delete D[S.id]}}function E(){C(),o=!0,r!==s&&(r=s,c(r.object))}function C(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:a,reset:E,resetDefaultState:C,dispose:w,releaseStatesOfGeometry:T,releaseStatesOfProgram:A,initAttributes:v,enableAttribute:g,disableUnusedAttributes:y}}function q8(t,e,n){let i;function s(c){i=c}function r(c,d){t.drawArrays(i,c,d),n.update(d,i,1)}function o(c,d,h){h!==0&&(t.drawArraysInstanced(i,c,d,h),n.update(d,i,h))}function a(c,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,d,0,h);let p=0;for(let x=0;x<h;x++)p+=d[x];n.update(p,i,1)}function l(c,d,h,f){if(h===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let x=0;x<c.length;x++)o(c[x],d[x],f[x]);else{p.multiDrawArraysInstancedWEBGL(i,c,0,d,0,f,0,h);let x=0;for(let v=0;v<h;v++)x+=d[v]*f[v];n.update(x,i,1)}}this.setMode=s,this.render=r,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Y8(t,e,n,i){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(A){return!(A!==Ai&&i.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(A){const E=A===rr&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==Cs&&i.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==Xi&&!E)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const h=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=x>0,T=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,reversedDepthBuffer:f,maxTextures:p,maxVertexTextures:x,maxTextureSize:v,maxCubemapSize:g,maxAttributes:m,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:_,vertexTextures:w,maxSamples:T}}function K8(t){const e=this;let n=null,i=0,s=!1,r=!1;const o=new Ys,a=new Ke,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const p=h.length!==0||f||i!==0||s;return s=f,i=h.length,p},this.beginShadows=function(){r=!0,d(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(h,f){n=d(h,f,0)},this.setState=function(h,f,p){const x=h.clippingPlanes,v=h.clipIntersection,g=h.clipShadows,m=t.get(h);if(!s||x===null||x.length===0||r&&!g)r?d(null):c();else{const y=r?0:i,b=y*4;let _=m.clippingState||null;l.value=_,_=d(x,f,b,p);for(let w=0;w!==b;++w)_[w]=n[w];m.clippingState=_,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,f,p,x){const v=h!==null?h.length:0;let g=null;if(v!==0){if(g=l.value,x!==!0||g===null){const m=p+v*4,y=f.matrixWorldInverse;a.getNormalMatrix(y),(g===null||g.length<m)&&(g=new Float32Array(m));for(let b=0,_=p;b!==v;++b,_+=4)o.copy(h[b]).applyMatrix4(y,a),o.normal.toArray(g,_),g[_+3]=o.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,g}}function Z8(t){let e=new WeakMap;function n(o,a){return a===zx?o.mapping=El:a===Vx&&(o.mapping=Ml),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===zx||a===Vx)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new pV(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",s),n(c.texture,o.mapping)}else return null}}return o}function s(o){const a=o.target;a.removeEventListener("dispose",s);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const za=4,u1=[.125,.215,.35,.446,.526,.582],No=20,$m=new ap,d1=new Oe;let qm=null,Ym=0,Km=0,Zm=!1;const Po=(1+Math.sqrt(5))/2,ba=1/Po,h1=[new U(-Po,ba,0),new U(Po,ba,0),new U(-ba,0,Po),new U(ba,0,Po),new U(0,Po,-ba),new U(0,Po,ba),new U(-1,1,-1),new U(1,1,-1),new U(-1,1,1),new U(1,1,1)],Q8=new U;class f1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,s=100,r={}){const{size:o=256,position:a=Q8}=r;qm=this._renderer.getRenderTarget(),Ym=this._renderer.getActiveCubeFace(),Km=this._renderer.getActiveMipmapLevel(),Zm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,s,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=g1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=m1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qm,Ym,Km),this._renderer.xr.enabled=Zm,e.scissorTest=!1,$d(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===El||e.mapping===Ml?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qm=this._renderer.getRenderTarget(),Ym=this._renderer.getActiveCubeFace(),Km=this._renderer.getActiveMipmapLevel(),Zm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Hn,minFilter:Hn,generateMipmaps:!1,type:rr,format:Ai,colorSpace:kn,depthBuffer:!1},s=p1(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=p1(e,n,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=J8(r)),this._blurMaterial=eG(r,e,n)}return s}_compileMaterial(e){const n=new En(this._lodPlanes[0],e);this._renderer.compile(n,$m)}_sceneToCubeUV(e,n,i,s,r){const l=new Tn(90,1,n,i),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,f=h.autoClear,p=h.toneMapping;h.getClearColor(d1),h.toneMapping=to,h.autoClear=!1,h.state.buffers.depth.getReversed()&&(h.setRenderTarget(s),h.clearDepth(),h.setRenderTarget(null));const v=new Js({name:"PMREM.Background",side:$n,depthWrite:!1,depthTest:!1}),g=new En(new Vu,v);let m=!1;const y=e.background;y?y.isColor&&(v.color.copy(y),e.background=null,m=!0):(v.color.copy(d1),m=!0);for(let b=0;b<6;b++){const _=b%3;_===0?(l.up.set(0,c[b],0),l.position.set(r.x,r.y,r.z),l.lookAt(r.x+d[b],r.y,r.z)):_===1?(l.up.set(0,0,c[b]),l.position.set(r.x,r.y,r.z),l.lookAt(r.x,r.y+d[b],r.z)):(l.up.set(0,c[b],0),l.position.set(r.x,r.y,r.z),l.lookAt(r.x,r.y,r.z+d[b]));const w=this._cubeSize;$d(s,_*w,b>2?w:0,w,w),h.setRenderTarget(s),m&&h.render(g,l),h.render(e,l)}g.geometry.dispose(),g.material.dispose(),h.toneMapping=p,h.autoClear=f,e.background=y}_textureToCubeUV(e,n){const i=this._renderer,s=e.mapping===El||e.mapping===Ml;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=g1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=m1());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new En(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=e;const l=this._cubeSize;$d(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,$m)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=h1[(s-r-1)%h1.length];this._blur(e,r-1,r,o,a)}n.autoClear=i}_blur(e,n,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,s,"latitudinal",r),this._halfBlur(o,e,i,i,s,"longitudinal",r)}_halfBlur(e,n,i,s,r,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new En(this._lodPlanes[s],c),f=c.uniforms,p=this._sizeLods[i]-1,x=isFinite(r)?Math.PI/(2*p):2*Math.PI/(2*No-1),v=r/x,g=isFinite(r)?1+Math.floor(d*v):No;g>No&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${No}`);const m=[];let y=0;for(let A=0;A<No;++A){const E=A/v,C=Math.exp(-E*E/2);m.push(C),A===0?y+=C:A<g&&(y+=2*C)}for(let A=0;A<m.length;A++)m[A]=m[A]/y;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=m,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:b}=this;f.dTheta.value=x,f.mipInt.value=b-i;const _=this._sizeLods[s],w=3*_*(s>b-za?s-b+za:0),T=4*(this._cubeSize-_);$d(n,w,T,3*_,2*_),l.setRenderTarget(n),l.render(h,$m)}}function J8(t){const e=[],n=[],i=[];let s=t;const r=t-za+1+u1.length;for(let o=0;o<r;o++){const a=Math.pow(2,s);n.push(a);let l=1/a;o>t-za?l=u1[o-t+za-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,h=1+c,f=[d,d,h,d,h,h,d,d,h,h,d,h],p=6,x=6,v=3,g=2,m=1,y=new Float32Array(v*x*p),b=new Float32Array(g*x*p),_=new Float32Array(m*x*p);for(let T=0;T<p;T++){const A=T%3*2/3-1,E=T>2?0:-1,C=[A,E,0,A+2/3,E,0,A+2/3,E+1,0,A,E,0,A+2/3,E+1,0,A,E+1,0];y.set(C,v*x*T),b.set(f,g*x*T);const S=[T,T,T,T,T,T];_.set(S,m*x*T)}const w=new Ii;w.setAttribute("position",new Vt(y,v)),w.setAttribute("uv",new Vt(b,g)),w.setAttribute("faceIndex",new Vt(_,m)),e.push(w),s>za&&s--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function p1(t,e,n){const i=new Zi(t,e,n);return i.texture.mapping=rp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function $d(t,e,n,i,s){t.viewport.set(e,n,i,s),t.scissor.set(e,n,i,s)}function eG(t,e,n){const i=new Float32Array(No),s=new U(0,1,0);return new hn({name:"SphericalGaussianBlur",defines:{n:No,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:Xy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:sr,depthTest:!1,depthWrite:!1})}function m1(){return new hn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Xy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:sr,depthTest:!1,depthWrite:!1})}function g1(){return new hn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Xy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:sr,depthTest:!1,depthWrite:!1})}function Xy(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function tG(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===zx||l===Vx,d=l===El||l===Ml;if(c||d){let h=e.get(a);const f=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new f1(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const p=a.image;return c&&p&&p.height>0||d&&p&&s(p)?(n===null&&(n=new f1(t)),h=c?n.fromEquirectangular(a):n.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",r),h.texture):null}}}return a}function s(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function nG(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(i)}return e[i]=s,s}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const s=n(i);return s===null&&Ja("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function iG(t,e,n,i){const s={},r=new WeakMap;function o(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const x in f.attributes)e.remove(f.attributes[x]);f.removeEventListener("dispose",o),delete s[f.id];const p=r.get(f);p&&(e.remove(p),r.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(h,f){return s[f.id]===!0||(f.addEventListener("dispose",o),s[f.id]=!0,n.memory.geometries++),f}function l(h){const f=h.attributes;for(const p in f)e.update(f[p],t.ARRAY_BUFFER)}function c(h){const f=[],p=h.index,x=h.attributes.position;let v=0;if(p!==null){const y=p.array;v=p.version;for(let b=0,_=y.length;b<_;b+=3){const w=y[b+0],T=y[b+1],A=y[b+2];f.push(w,T,T,A,A,w)}}else if(x!==void 0){const y=x.array;v=x.version;for(let b=0,_=y.length/3-1;b<_;b+=3){const w=b+0,T=b+1,A=b+2;f.push(w,T,T,A,A,w)}}else return;const g=new(rP(f)?cP:lP)(f,1);g.version=v;const m=r.get(h);m&&e.remove(m),r.set(h,g)}function d(h){const f=r.get(h);if(f){const p=h.index;p!==null&&f.version<p.version&&c(h)}else c(h);return r.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function sG(t,e,n){let i;function s(f){i=f}let r,o;function a(f){r=f.type,o=f.bytesPerElement}function l(f,p){t.drawElements(i,p,r,f*o),n.update(p,i,1)}function c(f,p,x){x!==0&&(t.drawElementsInstanced(i,p,r,f*o,x),n.update(p,i,x))}function d(f,p,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,p,0,r,f,0,x);let g=0;for(let m=0;m<x;m++)g+=p[m];n.update(g,i,1)}function h(f,p,x,v){if(x===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let m=0;m<f.length;m++)c(f[m]/o,p[m],v[m]);else{g.multiDrawElementsInstancedWEBGL(i,p,0,r,f,0,v,0,x);let m=0;for(let y=0;y<x;y++)m+=p[y]*v[y];n.update(m,i,1)}}this.setMode=s,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function rG(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(r/3);break;case t.LINES:n.lines+=a*(r/2);break;case t.LINE_STRIP:n.lines+=a*(r-1);break;case t.LINE_LOOP:n.lines+=a*r;break;case t.POINTS:n.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:i}}function oG(t,e,n){const i=new WeakMap,s=new dt;function r(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=d!==void 0?d.length:0;let f=i.get(a);if(f===void 0||f.count!==h){let S=function(){E.dispose(),i.delete(a),a.removeEventListener("dispose",S)};var p=S;f!==void 0&&f.texture.dispose();const x=a.morphAttributes.position!==void 0,v=a.morphAttributes.normal!==void 0,g=a.morphAttributes.color!==void 0,m=a.morphAttributes.position||[],y=a.morphAttributes.normal||[],b=a.morphAttributes.color||[];let _=0;x===!0&&(_=1),v===!0&&(_=2),g===!0&&(_=3);let w=a.attributes.position.count*_,T=1;w>e.maxTextureSize&&(T=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const A=new Float32Array(w*T*4*h),E=new oP(A,w,T,h);E.type=Xi,E.needsUpdate=!0;const C=_*4;for(let R=0;R<h;R++){const D=m[R],F=y[R],O=b[R],G=w*T*4*R;for(let H=0;H<D.count;H++){const j=H*C;x===!0&&(s.fromBufferAttribute(D,H),A[G+j+0]=s.x,A[G+j+1]=s.y,A[G+j+2]=s.z,A[G+j+3]=0),v===!0&&(s.fromBufferAttribute(F,H),A[G+j+4]=s.x,A[G+j+5]=s.y,A[G+j+6]=s.z,A[G+j+7]=0),g===!0&&(s.fromBufferAttribute(O,H),A[G+j+8]=s.x,A[G+j+9]=s.y,A[G+j+10]=s.z,A[G+j+11]=O.itemSize===4?s.w:1)}}f={count:h,texture:E,size:new Ae(w,T)},i.set(a,f),a.addEventListener("dispose",S)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let x=0;for(let g=0;g<c.length;g++)x+=c[g];const v=a.morphTargetsRelative?1:1-x;l.getUniforms().setValue(t,"morphTargetBaseInfluence",v),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:r}}function aG(t,e,n,i){let s=new WeakMap;function r(l){const c=i.render.frame,d=l.geometry,h=e.get(l,d);if(s.get(h)!==c&&(e.update(h),s.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),s.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),s.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;s.get(f)!==c&&(f.update(),s.set(f,c))}return h}function o(){s=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:o}}const AP=new tn,x1=new yP(1,1),CP=new oP,PP=new Qz,RP=new hP,v1=[],y1=[],b1=new Float32Array(16),_1=new Float32Array(9),w1=new Float32Array(4);function Kl(t,e,n){const i=t[0];if(i<=0||i>0)return t;const s=e*n;let r=v1[s];if(r===void 0&&(r=new Float32Array(s),v1[s]=r),e!==0){i.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(r,a)}return r}function nn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function sn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function lp(t,e){let n=y1[e];n===void 0&&(n=new Int32Array(e),y1[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function lG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function cG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nn(n,e))return;t.uniform2fv(this.addr,e),sn(n,e)}}function uG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(nn(n,e))return;t.uniform3fv(this.addr,e),sn(n,e)}}function dG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nn(n,e))return;t.uniform4fv(this.addr,e),sn(n,e)}}function hG(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(nn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),sn(n,e)}else{if(nn(n,i))return;w1.set(i),t.uniformMatrix2fv(this.addr,!1,w1),sn(n,i)}}function fG(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(nn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),sn(n,e)}else{if(nn(n,i))return;_1.set(i),t.uniformMatrix3fv(this.addr,!1,_1),sn(n,i)}}function pG(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(nn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),sn(n,e)}else{if(nn(n,i))return;b1.set(i),t.uniformMatrix4fv(this.addr,!1,b1),sn(n,i)}}function mG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function gG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nn(n,e))return;t.uniform2iv(this.addr,e),sn(n,e)}}function xG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nn(n,e))return;t.uniform3iv(this.addr,e),sn(n,e)}}function vG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nn(n,e))return;t.uniform4iv(this.addr,e),sn(n,e)}}function yG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function bG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nn(n,e))return;t.uniform2uiv(this.addr,e),sn(n,e)}}function _G(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nn(n,e))return;t.uniform3uiv(this.addr,e),sn(n,e)}}function wG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nn(n,e))return;t.uniform4uiv(this.addr,e),sn(n,e)}}function SG(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s);let r;this.type===t.SAMPLER_2D_SHADOW?(x1.compareFunction=iP,r=x1):r=AP,n.setTexture2D(e||r,s)}function TG(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture3D(e||PP,s)}function EG(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTextureCube(e||RP,s)}function MG(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture2DArray(e||CP,s)}function AG(t){switch(t){case 5126:return lG;case 35664:return cG;case 35665:return uG;case 35666:return dG;case 35674:return hG;case 35675:return fG;case 35676:return pG;case 5124:case 35670:return mG;case 35667:case 35671:return gG;case 35668:case 35672:return xG;case 35669:case 35673:return vG;case 5125:return yG;case 36294:return bG;case 36295:return _G;case 36296:return wG;case 35678:case 36198:case 36298:case 36306:case 35682:return SG;case 35679:case 36299:case 36307:return TG;case 35680:case 36300:case 36308:case 36293:return EG;case 36289:case 36303:case 36311:case 36292:return MG}}function CG(t,e){t.uniform1fv(this.addr,e)}function PG(t,e){const n=Kl(e,this.size,2);t.uniform2fv(this.addr,n)}function RG(t,e){const n=Kl(e,this.size,3);t.uniform3fv(this.addr,n)}function NG(t,e){const n=Kl(e,this.size,4);t.uniform4fv(this.addr,n)}function IG(t,e){const n=Kl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function LG(t,e){const n=Kl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function DG(t,e){const n=Kl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function kG(t,e){t.uniform1iv(this.addr,e)}function OG(t,e){t.uniform2iv(this.addr,e)}function jG(t,e){t.uniform3iv(this.addr,e)}function FG(t,e){t.uniform4iv(this.addr,e)}function UG(t,e){t.uniform1uiv(this.addr,e)}function BG(t,e){t.uniform2uiv(this.addr,e)}function zG(t,e){t.uniform3uiv(this.addr,e)}function VG(t,e){t.uniform4uiv(this.addr,e)}function HG(t,e,n){const i=this.cache,s=e.length,r=lp(n,s);nn(i,r)||(t.uniform1iv(this.addr,r),sn(i,r));for(let o=0;o!==s;++o)n.setTexture2D(e[o]||AP,r[o])}function GG(t,e,n){const i=this.cache,s=e.length,r=lp(n,s);nn(i,r)||(t.uniform1iv(this.addr,r),sn(i,r));for(let o=0;o!==s;++o)n.setTexture3D(e[o]||PP,r[o])}function WG(t,e,n){const i=this.cache,s=e.length,r=lp(n,s);nn(i,r)||(t.uniform1iv(this.addr,r),sn(i,r));for(let o=0;o!==s;++o)n.setTextureCube(e[o]||RP,r[o])}function XG(t,e,n){const i=this.cache,s=e.length,r=lp(n,s);nn(i,r)||(t.uniform1iv(this.addr,r),sn(i,r));for(let o=0;o!==s;++o)n.setTexture2DArray(e[o]||CP,r[o])}function $G(t){switch(t){case 5126:return CG;case 35664:return PG;case 35665:return RG;case 35666:return NG;case 35674:return IG;case 35675:return LG;case 35676:return DG;case 5124:case 35670:return kG;case 35667:case 35671:return OG;case 35668:case 35672:return jG;case 35669:case 35673:return FG;case 5125:return UG;case 36294:return BG;case 36295:return zG;case 36296:return VG;case 35678:case 36198:case 36298:case 36306:case 35682:return HG;case 35679:case 36299:case 36307:return GG;case 35680:case 36300:case 36308:case 36293:return WG;case 36289:case 36303:case 36311:case 36292:return XG}}class qG{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=AG(n.type)}}class YG{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=$G(n.type)}}class KG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const a=s[r];a.setValue(e,n[a.id],i)}}}const Qm=/(\w+)(\])?(\[|\.)?/g;function S1(t,e){t.seq.push(e),t.map[e.id]=e}function ZG(t,e,n){const i=t.name,s=i.length;for(Qm.lastIndex=0;;){const r=Qm.exec(i),o=Qm.lastIndex;let a=r[1];const l=r[2]==="]",c=r[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===s){S1(n,c===void 0?new qG(a,t,e):new YG(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new KG(a),S1(n,h)),n=h}}}class Th{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(n,s),o=e.getUniformLocation(n,r.name);ZG(r,o,this)}}setValue(e,n,i,s){const r=this.map[n];r!==void 0&&r.setValue(e,i,s)}setOptional(e,n,i){const s=n[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,n,i,s){for(let r=0,o=n.length;r!==o;++r){const a=n[r],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,s)}}static seqWithValue(e,n){const i=[];for(let s=0,r=e.length;s!==r;++s){const o=e[s];o.id in n&&i.push(o)}return i}}function T1(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const QG=37297;let JG=0;function eW(t,e){const n=t.split(`
`),i=[],s=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let o=s;o<r;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}const E1=new Ke;function tW(t){at._getMatrix(E1,at.workingColorSpace,t);const e=`mat3( ${E1.elements.map(n=>n.toFixed(4))} )`;switch(at.getTransfer(t)){case gf:return[e,"LinearTransferOETF"];case yt:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function M1(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=(t.getShaderInfoLog(e)||"").trim();if(i&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+r+`

`+eW(t.getShaderSource(e),a)}else return r}function nW(t,e){const n=tW(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function iW(t,e){let n;switch(e){case lz:n="Linear";break;case cz:n="Reinhard";break;case uz:n="Cineon";break;case My:n="ACESFilmic";break;case hz:n="AgX";break;case fz:n="Neutral";break;case dz:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const qd=new U;function sW(){at.getLuminanceCoefficients(qd);const t=qd.x.toFixed(4),e=qd.y.toFixed(4),n=qd.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function rW(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ac).join(`
`)}function oW(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function aW(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=t.getActiveAttrib(e,s),o=r.name;let a=1;r.type===t.FLOAT_MAT2&&(a=2),r.type===t.FLOAT_MAT3&&(a=3),r.type===t.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Ac(t){return t!==""}function A1(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function C1(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const lW=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0(t){return t.replace(lW,uW)}const cW=new Map;function uW(t,e){let n=Je[e];if(n===void 0){const i=cW.get(e);if(i!==void 0)n=Je[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return _0(n)}const dW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function P1(t){return t.replace(dW,hW)}function hW(t,e,n,i){let s="";for(let r=parseInt(e);r<parseInt(n);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function R1(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fW(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===H2?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===z5?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ws&&(e="SHADOWMAP_TYPE_VSM"),e}function pW(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case El:case Ml:e="ENVMAP_TYPE_CUBE";break;case rp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function mW(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ml:e="ENVMAP_MODE_REFRACTION";break}return e}function gW(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case G2:e="ENVMAP_BLENDING_MULTIPLY";break;case oz:e="ENVMAP_BLENDING_MIX";break;case az:e="ENVMAP_BLENDING_ADD";break}return e}function xW(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function vW(t,e,n,i){const s=t.getContext(),r=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=fW(n),c=pW(n),d=mW(n),h=gW(n),f=xW(n),p=rW(n),x=oW(r),v=s.createProgram();let g,m,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Ac).join(`
`),g.length>0&&(g+=`
`),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Ac).join(`
`),m.length>0&&(m+=`
`)):(g=[R1(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ac).join(`
`),m=[R1(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==to?"#define TONE_MAPPING":"",n.toneMapping!==to?Je.tonemapping_pars_fragment:"",n.toneMapping!==to?iW("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Je.colorspace_pars_fragment,nW("linearToOutputTexel",n.outputColorSpace),sW(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ac).join(`
`)),o=_0(o),o=A1(o,n),o=C1(o,n),a=_0(a),a=A1(a,n),a=C1(a,n),o=P1(o),a=P1(a),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,g=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,m=["#define varying in",n.glslVersion===SS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===SS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const b=y+g+o,_=y+m+a,w=T1(s,s.VERTEX_SHADER,b),T=T1(s,s.FRAGMENT_SHADER,_);s.attachShader(v,w),s.attachShader(v,T),n.index0AttributeName!==void 0?s.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(v,0,"position"),s.linkProgram(v);function A(R){if(t.debug.checkShaderErrors){const D=s.getProgramInfoLog(v)||"",F=s.getShaderInfoLog(w)||"",O=s.getShaderInfoLog(T)||"",G=D.trim(),H=F.trim(),j=O.trim();let N=!0,B=!0;if(s.getProgramParameter(v,s.LINK_STATUS)===!1)if(N=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,v,w,T);else{const q=M1(s,w,"vertex"),ee=M1(s,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(v,s.VALIDATE_STATUS)+`

Material Name: `+R.name+`
Material Type: `+R.type+`

Program Info Log: `+G+`
`+q+`
`+ee)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(H===""||j==="")&&(B=!1);B&&(R.diagnostics={runnable:N,programLog:G,vertexShader:{log:H,prefix:g},fragmentShader:{log:j,prefix:m}})}s.deleteShader(w),s.deleteShader(T),E=new Th(s,v),C=aW(s,v)}let E;this.getUniforms=function(){return E===void 0&&A(this),E};let C;this.getAttributes=function(){return C===void 0&&A(this),C};let S=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return S===!1&&(S=s.getProgramParameter(v,QG)),S},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=JG++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=w,this.fragmentShader=T,this}let yW=0;class bW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(n),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new _W(e),n.set(e,i)),i}}class _W{constructor(e){this.id=yW++,this.code=e,this.usedTimes=0}}function wW(t,e,n,i,s,r,o){const a=new jy,l=new bW,c=new Set,d=[],h=s.logarithmicDepthBuffer,f=s.vertexTextures;let p=s.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(C){return c.add(C),C===0?"uv":`uv${C}`}function g(C,S,R,D,F){const O=D.fog,G=F.geometry,H=C.isMeshStandardMaterial?D.environment:null,j=(C.isMeshStandardMaterial?n:e).get(C.envMap||H),N=j&&j.mapping===rp?j.image.height:null,B=x[C.type];C.precision!==null&&(p=s.getMaxPrecision(C.precision),p!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",p,"instead."));const q=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,ee=q!==void 0?q.length:0;let xe=0;G.morphAttributes.position!==void 0&&(xe=1),G.morphAttributes.normal!==void 0&&(xe=2),G.morphAttributes.color!==void 0&&(xe=3);let Be,We,Q,ce;if(B){const ft=hs[B];Be=ft.vertexShader,We=ft.fragmentShader}else Be=C.vertexShader,We=C.fragmentShader,l.update(C),Q=l.getVertexShaderID(C),ce=l.getFragmentShaderID(C);const re=t.getRenderTarget(),Le=t.state.buffers.depth.getReversed(),ye=F.isInstancedMesh===!0,Pe=F.isBatchedMesh===!0,ht=!!C.map,qe=!!C.matcap,k=!!j,ot=!!C.aoMap,De=!!C.lightMap,tt=!!C.bumpMap,Ce=!!C.normalMap,ut=!!C.displacementMap,ge=!!C.emissiveMap,He=!!C.metalnessMap,St=!!C.roughnessMap,be=C.anisotropy>0,L=C.clearcoat>0,P=C.dispersion>0,X=C.iridescence>0,$=C.sheen>0,J=C.transmission>0,Z=be&&!!C.anisotropyMap,Re=L&&!!C.clearcoatMap,oe=L&&!!C.clearcoatNormalMap,Te=L&&!!C.clearcoatRoughnessMap,_e=X&&!!C.iridescenceMap,se=X&&!!C.iridescenceThicknessMap,fe=$&&!!C.sheenColorMap,je=$&&!!C.sheenRoughnessMap,Me=!!C.specularMap,pe=!!C.specularColorMap,Ge=!!C.specularIntensityMap,z=J&&!!C.transmissionMap,ae=J&&!!C.thicknessMap,de=!!C.gradientMap,we=!!C.alphaMap,ie=C.alphaTest>0,te=!!C.alphaHash,Ie=!!C.extensions;let Xe=to;C.toneMapped&&(re===null||re.isXRRenderTarget===!0)&&(Xe=t.toneMapping);const Tt={shaderID:B,shaderType:C.type,shaderName:C.name,vertexShader:Be,fragmentShader:We,defines:C.defines,customVertexShaderID:Q,customFragmentShaderID:ce,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:p,batching:Pe,batchingColor:Pe&&F._colorsTexture!==null,instancing:ye,instancingColor:ye&&F.instanceColor!==null,instancingMorph:ye&&F.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:re===null?t.outputColorSpace:re.isXRRenderTarget===!0?re.texture.colorSpace:kn,alphaToCoverage:!!C.alphaToCoverage,map:ht,matcap:qe,envMap:k,envMapMode:k&&j.mapping,envMapCubeUVHeight:N,aoMap:ot,lightMap:De,bumpMap:tt,normalMap:Ce,displacementMap:f&&ut,emissiveMap:ge,normalMapObjectSpace:Ce&&C.normalMapType===_z,normalMapTangentSpace:Ce&&C.normalMapType===nP,metalnessMap:He,roughnessMap:St,anisotropy:be,anisotropyMap:Z,clearcoat:L,clearcoatMap:Re,clearcoatNormalMap:oe,clearcoatRoughnessMap:Te,dispersion:P,iridescence:X,iridescenceMap:_e,iridescenceThicknessMap:se,sheen:$,sheenColorMap:fe,sheenRoughnessMap:je,specularMap:Me,specularColorMap:pe,specularIntensityMap:Ge,transmission:J,transmissionMap:z,thicknessMap:ae,gradientMap:de,opaque:C.transparent===!1&&C.blending===Qa&&C.alphaToCoverage===!1,alphaMap:we,alphaTest:ie,alphaHash:te,combine:C.combine,mapUv:ht&&v(C.map.channel),aoMapUv:ot&&v(C.aoMap.channel),lightMapUv:De&&v(C.lightMap.channel),bumpMapUv:tt&&v(C.bumpMap.channel),normalMapUv:Ce&&v(C.normalMap.channel),displacementMapUv:ut&&v(C.displacementMap.channel),emissiveMapUv:ge&&v(C.emissiveMap.channel),metalnessMapUv:He&&v(C.metalnessMap.channel),roughnessMapUv:St&&v(C.roughnessMap.channel),anisotropyMapUv:Z&&v(C.anisotropyMap.channel),clearcoatMapUv:Re&&v(C.clearcoatMap.channel),clearcoatNormalMapUv:oe&&v(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Te&&v(C.clearcoatRoughnessMap.channel),iridescenceMapUv:_e&&v(C.iridescenceMap.channel),iridescenceThicknessMapUv:se&&v(C.iridescenceThicknessMap.channel),sheenColorMapUv:fe&&v(C.sheenColorMap.channel),sheenRoughnessMapUv:je&&v(C.sheenRoughnessMap.channel),specularMapUv:Me&&v(C.specularMap.channel),specularColorMapUv:pe&&v(C.specularColorMap.channel),specularIntensityMapUv:Ge&&v(C.specularIntensityMap.channel),transmissionMapUv:z&&v(C.transmissionMap.channel),thicknessMapUv:ae&&v(C.thicknessMap.channel),alphaMapUv:we&&v(C.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(Ce||be),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!G.attributes.uv&&(ht||we),fog:!!O,useFog:C.fog===!0,fogExp2:!!O&&O.isFogExp2,flatShading:C.flatShading===!0&&C.wireframe===!1,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:Le,skinning:F.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:xe,numDirLights:S.directional.length,numPointLights:S.point.length,numSpotLights:S.spot.length,numSpotLightMaps:S.spotLightMap.length,numRectAreaLights:S.rectArea.length,numHemiLights:S.hemi.length,numDirLightShadows:S.directionalShadowMap.length,numPointLightShadows:S.pointShadowMap.length,numSpotLightShadows:S.spotShadowMap.length,numSpotLightShadowsWithMaps:S.numSpotLightShadowsWithMaps,numLightProbes:S.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&R.length>0,shadowMapType:t.shadowMap.type,toneMapping:Xe,decodeVideoTexture:ht&&C.map.isVideoTexture===!0&&at.getTransfer(C.map.colorSpace)===yt,decodeVideoTextureEmissive:ge&&C.emissiveMap.isVideoTexture===!0&&at.getTransfer(C.emissiveMap.colorSpace)===yt,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===ps,flipSided:C.side===$n,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:Ie&&C.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ie&&C.extensions.multiDraw===!0||Pe)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return Tt.vertexUv1s=c.has(1),Tt.vertexUv2s=c.has(2),Tt.vertexUv3s=c.has(3),c.clear(),Tt}function m(C){const S=[];if(C.shaderID?S.push(C.shaderID):(S.push(C.customVertexShaderID),S.push(C.customFragmentShaderID)),C.defines!==void 0)for(const R in C.defines)S.push(R),S.push(C.defines[R]);return C.isRawShaderMaterial===!1&&(y(S,C),b(S,C),S.push(t.outputColorSpace)),S.push(C.customProgramCacheKey),S.join()}function y(C,S){C.push(S.precision),C.push(S.outputColorSpace),C.push(S.envMapMode),C.push(S.envMapCubeUVHeight),C.push(S.mapUv),C.push(S.alphaMapUv),C.push(S.lightMapUv),C.push(S.aoMapUv),C.push(S.bumpMapUv),C.push(S.normalMapUv),C.push(S.displacementMapUv),C.push(S.emissiveMapUv),C.push(S.metalnessMapUv),C.push(S.roughnessMapUv),C.push(S.anisotropyMapUv),C.push(S.clearcoatMapUv),C.push(S.clearcoatNormalMapUv),C.push(S.clearcoatRoughnessMapUv),C.push(S.iridescenceMapUv),C.push(S.iridescenceThicknessMapUv),C.push(S.sheenColorMapUv),C.push(S.sheenRoughnessMapUv),C.push(S.specularMapUv),C.push(S.specularColorMapUv),C.push(S.specularIntensityMapUv),C.push(S.transmissionMapUv),C.push(S.thicknessMapUv),C.push(S.combine),C.push(S.fogExp2),C.push(S.sizeAttenuation),C.push(S.morphTargetsCount),C.push(S.morphAttributeCount),C.push(S.numDirLights),C.push(S.numPointLights),C.push(S.numSpotLights),C.push(S.numSpotLightMaps),C.push(S.numHemiLights),C.push(S.numRectAreaLights),C.push(S.numDirLightShadows),C.push(S.numPointLightShadows),C.push(S.numSpotLightShadows),C.push(S.numSpotLightShadowsWithMaps),C.push(S.numLightProbes),C.push(S.shadowMapType),C.push(S.toneMapping),C.push(S.numClippingPlanes),C.push(S.numClipIntersection),C.push(S.depthPacking)}function b(C,S){a.disableAll(),S.supportsVertexTextures&&a.enable(0),S.instancing&&a.enable(1),S.instancingColor&&a.enable(2),S.instancingMorph&&a.enable(3),S.matcap&&a.enable(4),S.envMap&&a.enable(5),S.normalMapObjectSpace&&a.enable(6),S.normalMapTangentSpace&&a.enable(7),S.clearcoat&&a.enable(8),S.iridescence&&a.enable(9),S.alphaTest&&a.enable(10),S.vertexColors&&a.enable(11),S.vertexAlphas&&a.enable(12),S.vertexUv1s&&a.enable(13),S.vertexUv2s&&a.enable(14),S.vertexUv3s&&a.enable(15),S.vertexTangents&&a.enable(16),S.anisotropy&&a.enable(17),S.alphaHash&&a.enable(18),S.batching&&a.enable(19),S.dispersion&&a.enable(20),S.batchingColor&&a.enable(21),S.gradientMap&&a.enable(22),C.push(a.mask),a.disableAll(),S.fog&&a.enable(0),S.useFog&&a.enable(1),S.flatShading&&a.enable(2),S.logarithmicDepthBuffer&&a.enable(3),S.reversedDepthBuffer&&a.enable(4),S.skinning&&a.enable(5),S.morphTargets&&a.enable(6),S.morphNormals&&a.enable(7),S.morphColors&&a.enable(8),S.premultipliedAlpha&&a.enable(9),S.shadowMapEnabled&&a.enable(10),S.doubleSided&&a.enable(11),S.flipSided&&a.enable(12),S.useDepthPacking&&a.enable(13),S.dithering&&a.enable(14),S.transmission&&a.enable(15),S.sheen&&a.enable(16),S.opaque&&a.enable(17),S.pointsUvs&&a.enable(18),S.decodeVideoTexture&&a.enable(19),S.decodeVideoTextureEmissive&&a.enable(20),S.alphaToCoverage&&a.enable(21),C.push(a.mask)}function _(C){const S=x[C.type];let R;if(S){const D=hs[S];R=vf.clone(D.uniforms)}else R=C.uniforms;return R}function w(C,S){let R;for(let D=0,F=d.length;D<F;D++){const O=d[D];if(O.cacheKey===S){R=O,++R.usedTimes;break}}return R===void 0&&(R=new vW(t,S,C,r),d.push(R)),R}function T(C){if(--C.usedTimes===0){const S=d.indexOf(C);d[S]=d[d.length-1],d.pop(),C.destroy()}}function A(C){l.remove(C)}function E(){l.dispose()}return{getParameters:g,getProgramCacheKey:m,getUniforms:_,acquireProgram:w,releaseProgram:T,releaseShaderCache:A,programs:d,dispose:E}}function SW(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function i(o){t.delete(o)}function s(o,a,l){t.get(o)[a]=l}function r(){t=new WeakMap}return{has:e,get:n,remove:i,update:s,dispose:r}}function TW(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function N1(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function I1(){const t=[];let e=0;const n=[],i=[],s=[];function r(){e=0,n.length=0,i.length=0,s.length=0}function o(h,f,p,x,v,g){let m=t[e];return m===void 0?(m={id:h.id,object:h,geometry:f,material:p,groupOrder:x,renderOrder:h.renderOrder,z:v,group:g},t[e]=m):(m.id=h.id,m.object=h,m.geometry=f,m.material=p,m.groupOrder=x,m.renderOrder=h.renderOrder,m.z=v,m.group=g),e++,m}function a(h,f,p,x,v,g){const m=o(h,f,p,x,v,g);p.transmission>0?i.push(m):p.transparent===!0?s.push(m):n.push(m)}function l(h,f,p,x,v,g){const m=o(h,f,p,x,v,g);p.transmission>0?i.unshift(m):p.transparent===!0?s.unshift(m):n.unshift(m)}function c(h,f){n.length>1&&n.sort(h||TW),i.length>1&&i.sort(f||N1),s.length>1&&s.sort(f||N1)}function d(){for(let h=e,f=t.length;h<f;h++){const p=t[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:i,transparent:s,init:r,push:a,unshift:l,finish:d,sort:c}}function EW(){let t=new WeakMap;function e(i,s){const r=t.get(i);let o;return r===void 0?(o=new I1,t.set(i,[o])):s>=r.length?(o=new I1,r.push(o)):o=r[s],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function MW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new U,color:new Oe};break;case"SpotLight":n={position:new U,direction:new U,color:new Oe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new U,color:new Oe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new U,skyColor:new Oe,groundColor:new Oe};break;case"RectAreaLight":n={color:new Oe,position:new U,halfWidth:new U,halfHeight:new U};break}return t[e.id]=n,n}}}function AW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ae,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let CW=0;function PW(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function RW(t){const e=new MW,n=AW(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new U);const s=new U,r=new Ze,o=new Ze;function a(c){let d=0,h=0,f=0;for(let C=0;C<9;C++)i.probe[C].set(0,0,0);let p=0,x=0,v=0,g=0,m=0,y=0,b=0,_=0,w=0,T=0,A=0;c.sort(PW);for(let C=0,S=c.length;C<S;C++){const R=c[C],D=R.color,F=R.intensity,O=R.distance,G=R.shadow&&R.shadow.map?R.shadow.map.texture:null;if(R.isAmbientLight)d+=D.r*F,h+=D.g*F,f+=D.b*F;else if(R.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(R.sh.coefficients[H],F);A++}else if(R.isDirectionalLight){const H=e.get(R);if(H.color.copy(R.color).multiplyScalar(R.intensity),R.castShadow){const j=R.shadow,N=n.get(R);N.shadowIntensity=j.intensity,N.shadowBias=j.bias,N.shadowNormalBias=j.normalBias,N.shadowRadius=j.radius,N.shadowMapSize=j.mapSize,i.directionalShadow[p]=N,i.directionalShadowMap[p]=G,i.directionalShadowMatrix[p]=R.shadow.matrix,y++}i.directional[p]=H,p++}else if(R.isSpotLight){const H=e.get(R);H.position.setFromMatrixPosition(R.matrixWorld),H.color.copy(D).multiplyScalar(F),H.distance=O,H.coneCos=Math.cos(R.angle),H.penumbraCos=Math.cos(R.angle*(1-R.penumbra)),H.decay=R.decay,i.spot[v]=H;const j=R.shadow;if(R.map&&(i.spotLightMap[w]=R.map,w++,j.updateMatrices(R),R.castShadow&&T++),i.spotLightMatrix[v]=j.matrix,R.castShadow){const N=n.get(R);N.shadowIntensity=j.intensity,N.shadowBias=j.bias,N.shadowNormalBias=j.normalBias,N.shadowRadius=j.radius,N.shadowMapSize=j.mapSize,i.spotShadow[v]=N,i.spotShadowMap[v]=G,_++}v++}else if(R.isRectAreaLight){const H=e.get(R);H.color.copy(D).multiplyScalar(F),H.halfWidth.set(R.width*.5,0,0),H.halfHeight.set(0,R.height*.5,0),i.rectArea[g]=H,g++}else if(R.isPointLight){const H=e.get(R);if(H.color.copy(R.color).multiplyScalar(R.intensity),H.distance=R.distance,H.decay=R.decay,R.castShadow){const j=R.shadow,N=n.get(R);N.shadowIntensity=j.intensity,N.shadowBias=j.bias,N.shadowNormalBias=j.normalBias,N.shadowRadius=j.radius,N.shadowMapSize=j.mapSize,N.shadowCameraNear=j.camera.near,N.shadowCameraFar=j.camera.far,i.pointShadow[x]=N,i.pointShadowMap[x]=G,i.pointShadowMatrix[x]=R.shadow.matrix,b++}i.point[x]=H,x++}else if(R.isHemisphereLight){const H=e.get(R);H.skyColor.copy(R.color).multiplyScalar(F),H.groundColor.copy(R.groundColor).multiplyScalar(F),i.hemi[m]=H,m++}}g>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=me.LTC_FLOAT_1,i.rectAreaLTC2=me.LTC_FLOAT_2):(i.rectAreaLTC1=me.LTC_HALF_1,i.rectAreaLTC2=me.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=f;const E=i.hash;(E.directionalLength!==p||E.pointLength!==x||E.spotLength!==v||E.rectAreaLength!==g||E.hemiLength!==m||E.numDirectionalShadows!==y||E.numPointShadows!==b||E.numSpotShadows!==_||E.numSpotMaps!==w||E.numLightProbes!==A)&&(i.directional.length=p,i.spot.length=v,i.rectArea.length=g,i.point.length=x,i.hemi.length=m,i.directionalShadow.length=y,i.directionalShadowMap.length=y,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=_,i.spotShadowMap.length=_,i.directionalShadowMatrix.length=y,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=_+w-T,i.spotLightMap.length=w,i.numSpotLightShadowsWithMaps=T,i.numLightProbes=A,E.directionalLength=p,E.pointLength=x,E.spotLength=v,E.rectAreaLength=g,E.hemiLength=m,E.numDirectionalShadows=y,E.numPointShadows=b,E.numSpotShadows=_,E.numSpotMaps=w,E.numLightProbes=A,i.version=CW++)}function l(c,d){let h=0,f=0,p=0,x=0,v=0;const g=d.matrixWorldInverse;for(let m=0,y=c.length;m<y;m++){const b=c[m];if(b.isDirectionalLight){const _=i.directional[h];_.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(g),h++}else if(b.isSpotLight){const _=i.spot[p];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(g),_.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(g),p++}else if(b.isRectAreaLight){const _=i.rectArea[x];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(g),o.identity(),r.copy(b.matrixWorld),r.premultiply(g),o.extractRotation(r),_.halfWidth.set(b.width*.5,0,0),_.halfHeight.set(0,b.height*.5,0),_.halfWidth.applyMatrix4(o),_.halfHeight.applyMatrix4(o),x++}else if(b.isPointLight){const _=i.point[f];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(g),f++}else if(b.isHemisphereLight){const _=i.hemi[v];_.direction.setFromMatrixPosition(b.matrixWorld),_.direction.transformDirection(g),v++}}}return{setup:a,setupView:l,state:i}}function L1(t){const e=new RW(t),n=[],i=[];function s(d){c.camera=d,n.length=0,i.length=0}function r(d){n.push(d)}function o(d){i.push(d)}function a(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:c,setupLights:a,setupLightsView:l,pushLight:r,pushShadow:o}}function NW(t){let e=new WeakMap;function n(s,r=0){const o=e.get(s);let a;return o===void 0?(a=new L1(t),e.set(s,[a])):r>=o.length?(a=new L1(t),o.push(a)):a=o[r],a}function i(){e=new WeakMap}return{get:n,dispose:i}}const IW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,LW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function DW(t,e,n){let i=new By;const s=new Ae,r=new Ae,o=new dt,a=new CV({depthPacking:bz}),l=new PV,c={},d=n.maxTextureSize,h={[pr]:$n,[$n]:pr,[ps]:ps},f=new hn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ae},radius:{value:4}},vertexShader:IW,fragmentShader:LW}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const x=new Ii;x.setAttribute("position",new Vt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new En(x,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=H2;let m=this.type;this.render=function(T,A,E){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||T.length===0)return;const C=t.getRenderTarget(),S=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),D=t.state;D.setBlending(sr),D.buffers.depth.getReversed()?D.buffers.color.setClear(0,0,0,0):D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const F=m!==Ws&&this.type===Ws,O=m===Ws&&this.type!==Ws;for(let G=0,H=T.length;G<H;G++){const j=T[G],N=j.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;s.copy(N.mapSize);const B=N.getFrameExtents();if(s.multiply(B),r.copy(N.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(r.x=Math.floor(d/B.x),s.x=r.x*B.x,N.mapSize.x=r.x),s.y>d&&(r.y=Math.floor(d/B.y),s.y=r.y*B.y,N.mapSize.y=r.y)),N.map===null||F===!0||O===!0){const ee=this.type!==Ws?{minFilter:Dn,magFilter:Dn}:{};N.map!==null&&N.map.dispose(),N.map=new Zi(s.x,s.y,ee),N.map.texture.name=j.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const q=N.getViewportCount();for(let ee=0;ee<q;ee++){const xe=N.getViewport(ee);o.set(r.x*xe.x,r.y*xe.y,r.x*xe.z,r.y*xe.w),D.viewport(o),N.updateMatrices(j,ee),i=N.getFrustum(),_(A,E,N.camera,j,this.type)}N.isPointLightShadow!==!0&&this.type===Ws&&y(N,E),N.needsUpdate=!1}m=this.type,g.needsUpdate=!1,t.setRenderTarget(C,S,R)};function y(T,A){const E=e.update(v);f.defines.VSM_SAMPLES!==T.blurSamples&&(f.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Zi(s.x,s.y)),f.uniforms.shadow_pass.value=T.map.texture,f.uniforms.resolution.value=T.mapSize,f.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(A,null,E,f,v,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(A,null,E,p,v,null)}function b(T,A,E,C){let S=null;const R=E.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(R!==void 0)S=R;else if(S=E.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0||A.alphaToCoverage===!0){const D=S.uuid,F=A.uuid;let O=c[D];O===void 0&&(O={},c[D]=O);let G=O[F];G===void 0&&(G=S.clone(),O[F]=G,A.addEventListener("dispose",w)),S=G}if(S.visible=A.visible,S.wireframe=A.wireframe,C===Ws?S.side=A.shadowSide!==null?A.shadowSide:A.side:S.side=A.shadowSide!==null?A.shadowSide:h[A.side],S.alphaMap=A.alphaMap,S.alphaTest=A.alphaToCoverage===!0?.5:A.alphaTest,S.map=A.map,S.clipShadows=A.clipShadows,S.clippingPlanes=A.clippingPlanes,S.clipIntersection=A.clipIntersection,S.displacementMap=A.displacementMap,S.displacementScale=A.displacementScale,S.displacementBias=A.displacementBias,S.wireframeLinewidth=A.wireframeLinewidth,S.linewidth=A.linewidth,E.isPointLight===!0&&S.isMeshDistanceMaterial===!0){const D=t.properties.get(S);D.light=E}return S}function _(T,A,E,C,S){if(T.visible===!1)return;if(T.layers.test(A.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&S===Ws)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,T.matrixWorld);const F=e.update(T),O=T.material;if(Array.isArray(O)){const G=F.groups;for(let H=0,j=G.length;H<j;H++){const N=G[H],B=O[N.materialIndex];if(B&&B.visible){const q=b(T,B,C,S);T.onBeforeShadow(t,T,A,E,F,q,N),t.renderBufferDirect(E,null,F,q,T,N),T.onAfterShadow(t,T,A,E,F,q,N)}}}else if(O.visible){const G=b(T,O,C,S);T.onBeforeShadow(t,T,A,E,F,G,null),t.renderBufferDirect(E,null,F,G,T,null),T.onAfterShadow(t,T,A,E,F,G,null)}}const D=T.children;for(let F=0,O=D.length;F<O;F++)_(D[F],A,E,C,S)}function w(T){T.target.removeEventListener("dispose",w);for(const E in c){const C=c[E],S=T.target.uuid;S in C&&(C[S].dispose(),delete C[S])}}}const kW={[Dx]:kx,[Ox]:Ux,[jx]:Bx,[Tl]:Fx,[kx]:Dx,[Ux]:Ox,[Bx]:jx,[Fx]:Tl};function OW(t,e){function n(){let z=!1;const ae=new dt;let de=null;const we=new dt(0,0,0,0);return{setMask:function(ie){de!==ie&&!z&&(t.colorMask(ie,ie,ie,ie),de=ie)},setLocked:function(ie){z=ie},setClear:function(ie,te,Ie,Xe,Tt){Tt===!0&&(ie*=Xe,te*=Xe,Ie*=Xe),ae.set(ie,te,Ie,Xe),we.equals(ae)===!1&&(t.clearColor(ie,te,Ie,Xe),we.copy(ae))},reset:function(){z=!1,de=null,we.set(-1,0,0,0)}}}function i(){let z=!1,ae=!1,de=null,we=null,ie=null;return{setReversed:function(te){if(ae!==te){const Ie=e.get("EXT_clip_control");te?Ie.clipControlEXT(Ie.LOWER_LEFT_EXT,Ie.ZERO_TO_ONE_EXT):Ie.clipControlEXT(Ie.LOWER_LEFT_EXT,Ie.NEGATIVE_ONE_TO_ONE_EXT),ae=te;const Xe=ie;ie=null,this.setClear(Xe)}},getReversed:function(){return ae},setTest:function(te){te?re(t.DEPTH_TEST):Le(t.DEPTH_TEST)},setMask:function(te){de!==te&&!z&&(t.depthMask(te),de=te)},setFunc:function(te){if(ae&&(te=kW[te]),we!==te){switch(te){case Dx:t.depthFunc(t.NEVER);break;case kx:t.depthFunc(t.ALWAYS);break;case Ox:t.depthFunc(t.LESS);break;case Tl:t.depthFunc(t.LEQUAL);break;case jx:t.depthFunc(t.EQUAL);break;case Fx:t.depthFunc(t.GEQUAL);break;case Ux:t.depthFunc(t.GREATER);break;case Bx:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}we=te}},setLocked:function(te){z=te},setClear:function(te){ie!==te&&(ae&&(te=1-te),t.clearDepth(te),ie=te)},reset:function(){z=!1,de=null,we=null,ie=null,ae=!1}}}function s(){let z=!1,ae=null,de=null,we=null,ie=null,te=null,Ie=null,Xe=null,Tt=null;return{setTest:function(ft){z||(ft?re(t.STENCIL_TEST):Le(t.STENCIL_TEST))},setMask:function(ft){ae!==ft&&!z&&(t.stencilMask(ft),ae=ft)},setFunc:function(ft,Ds,rs){(de!==ft||we!==Ds||ie!==rs)&&(t.stencilFunc(ft,Ds,rs),de=ft,we=Ds,ie=rs)},setOp:function(ft,Ds,rs){(te!==ft||Ie!==Ds||Xe!==rs)&&(t.stencilOp(ft,Ds,rs),te=ft,Ie=Ds,Xe=rs)},setLocked:function(ft){z=ft},setClear:function(ft){Tt!==ft&&(t.clearStencil(ft),Tt=ft)},reset:function(){z=!1,ae=null,de=null,we=null,ie=null,te=null,Ie=null,Xe=null,Tt=null}}}const r=new n,o=new i,a=new s,l=new WeakMap,c=new WeakMap;let d={},h={},f=new WeakMap,p=[],x=null,v=!1,g=null,m=null,y=null,b=null,_=null,w=null,T=null,A=new Oe(0,0,0),E=0,C=!1,S=null,R=null,D=null,F=null,O=null;const G=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,j=0;const N=t.getParameter(t.VERSION);N.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(N)[1]),H=j>=1):N.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),H=j>=2);let B=null,q={};const ee=t.getParameter(t.SCISSOR_BOX),xe=t.getParameter(t.VIEWPORT),Be=new dt().fromArray(ee),We=new dt().fromArray(xe);function Q(z,ae,de,we){const ie=new Uint8Array(4),te=t.createTexture();t.bindTexture(z,te),t.texParameteri(z,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(z,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ie=0;Ie<de;Ie++)z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY?t.texImage3D(ae,0,t.RGBA,1,1,we,0,t.RGBA,t.UNSIGNED_BYTE,ie):t.texImage2D(ae+Ie,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ie);return te}const ce={};ce[t.TEXTURE_2D]=Q(t.TEXTURE_2D,t.TEXTURE_2D,1),ce[t.TEXTURE_CUBE_MAP]=Q(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[t.TEXTURE_2D_ARRAY]=Q(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ce[t.TEXTURE_3D]=Q(t.TEXTURE_3D,t.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),a.setClear(0),re(t.DEPTH_TEST),o.setFunc(Tl),tt(!1),Ce(vS),re(t.CULL_FACE),ot(sr);function re(z){d[z]!==!0&&(t.enable(z),d[z]=!0)}function Le(z){d[z]!==!1&&(t.disable(z),d[z]=!1)}function ye(z,ae){return h[z]!==ae?(t.bindFramebuffer(z,ae),h[z]=ae,z===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=ae),z===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=ae),!0):!1}function Pe(z,ae){let de=p,we=!1;if(z){de=f.get(ae),de===void 0&&(de=[],f.set(ae,de));const ie=z.textures;if(de.length!==ie.length||de[0]!==t.COLOR_ATTACHMENT0){for(let te=0,Ie=ie.length;te<Ie;te++)de[te]=t.COLOR_ATTACHMENT0+te;de.length=ie.length,we=!0}}else de[0]!==t.BACK&&(de[0]=t.BACK,we=!0);we&&t.drawBuffers(de)}function ht(z){return x!==z?(t.useProgram(z),x=z,!0):!1}const qe={[Ro]:t.FUNC_ADD,[H5]:t.FUNC_SUBTRACT,[G5]:t.FUNC_REVERSE_SUBTRACT};qe[W5]=t.MIN,qe[X5]=t.MAX;const k={[$5]:t.ZERO,[q5]:t.ONE,[Y5]:t.SRC_COLOR,[Ix]:t.SRC_ALPHA,[tz]:t.SRC_ALPHA_SATURATE,[J5]:t.DST_COLOR,[Z5]:t.DST_ALPHA,[K5]:t.ONE_MINUS_SRC_COLOR,[Lx]:t.ONE_MINUS_SRC_ALPHA,[ez]:t.ONE_MINUS_DST_COLOR,[Q5]:t.ONE_MINUS_DST_ALPHA,[nz]:t.CONSTANT_COLOR,[iz]:t.ONE_MINUS_CONSTANT_COLOR,[sz]:t.CONSTANT_ALPHA,[rz]:t.ONE_MINUS_CONSTANT_ALPHA};function ot(z,ae,de,we,ie,te,Ie,Xe,Tt,ft){if(z===sr){v===!0&&(Le(t.BLEND),v=!1);return}if(v===!1&&(re(t.BLEND),v=!0),z!==V5){if(z!==g||ft!==C){if((m!==Ro||_!==Ro)&&(t.blendEquation(t.FUNC_ADD),m=Ro,_=Ro),ft)switch(z){case Qa:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case _u:t.blendFunc(t.ONE,t.ONE);break;case yS:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case bS:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}else switch(z){case Qa:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case _u:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case yS:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case bS:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}y=null,b=null,w=null,T=null,A.set(0,0,0),E=0,g=z,C=ft}return}ie=ie||ae,te=te||de,Ie=Ie||we,(ae!==m||ie!==_)&&(t.blendEquationSeparate(qe[ae],qe[ie]),m=ae,_=ie),(de!==y||we!==b||te!==w||Ie!==T)&&(t.blendFuncSeparate(k[de],k[we],k[te],k[Ie]),y=de,b=we,w=te,T=Ie),(Xe.equals(A)===!1||Tt!==E)&&(t.blendColor(Xe.r,Xe.g,Xe.b,Tt),A.copy(Xe),E=Tt),g=z,C=!1}function De(z,ae){z.side===ps?Le(t.CULL_FACE):re(t.CULL_FACE);let de=z.side===$n;ae&&(de=!de),tt(de),z.blending===Qa&&z.transparent===!1?ot(sr):ot(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.blendColor,z.blendAlpha,z.premultipliedAlpha),o.setFunc(z.depthFunc),o.setTest(z.depthTest),o.setMask(z.depthWrite),r.setMask(z.colorWrite);const we=z.stencilWrite;a.setTest(we),we&&(a.setMask(z.stencilWriteMask),a.setFunc(z.stencilFunc,z.stencilRef,z.stencilFuncMask),a.setOp(z.stencilFail,z.stencilZFail,z.stencilZPass)),ge(z.polygonOffset,z.polygonOffsetFactor,z.polygonOffsetUnits),z.alphaToCoverage===!0?re(t.SAMPLE_ALPHA_TO_COVERAGE):Le(t.SAMPLE_ALPHA_TO_COVERAGE)}function tt(z){S!==z&&(z?t.frontFace(t.CW):t.frontFace(t.CCW),S=z)}function Ce(z){z!==U5?(re(t.CULL_FACE),z!==R&&(z===vS?t.cullFace(t.BACK):z===B5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Le(t.CULL_FACE),R=z}function ut(z){z!==D&&(H&&t.lineWidth(z),D=z)}function ge(z,ae,de){z?(re(t.POLYGON_OFFSET_FILL),(F!==ae||O!==de)&&(t.polygonOffset(ae,de),F=ae,O=de)):Le(t.POLYGON_OFFSET_FILL)}function He(z){z?re(t.SCISSOR_TEST):Le(t.SCISSOR_TEST)}function St(z){z===void 0&&(z=t.TEXTURE0+G-1),B!==z&&(t.activeTexture(z),B=z)}function be(z,ae,de){de===void 0&&(B===null?de=t.TEXTURE0+G-1:de=B);let we=q[de];we===void 0&&(we={type:void 0,texture:void 0},q[de]=we),(we.type!==z||we.texture!==ae)&&(B!==de&&(t.activeTexture(de),B=de),t.bindTexture(z,ae||ce[z]),we.type=z,we.texture=ae)}function L(){const z=q[B];z!==void 0&&z.type!==void 0&&(t.bindTexture(z.type,null),z.type=void 0,z.texture=void 0)}function P(){try{t.compressedTexImage2D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function X(){try{t.compressedTexImage3D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function $(){try{t.texSubImage2D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function J(){try{t.texSubImage3D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Z(){try{t.compressedTexSubImage2D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Re(){try{t.compressedTexSubImage3D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function oe(){try{t.texStorage2D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Te(){try{t.texStorage3D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function _e(){try{t.texImage2D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function se(){try{t.texImage3D(...arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function fe(z){Be.equals(z)===!1&&(t.scissor(z.x,z.y,z.z,z.w),Be.copy(z))}function je(z){We.equals(z)===!1&&(t.viewport(z.x,z.y,z.z,z.w),We.copy(z))}function Me(z,ae){let de=c.get(ae);de===void 0&&(de=new WeakMap,c.set(ae,de));let we=de.get(z);we===void 0&&(we=t.getUniformBlockIndex(ae,z.name),de.set(z,we))}function pe(z,ae){const we=c.get(ae).get(z);l.get(ae)!==we&&(t.uniformBlockBinding(ae,we,z.__bindingPointIndex),l.set(ae,we))}function Ge(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},B=null,q={},h={},f=new WeakMap,p=[],x=null,v=!1,g=null,m=null,y=null,b=null,_=null,w=null,T=null,A=new Oe(0,0,0),E=0,C=!1,S=null,R=null,D=null,F=null,O=null,Be.set(0,0,t.canvas.width,t.canvas.height),We.set(0,0,t.canvas.width,t.canvas.height),r.reset(),o.reset(),a.reset()}return{buffers:{color:r,depth:o,stencil:a},enable:re,disable:Le,bindFramebuffer:ye,drawBuffers:Pe,useProgram:ht,setBlending:ot,setMaterial:De,setFlipSided:tt,setCullFace:Ce,setLineWidth:ut,setPolygonOffset:ge,setScissorTest:He,activeTexture:St,bindTexture:be,unbindTexture:L,compressedTexImage2D:P,compressedTexImage3D:X,texImage2D:_e,texImage3D:se,updateUBOMapping:Me,uniformBlockBinding:pe,texStorage2D:oe,texStorage3D:Te,texSubImage2D:$,texSubImage3D:J,compressedTexSubImage2D:Z,compressedTexSubImage3D:Re,scissor:fe,viewport:je,reset:Ge}}function jW(t,e,n,i,s,r,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ae,d=new WeakMap;let h;const f=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(L,P){return p?new OffscreenCanvas(L,P):Cu("canvas")}function v(L,P,X){let $=1;const J=be(L);if((J.width>X||J.height>X)&&($=X/Math.max(J.width,J.height)),$<1)if(typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&L instanceof ImageBitmap||typeof VideoFrame<"u"&&L instanceof VideoFrame){const Z=Math.floor($*J.width),Re=Math.floor($*J.height);h===void 0&&(h=x(Z,Re));const oe=P?x(Z,Re):h;return oe.width=Z,oe.height=Re,oe.getContext("2d").drawImage(L,0,0,Z,Re),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+Z+"x"+Re+")."),oe}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),L;return L}function g(L){return L.generateMipmaps}function m(L){t.generateMipmap(L)}function y(L){return L.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:L.isWebGL3DRenderTarget?t.TEXTURE_3D:L.isWebGLArrayRenderTarget||L.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(L,P,X,$,J=!1){if(L!==null){if(t[L]!==void 0)return t[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let Z=P;if(P===t.RED&&(X===t.FLOAT&&(Z=t.R32F),X===t.HALF_FLOAT&&(Z=t.R16F),X===t.UNSIGNED_BYTE&&(Z=t.R8)),P===t.RED_INTEGER&&(X===t.UNSIGNED_BYTE&&(Z=t.R8UI),X===t.UNSIGNED_SHORT&&(Z=t.R16UI),X===t.UNSIGNED_INT&&(Z=t.R32UI),X===t.BYTE&&(Z=t.R8I),X===t.SHORT&&(Z=t.R16I),X===t.INT&&(Z=t.R32I)),P===t.RG&&(X===t.FLOAT&&(Z=t.RG32F),X===t.HALF_FLOAT&&(Z=t.RG16F),X===t.UNSIGNED_BYTE&&(Z=t.RG8)),P===t.RG_INTEGER&&(X===t.UNSIGNED_BYTE&&(Z=t.RG8UI),X===t.UNSIGNED_SHORT&&(Z=t.RG16UI),X===t.UNSIGNED_INT&&(Z=t.RG32UI),X===t.BYTE&&(Z=t.RG8I),X===t.SHORT&&(Z=t.RG16I),X===t.INT&&(Z=t.RG32I)),P===t.RGB_INTEGER&&(X===t.UNSIGNED_BYTE&&(Z=t.RGB8UI),X===t.UNSIGNED_SHORT&&(Z=t.RGB16UI),X===t.UNSIGNED_INT&&(Z=t.RGB32UI),X===t.BYTE&&(Z=t.RGB8I),X===t.SHORT&&(Z=t.RGB16I),X===t.INT&&(Z=t.RGB32I)),P===t.RGBA_INTEGER&&(X===t.UNSIGNED_BYTE&&(Z=t.RGBA8UI),X===t.UNSIGNED_SHORT&&(Z=t.RGBA16UI),X===t.UNSIGNED_INT&&(Z=t.RGBA32UI),X===t.BYTE&&(Z=t.RGBA8I),X===t.SHORT&&(Z=t.RGBA16I),X===t.INT&&(Z=t.RGBA32I)),P===t.RGB&&X===t.UNSIGNED_INT_5_9_9_9_REV&&(Z=t.RGB9_E5),P===t.RGBA){const Re=J?gf:at.getTransfer($);X===t.FLOAT&&(Z=t.RGBA32F),X===t.HALF_FLOAT&&(Z=t.RGBA16F),X===t.UNSIGNED_BYTE&&(Z=Re===yt?t.SRGB8_ALPHA8:t.RGBA8),X===t.UNSIGNED_SHORT_4_4_4_4&&(Z=t.RGBA4),X===t.UNSIGNED_SHORT_5_5_5_1&&(Z=t.RGB5_A1)}return(Z===t.R16F||Z===t.R32F||Z===t.RG16F||Z===t.RG32F||Z===t.RGBA16F||Z===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Z}function _(L,P){let X;return L?P===null||P===Qo||P===Su?X=t.DEPTH24_STENCIL8:P===Xi?X=t.DEPTH32F_STENCIL8:P===wu&&(X=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):P===null||P===Qo||P===Su?X=t.DEPTH_COMPONENT24:P===Xi?X=t.DEPTH_COMPONENT32F:P===wu&&(X=t.DEPTH_COMPONENT16),X}function w(L,P){return g(L)===!0||L.isFramebufferTexture&&L.minFilter!==Dn&&L.minFilter!==Hn?Math.log2(Math.max(P.width,P.height))+1:L.mipmaps!==void 0&&L.mipmaps.length>0?L.mipmaps.length:L.isCompressedTexture&&Array.isArray(L.image)?P.mipmaps.length:1}function T(L){const P=L.target;P.removeEventListener("dispose",T),E(P),P.isVideoTexture&&d.delete(P)}function A(L){const P=L.target;P.removeEventListener("dispose",A),S(P)}function E(L){const P=i.get(L);if(P.__webglInit===void 0)return;const X=L.source,$=f.get(X);if($){const J=$[P.__cacheKey];J.usedTimes--,J.usedTimes===0&&C(L),Object.keys($).length===0&&f.delete(X)}i.remove(L)}function C(L){const P=i.get(L);t.deleteTexture(P.__webglTexture);const X=L.source,$=f.get(X);delete $[P.__cacheKey],o.memory.textures--}function S(L){const P=i.get(L);if(L.depthTexture&&(L.depthTexture.dispose(),i.remove(L.depthTexture)),L.isWebGLCubeRenderTarget)for(let $=0;$<6;$++){if(Array.isArray(P.__webglFramebuffer[$]))for(let J=0;J<P.__webglFramebuffer[$].length;J++)t.deleteFramebuffer(P.__webglFramebuffer[$][J]);else t.deleteFramebuffer(P.__webglFramebuffer[$]);P.__webglDepthbuffer&&t.deleteRenderbuffer(P.__webglDepthbuffer[$])}else{if(Array.isArray(P.__webglFramebuffer))for(let $=0;$<P.__webglFramebuffer.length;$++)t.deleteFramebuffer(P.__webglFramebuffer[$]);else t.deleteFramebuffer(P.__webglFramebuffer);if(P.__webglDepthbuffer&&t.deleteRenderbuffer(P.__webglDepthbuffer),P.__webglMultisampledFramebuffer&&t.deleteFramebuffer(P.__webglMultisampledFramebuffer),P.__webglColorRenderbuffer)for(let $=0;$<P.__webglColorRenderbuffer.length;$++)P.__webglColorRenderbuffer[$]&&t.deleteRenderbuffer(P.__webglColorRenderbuffer[$]);P.__webglDepthRenderbuffer&&t.deleteRenderbuffer(P.__webglDepthRenderbuffer)}const X=L.textures;for(let $=0,J=X.length;$<J;$++){const Z=i.get(X[$]);Z.__webglTexture&&(t.deleteTexture(Z.__webglTexture),o.memory.textures--),i.remove(X[$])}i.remove(L)}let R=0;function D(){R=0}function F(){const L=R;return L>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+s.maxTextures),R+=1,L}function O(L){const P=[];return P.push(L.wrapS),P.push(L.wrapT),P.push(L.wrapR||0),P.push(L.magFilter),P.push(L.minFilter),P.push(L.anisotropy),P.push(L.internalFormat),P.push(L.format),P.push(L.type),P.push(L.generateMipmaps),P.push(L.premultiplyAlpha),P.push(L.flipY),P.push(L.unpackAlignment),P.push(L.colorSpace),P.join()}function G(L,P){const X=i.get(L);if(L.isVideoTexture&&He(L),L.isRenderTargetTexture===!1&&L.isExternalTexture!==!0&&L.version>0&&X.__version!==L.version){const $=L.image;if($===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if($.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ce(X,L,P);return}}else L.isExternalTexture&&(X.__webglTexture=L.sourceTexture?L.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,X.__webglTexture,t.TEXTURE0+P)}function H(L,P){const X=i.get(L);if(L.isRenderTargetTexture===!1&&L.version>0&&X.__version!==L.version){ce(X,L,P);return}n.bindTexture(t.TEXTURE_2D_ARRAY,X.__webglTexture,t.TEXTURE0+P)}function j(L,P){const X=i.get(L);if(L.isRenderTargetTexture===!1&&L.version>0&&X.__version!==L.version){ce(X,L,P);return}n.bindTexture(t.TEXTURE_3D,X.__webglTexture,t.TEXTURE0+P)}function N(L,P){const X=i.get(L);if(L.version>0&&X.__version!==L.version){re(X,L,P);return}n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+P)}const B={[Al]:t.REPEAT,[Hr]:t.CLAMP_TO_EDGE,[pf]:t.MIRRORED_REPEAT},q={[Dn]:t.NEAREST,[X2]:t.NEAREST_MIPMAP_NEAREST,[Mc]:t.NEAREST_MIPMAP_LINEAR,[Hn]:t.LINEAR,[vh]:t.LINEAR_MIPMAP_NEAREST,[xs]:t.LINEAR_MIPMAP_LINEAR},ee={[wz]:t.NEVER,[Cz]:t.ALWAYS,[Sz]:t.LESS,[iP]:t.LEQUAL,[Tz]:t.EQUAL,[Az]:t.GEQUAL,[Ez]:t.GREATER,[Mz]:t.NOTEQUAL};function xe(L,P){if(P.type===Xi&&e.has("OES_texture_float_linear")===!1&&(P.magFilter===Hn||P.magFilter===vh||P.magFilter===Mc||P.magFilter===xs||P.minFilter===Hn||P.minFilter===vh||P.minFilter===Mc||P.minFilter===xs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(L,t.TEXTURE_WRAP_S,B[P.wrapS]),t.texParameteri(L,t.TEXTURE_WRAP_T,B[P.wrapT]),(L===t.TEXTURE_3D||L===t.TEXTURE_2D_ARRAY)&&t.texParameteri(L,t.TEXTURE_WRAP_R,B[P.wrapR]),t.texParameteri(L,t.TEXTURE_MAG_FILTER,q[P.magFilter]),t.texParameteri(L,t.TEXTURE_MIN_FILTER,q[P.minFilter]),P.compareFunction&&(t.texParameteri(L,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(L,t.TEXTURE_COMPARE_FUNC,ee[P.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(P.magFilter===Dn||P.minFilter!==Mc&&P.minFilter!==xs||P.type===Xi&&e.has("OES_texture_float_linear")===!1)return;if(P.anisotropy>1||i.get(P).__currentAnisotropy){const X=e.get("EXT_texture_filter_anisotropic");t.texParameterf(L,X.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(P.anisotropy,s.getMaxAnisotropy())),i.get(P).__currentAnisotropy=P.anisotropy}}}function Be(L,P){let X=!1;L.__webglInit===void 0&&(L.__webglInit=!0,P.addEventListener("dispose",T));const $=P.source;let J=f.get($);J===void 0&&(J={},f.set($,J));const Z=O(P);if(Z!==L.__cacheKey){J[Z]===void 0&&(J[Z]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,X=!0),J[Z].usedTimes++;const Re=J[L.__cacheKey];Re!==void 0&&(J[L.__cacheKey].usedTimes--,Re.usedTimes===0&&C(P)),L.__cacheKey=Z,L.__webglTexture=J[Z].texture}return X}function We(L,P,X){return Math.floor(Math.floor(L/X)/P)}function Q(L,P,X,$){const Z=L.updateRanges;if(Z.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,P.width,P.height,X,$,P.data);else{Z.sort((se,fe)=>se.start-fe.start);let Re=0;for(let se=1;se<Z.length;se++){const fe=Z[Re],je=Z[se],Me=fe.start+fe.count,pe=We(je.start,P.width,4),Ge=We(fe.start,P.width,4);je.start<=Me+1&&pe===Ge&&We(je.start+je.count-1,P.width,4)===pe?fe.count=Math.max(fe.count,je.start+je.count-fe.start):(++Re,Z[Re]=je)}Z.length=Re+1;const oe=t.getParameter(t.UNPACK_ROW_LENGTH),Te=t.getParameter(t.UNPACK_SKIP_PIXELS),_e=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,P.width);for(let se=0,fe=Z.length;se<fe;se++){const je=Z[se],Me=Math.floor(je.start/4),pe=Math.ceil(je.count/4),Ge=Me%P.width,z=Math.floor(Me/P.width),ae=pe,de=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ge),t.pixelStorei(t.UNPACK_SKIP_ROWS,z),n.texSubImage2D(t.TEXTURE_2D,0,Ge,z,ae,de,X,$,P.data)}L.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,oe),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Te),t.pixelStorei(t.UNPACK_SKIP_ROWS,_e)}}function ce(L,P,X){let $=t.TEXTURE_2D;(P.isDataArrayTexture||P.isCompressedArrayTexture)&&($=t.TEXTURE_2D_ARRAY),P.isData3DTexture&&($=t.TEXTURE_3D);const J=Be(L,P),Z=P.source;n.bindTexture($,L.__webglTexture,t.TEXTURE0+X);const Re=i.get(Z);if(Z.version!==Re.__version||J===!0){n.activeTexture(t.TEXTURE0+X);const oe=at.getPrimaries(at.workingColorSpace),Te=P.colorSpace===Dr?null:at.getPrimaries(P.colorSpace),_e=P.colorSpace===Dr||oe===Te?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,P.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,P.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,P.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_e);let se=v(P.image,!1,s.maxTextureSize);se=St(P,se);const fe=r.convert(P.format,P.colorSpace),je=r.convert(P.type);let Me=b(P.internalFormat,fe,je,P.colorSpace,P.isVideoTexture);xe($,P);let pe;const Ge=P.mipmaps,z=P.isVideoTexture!==!0,ae=Re.__version===void 0||J===!0,de=Z.dataReady,we=w(P,se);if(P.isDepthTexture)Me=_(P.format===Eu,P.type),ae&&(z?n.texStorage2D(t.TEXTURE_2D,1,Me,se.width,se.height):n.texImage2D(t.TEXTURE_2D,0,Me,se.width,se.height,0,fe,je,null));else if(P.isDataTexture)if(Ge.length>0){z&&ae&&n.texStorage2D(t.TEXTURE_2D,we,Me,Ge[0].width,Ge[0].height);for(let ie=0,te=Ge.length;ie<te;ie++)pe=Ge[ie],z?de&&n.texSubImage2D(t.TEXTURE_2D,ie,0,0,pe.width,pe.height,fe,je,pe.data):n.texImage2D(t.TEXTURE_2D,ie,Me,pe.width,pe.height,0,fe,je,pe.data);P.generateMipmaps=!1}else z?(ae&&n.texStorage2D(t.TEXTURE_2D,we,Me,se.width,se.height),de&&Q(P,se,fe,je)):n.texImage2D(t.TEXTURE_2D,0,Me,se.width,se.height,0,fe,je,se.data);else if(P.isCompressedTexture)if(P.isCompressedArrayTexture){z&&ae&&n.texStorage3D(t.TEXTURE_2D_ARRAY,we,Me,Ge[0].width,Ge[0].height,se.depth);for(let ie=0,te=Ge.length;ie<te;ie++)if(pe=Ge[ie],P.format!==Ai)if(fe!==null)if(z){if(de)if(P.layerUpdates.size>0){const Ie=c1(pe.width,pe.height,P.format,P.type);for(const Xe of P.layerUpdates){const Tt=pe.data.subarray(Xe*Ie/pe.data.BYTES_PER_ELEMENT,(Xe+1)*Ie/pe.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ie,0,0,Xe,pe.width,pe.height,1,fe,Tt)}P.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ie,0,0,0,pe.width,pe.height,se.depth,fe,pe.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ie,Me,pe.width,pe.height,se.depth,0,pe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else z?de&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ie,0,0,0,pe.width,pe.height,se.depth,fe,je,pe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ie,Me,pe.width,pe.height,se.depth,0,fe,je,pe.data)}else{z&&ae&&n.texStorage2D(t.TEXTURE_2D,we,Me,Ge[0].width,Ge[0].height);for(let ie=0,te=Ge.length;ie<te;ie++)pe=Ge[ie],P.format!==Ai?fe!==null?z?de&&n.compressedTexSubImage2D(t.TEXTURE_2D,ie,0,0,pe.width,pe.height,fe,pe.data):n.compressedTexImage2D(t.TEXTURE_2D,ie,Me,pe.width,pe.height,0,pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):z?de&&n.texSubImage2D(t.TEXTURE_2D,ie,0,0,pe.width,pe.height,fe,je,pe.data):n.texImage2D(t.TEXTURE_2D,ie,Me,pe.width,pe.height,0,fe,je,pe.data)}else if(P.isDataArrayTexture)if(z){if(ae&&n.texStorage3D(t.TEXTURE_2D_ARRAY,we,Me,se.width,se.height,se.depth),de)if(P.layerUpdates.size>0){const ie=c1(se.width,se.height,P.format,P.type);for(const te of P.layerUpdates){const Ie=se.data.subarray(te*ie/se.data.BYTES_PER_ELEMENT,(te+1)*ie/se.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,te,se.width,se.height,1,fe,je,Ie)}P.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,se.width,se.height,se.depth,fe,je,se.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Me,se.width,se.height,se.depth,0,fe,je,se.data);else if(P.isData3DTexture)z?(ae&&n.texStorage3D(t.TEXTURE_3D,we,Me,se.width,se.height,se.depth),de&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,se.width,se.height,se.depth,fe,je,se.data)):n.texImage3D(t.TEXTURE_3D,0,Me,se.width,se.height,se.depth,0,fe,je,se.data);else if(P.isFramebufferTexture){if(ae)if(z)n.texStorage2D(t.TEXTURE_2D,we,Me,se.width,se.height);else{let ie=se.width,te=se.height;for(let Ie=0;Ie<we;Ie++)n.texImage2D(t.TEXTURE_2D,Ie,Me,ie,te,0,fe,je,null),ie>>=1,te>>=1}}else if(Ge.length>0){if(z&&ae){const ie=be(Ge[0]);n.texStorage2D(t.TEXTURE_2D,we,Me,ie.width,ie.height)}for(let ie=0,te=Ge.length;ie<te;ie++)pe=Ge[ie],z?de&&n.texSubImage2D(t.TEXTURE_2D,ie,0,0,fe,je,pe):n.texImage2D(t.TEXTURE_2D,ie,Me,fe,je,pe);P.generateMipmaps=!1}else if(z){if(ae){const ie=be(se);n.texStorage2D(t.TEXTURE_2D,we,Me,ie.width,ie.height)}de&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,fe,je,se)}else n.texImage2D(t.TEXTURE_2D,0,Me,fe,je,se);g(P)&&m($),Re.__version=Z.version,P.onUpdate&&P.onUpdate(P)}L.__version=P.version}function re(L,P,X){if(P.image.length!==6)return;const $=Be(L,P),J=P.source;n.bindTexture(t.TEXTURE_CUBE_MAP,L.__webglTexture,t.TEXTURE0+X);const Z=i.get(J);if(J.version!==Z.__version||$===!0){n.activeTexture(t.TEXTURE0+X);const Re=at.getPrimaries(at.workingColorSpace),oe=P.colorSpace===Dr?null:at.getPrimaries(P.colorSpace),Te=P.colorSpace===Dr||Re===oe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,P.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,P.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,P.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);const _e=P.isCompressedTexture||P.image[0].isCompressedTexture,se=P.image[0]&&P.image[0].isDataTexture,fe=[];for(let te=0;te<6;te++)!_e&&!se?fe[te]=v(P.image[te],!0,s.maxCubemapSize):fe[te]=se?P.image[te].image:P.image[te],fe[te]=St(P,fe[te]);const je=fe[0],Me=r.convert(P.format,P.colorSpace),pe=r.convert(P.type),Ge=b(P.internalFormat,Me,pe,P.colorSpace),z=P.isVideoTexture!==!0,ae=Z.__version===void 0||$===!0,de=J.dataReady;let we=w(P,je);xe(t.TEXTURE_CUBE_MAP,P);let ie;if(_e){z&&ae&&n.texStorage2D(t.TEXTURE_CUBE_MAP,we,Ge,je.width,je.height);for(let te=0;te<6;te++){ie=fe[te].mipmaps;for(let Ie=0;Ie<ie.length;Ie++){const Xe=ie[Ie];P.format!==Ai?Me!==null?z?de&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ie,0,0,Xe.width,Xe.height,Me,Xe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ie,Ge,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):z?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ie,0,0,Xe.width,Xe.height,Me,pe,Xe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ie,Ge,Xe.width,Xe.height,0,Me,pe,Xe.data)}}}else{if(ie=P.mipmaps,z&&ae){ie.length>0&&we++;const te=be(fe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,we,Ge,te.width,te.height)}for(let te=0;te<6;te++)if(se){z?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,0,0,fe[te].width,fe[te].height,Me,pe,fe[te].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,Ge,fe[te].width,fe[te].height,0,Me,pe,fe[te].data);for(let Ie=0;Ie<ie.length;Ie++){const Tt=ie[Ie].image[te].image;z?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ie+1,0,0,Tt.width,Tt.height,Me,pe,Tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ie+1,Ge,Tt.width,Tt.height,0,Me,pe,Tt.data)}}else{z?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,0,0,Me,pe,fe[te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,Ge,Me,pe,fe[te]);for(let Ie=0;Ie<ie.length;Ie++){const Xe=ie[Ie];z?de&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ie+1,0,0,Me,pe,Xe.image[te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,Ie+1,Ge,Me,pe,Xe.image[te])}}}g(P)&&m(t.TEXTURE_CUBE_MAP),Z.__version=J.version,P.onUpdate&&P.onUpdate(P)}L.__version=P.version}function Le(L,P,X,$,J,Z){const Re=r.convert(X.format,X.colorSpace),oe=r.convert(X.type),Te=b(X.internalFormat,Re,oe,X.colorSpace),_e=i.get(P),se=i.get(X);if(se.__renderTarget=P,!_e.__hasExternalTextures){const fe=Math.max(1,P.width>>Z),je=Math.max(1,P.height>>Z);J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY?n.texImage3D(J,Z,Te,fe,je,P.depth,0,Re,oe,null):n.texImage2D(J,Z,Te,fe,je,0,Re,oe,null)}n.bindFramebuffer(t.FRAMEBUFFER,L),ge(P)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,$,J,se.__webglTexture,0,ut(P)):(J===t.TEXTURE_2D||J>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&J<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,$,J,se.__webglTexture,Z),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ye(L,P,X){if(t.bindRenderbuffer(t.RENDERBUFFER,L),P.depthBuffer){const $=P.depthTexture,J=$&&$.isDepthTexture?$.type:null,Z=_(P.stencilBuffer,J),Re=P.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,oe=ut(P);ge(P)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,oe,Z,P.width,P.height):X?t.renderbufferStorageMultisample(t.RENDERBUFFER,oe,Z,P.width,P.height):t.renderbufferStorage(t.RENDERBUFFER,Z,P.width,P.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Re,t.RENDERBUFFER,L)}else{const $=P.textures;for(let J=0;J<$.length;J++){const Z=$[J],Re=r.convert(Z.format,Z.colorSpace),oe=r.convert(Z.type),Te=b(Z.internalFormat,Re,oe,Z.colorSpace),_e=ut(P);X&&ge(P)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,_e,Te,P.width,P.height):ge(P)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_e,Te,P.width,P.height):t.renderbufferStorage(t.RENDERBUFFER,Te,P.width,P.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Pe(L,P){if(P&&P.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,L),!(P.depthTexture&&P.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const $=i.get(P.depthTexture);$.__renderTarget=P,(!$.__webglTexture||P.depthTexture.image.width!==P.width||P.depthTexture.image.height!==P.height)&&(P.depthTexture.image.width=P.width,P.depthTexture.image.height=P.height,P.depthTexture.needsUpdate=!0),G(P.depthTexture,0);const J=$.__webglTexture,Z=ut(P);if(P.depthTexture.format===Tu)ge(P)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,J,0,Z):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,J,0);else if(P.depthTexture.format===Eu)ge(P)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,J,0,Z):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,J,0);else throw new Error("Unknown depthTexture format")}function ht(L){const P=i.get(L),X=L.isWebGLCubeRenderTarget===!0;if(P.__boundDepthTexture!==L.depthTexture){const $=L.depthTexture;if(P.__depthDisposeCallback&&P.__depthDisposeCallback(),$){const J=()=>{delete P.__boundDepthTexture,delete P.__depthDisposeCallback,$.removeEventListener("dispose",J)};$.addEventListener("dispose",J),P.__depthDisposeCallback=J}P.__boundDepthTexture=$}if(L.depthTexture&&!P.__autoAllocateDepthBuffer){if(X)throw new Error("target.depthTexture not supported in Cube render targets");const $=L.texture.mipmaps;$&&$.length>0?Pe(P.__webglFramebuffer[0],L):Pe(P.__webglFramebuffer,L)}else if(X){P.__webglDepthbuffer=[];for(let $=0;$<6;$++)if(n.bindFramebuffer(t.FRAMEBUFFER,P.__webglFramebuffer[$]),P.__webglDepthbuffer[$]===void 0)P.__webglDepthbuffer[$]=t.createRenderbuffer(),ye(P.__webglDepthbuffer[$],L,!1);else{const J=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Z=P.__webglDepthbuffer[$];t.bindRenderbuffer(t.RENDERBUFFER,Z),t.framebufferRenderbuffer(t.FRAMEBUFFER,J,t.RENDERBUFFER,Z)}}else{const $=L.texture.mipmaps;if($&&$.length>0?n.bindFramebuffer(t.FRAMEBUFFER,P.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,P.__webglFramebuffer),P.__webglDepthbuffer===void 0)P.__webglDepthbuffer=t.createRenderbuffer(),ye(P.__webglDepthbuffer,L,!1);else{const J=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Z=P.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Z),t.framebufferRenderbuffer(t.FRAMEBUFFER,J,t.RENDERBUFFER,Z)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function qe(L,P,X){const $=i.get(L);P!==void 0&&Le($.__webglFramebuffer,L,L.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),X!==void 0&&ht(L)}function k(L){const P=L.texture,X=i.get(L),$=i.get(P);L.addEventListener("dispose",A);const J=L.textures,Z=L.isWebGLCubeRenderTarget===!0,Re=J.length>1;if(Re||($.__webglTexture===void 0&&($.__webglTexture=t.createTexture()),$.__version=P.version,o.memory.textures++),Z){X.__webglFramebuffer=[];for(let oe=0;oe<6;oe++)if(P.mipmaps&&P.mipmaps.length>0){X.__webglFramebuffer[oe]=[];for(let Te=0;Te<P.mipmaps.length;Te++)X.__webglFramebuffer[oe][Te]=t.createFramebuffer()}else X.__webglFramebuffer[oe]=t.createFramebuffer()}else{if(P.mipmaps&&P.mipmaps.length>0){X.__webglFramebuffer=[];for(let oe=0;oe<P.mipmaps.length;oe++)X.__webglFramebuffer[oe]=t.createFramebuffer()}else X.__webglFramebuffer=t.createFramebuffer();if(Re)for(let oe=0,Te=J.length;oe<Te;oe++){const _e=i.get(J[oe]);_e.__webglTexture===void 0&&(_e.__webglTexture=t.createTexture(),o.memory.textures++)}if(L.samples>0&&ge(L)===!1){X.__webglMultisampledFramebuffer=t.createFramebuffer(),X.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,X.__webglMultisampledFramebuffer);for(let oe=0;oe<J.length;oe++){const Te=J[oe];X.__webglColorRenderbuffer[oe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,X.__webglColorRenderbuffer[oe]);const _e=r.convert(Te.format,Te.colorSpace),se=r.convert(Te.type),fe=b(Te.internalFormat,_e,se,Te.colorSpace,L.isXRRenderTarget===!0),je=ut(L);t.renderbufferStorageMultisample(t.RENDERBUFFER,je,fe,L.width,L.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+oe,t.RENDERBUFFER,X.__webglColorRenderbuffer[oe])}t.bindRenderbuffer(t.RENDERBUFFER,null),L.depthBuffer&&(X.__webglDepthRenderbuffer=t.createRenderbuffer(),ye(X.__webglDepthRenderbuffer,L,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Z){n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture),xe(t.TEXTURE_CUBE_MAP,P);for(let oe=0;oe<6;oe++)if(P.mipmaps&&P.mipmaps.length>0)for(let Te=0;Te<P.mipmaps.length;Te++)Le(X.__webglFramebuffer[oe][Te],L,P,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Te);else Le(X.__webglFramebuffer[oe],L,P,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0);g(P)&&m(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Re){for(let oe=0,Te=J.length;oe<Te;oe++){const _e=J[oe],se=i.get(_e);let fe=t.TEXTURE_2D;(L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(fe=L.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(fe,se.__webglTexture),xe(fe,_e),Le(X.__webglFramebuffer,L,_e,t.COLOR_ATTACHMENT0+oe,fe,0),g(_e)&&m(fe)}n.unbindTexture()}else{let oe=t.TEXTURE_2D;if((L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(oe=L.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(oe,$.__webglTexture),xe(oe,P),P.mipmaps&&P.mipmaps.length>0)for(let Te=0;Te<P.mipmaps.length;Te++)Le(X.__webglFramebuffer[Te],L,P,t.COLOR_ATTACHMENT0,oe,Te);else Le(X.__webglFramebuffer,L,P,t.COLOR_ATTACHMENT0,oe,0);g(P)&&m(oe),n.unbindTexture()}L.depthBuffer&&ht(L)}function ot(L){const P=L.textures;for(let X=0,$=P.length;X<$;X++){const J=P[X];if(g(J)){const Z=y(L),Re=i.get(J).__webglTexture;n.bindTexture(Z,Re),m(Z),n.unbindTexture()}}}const De=[],tt=[];function Ce(L){if(L.samples>0){if(ge(L)===!1){const P=L.textures,X=L.width,$=L.height;let J=t.COLOR_BUFFER_BIT;const Z=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Re=i.get(L),oe=P.length>1;if(oe)for(let _e=0;_e<P.length;_e++)n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_e,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+_e,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Re.__webglMultisampledFramebuffer);const Te=L.texture.mipmaps;Te&&Te.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Re.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Re.__webglFramebuffer);for(let _e=0;_e<P.length;_e++){if(L.resolveDepthBuffer&&(L.depthBuffer&&(J|=t.DEPTH_BUFFER_BIT),L.stencilBuffer&&L.resolveStencilBuffer&&(J|=t.STENCIL_BUFFER_BIT)),oe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Re.__webglColorRenderbuffer[_e]);const se=i.get(P[_e]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,se,0)}t.blitFramebuffer(0,0,X,$,0,0,X,$,J,t.NEAREST),l===!0&&(De.length=0,tt.length=0,De.push(t.COLOR_ATTACHMENT0+_e),L.depthBuffer&&L.resolveDepthBuffer===!1&&(De.push(Z),tt.push(Z),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,tt)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,De))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),oe)for(let _e=0;_e<P.length;_e++){n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_e,t.RENDERBUFFER,Re.__webglColorRenderbuffer[_e]);const se=i.get(P[_e]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Re.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+_e,t.TEXTURE_2D,se,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Re.__webglMultisampledFramebuffer)}else if(L.depthBuffer&&L.resolveDepthBuffer===!1&&l){const P=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[P])}}}function ut(L){return Math.min(s.maxSamples,L.samples)}function ge(L){const P=i.get(L);return L.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&P.__useRenderToTexture!==!1}function He(L){const P=o.render.frame;d.get(L)!==P&&(d.set(L,P),L.update())}function St(L,P){const X=L.colorSpace,$=L.format,J=L.type;return L.isCompressedTexture===!0||L.isVideoTexture===!0||X!==kn&&X!==Dr&&(at.getTransfer(X)===yt?($!==Ai||J!==Cs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",X)),P}function be(L){return typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement?(c.width=L.naturalWidth||L.width,c.height=L.naturalHeight||L.height):typeof VideoFrame<"u"&&L instanceof VideoFrame?(c.width=L.displayWidth,c.height=L.displayHeight):(c.width=L.width,c.height=L.height),c}this.allocateTextureUnit=F,this.resetTextureUnits=D,this.setTexture2D=G,this.setTexture2DArray=H,this.setTexture3D=j,this.setTextureCube=N,this.rebindTextures=qe,this.setupRenderTarget=k,this.updateRenderTargetMipmap=ot,this.updateMultisampleRenderTarget=Ce,this.setupDepthRenderbuffer=ht,this.setupFrameBufferTexture=Le,this.useMultisampledRTT=ge}function FW(t,e){function n(i,s=Dr){let r;const o=at.getTransfer(s);if(i===Cs)return t.UNSIGNED_BYTE;if(i===Cy)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Py)return t.UNSIGNED_SHORT_5_5_5_1;if(i===Y2)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===$2)return t.BYTE;if(i===q2)return t.SHORT;if(i===wu)return t.UNSIGNED_SHORT;if(i===Ay)return t.INT;if(i===Qo)return t.UNSIGNED_INT;if(i===Xi)return t.FLOAT;if(i===rr)return t.HALF_FLOAT;if(i===K2)return t.ALPHA;if(i===Z2)return t.RGB;if(i===Ai)return t.RGBA;if(i===Tu)return t.DEPTH_COMPONENT;if(i===Eu)return t.DEPTH_STENCIL;if(i===Ry)return t.RED;if(i===Ny)return t.RED_INTEGER;if(i===Q2)return t.RG;if(i===Iy)return t.RG_INTEGER;if(i===Ly)return t.RGBA_INTEGER;if(i===yh||i===bh||i===_h||i===wh)if(o===yt)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===yh)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===bh)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===_h)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===wh)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===yh)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===bh)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===_h)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===wh)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Hx||i===Gx||i===Wx||i===Xx)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===Hx)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Gx)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Wx)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Xx)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===$x||i===qx||i===Yx)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===$x||i===qx)return o===yt?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===Yx)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Kx||i===Zx||i===Qx||i===Jx||i===e0||i===t0||i===n0||i===i0||i===s0||i===r0||i===o0||i===a0||i===l0||i===c0)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Kx)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Zx)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Qx)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Jx)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===e0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===t0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===n0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===i0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===s0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===r0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===o0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===a0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===l0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===c0)return o===yt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Sh||i===u0||i===d0)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===Sh)return o===yt?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===u0)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===d0)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===J2||i===h0||i===f0||i===p0)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===Sh)return r.COMPRESSED_RED_RGTC1_EXT;if(i===h0)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===f0)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===p0)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Su?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class NP extends tn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const UW=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,BW=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class zW{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new NP(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new hn({vertexShader:UW,fragmentShader:BW,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new En(new Rl(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class VW extends po{constructor(e,n){super();const i=this;let s=null,r=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,f=null,p=null,x=null;const v=new zW,g={},m=n.getContextAttributes();let y=null,b=null;const _=[],w=[],T=new Ae;let A=null;const E=new Tn;E.viewport=new dt;const C=new Tn;C.viewport=new dt;const S=[E,C],R=new qV;let D=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Q){let ce=_[Q];return ce===void 0&&(ce=new Um,_[Q]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(Q){let ce=_[Q];return ce===void 0&&(ce=new Um,_[Q]=ce),ce.getGripSpace()},this.getHand=function(Q){let ce=_[Q];return ce===void 0&&(ce=new Um,_[Q]=ce),ce.getHandSpace()};function O(Q){const ce=w.indexOf(Q.inputSource);if(ce===-1)return;const re=_[ce];re!==void 0&&(re.update(Q.inputSource,Q.frame,c||o),re.dispatchEvent({type:Q.type,data:Q.inputSource}))}function G(){s.removeEventListener("select",O),s.removeEventListener("selectstart",O),s.removeEventListener("selectend",O),s.removeEventListener("squeeze",O),s.removeEventListener("squeezestart",O),s.removeEventListener("squeezeend",O),s.removeEventListener("end",G),s.removeEventListener("inputsourceschange",H);for(let Q=0;Q<_.length;Q++){const ce=w[Q];ce!==null&&(w[Q]=null,_[Q].disconnect(ce))}D=null,F=null,v.reset();for(const Q in g)delete g[Q];e.setRenderTarget(y),p=null,f=null,h=null,s=null,b=null,We.stop(),i.isPresenting=!1,e.setPixelRatio(A),e.setSize(T.width,T.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Q){r=Q,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Q){a=Q,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Q){c=Q},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return h},this.getFrame=function(){return x},this.getSession=function(){return s},this.setSession=async function(Q){if(s=Q,s!==null){if(y=e.getRenderTarget(),s.addEventListener("select",O),s.addEventListener("selectstart",O),s.addEventListener("selectend",O),s.addEventListener("squeeze",O),s.addEventListener("squeezestart",O),s.addEventListener("squeezeend",O),s.addEventListener("end",G),s.addEventListener("inputsourceschange",H),m.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(T),typeof XRWebGLBinding<"u"&&(h=new XRWebGLBinding(s,n)),h!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let re=null,Le=null,ye=null;m.depth&&(ye=m.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,re=m.stencil?Eu:Tu,Le=m.stencil?Su:Qo);const Pe={colorFormat:n.RGBA8,depthFormat:ye,scaleFactor:r};f=h.createProjectionLayer(Pe),s.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new Zi(f.textureWidth,f.textureHeight,{format:Ai,type:Cs,depthTexture:new yP(f.textureWidth,f.textureHeight,Le,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const re={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:r};p=new XRWebGLLayer(s,n,re),s.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),b=new Zi(p.framebufferWidth,p.framebufferHeight,{format:Ai,type:Cs,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await s.requestReferenceSpace(a),We.setContext(s),We.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function H(Q){for(let ce=0;ce<Q.removed.length;ce++){const re=Q.removed[ce],Le=w.indexOf(re);Le>=0&&(w[Le]=null,_[Le].disconnect(re))}for(let ce=0;ce<Q.added.length;ce++){const re=Q.added[ce];let Le=w.indexOf(re);if(Le===-1){for(let Pe=0;Pe<_.length;Pe++)if(Pe>=w.length){w.push(re),Le=Pe;break}else if(w[Pe]===null){w[Pe]=re,Le=Pe;break}if(Le===-1)break}const ye=_[Le];ye&&ye.connect(re)}}const j=new U,N=new U;function B(Q,ce,re){j.setFromMatrixPosition(ce.matrixWorld),N.setFromMatrixPosition(re.matrixWorld);const Le=j.distanceTo(N),ye=ce.projectionMatrix.elements,Pe=re.projectionMatrix.elements,ht=ye[14]/(ye[10]-1),qe=ye[14]/(ye[10]+1),k=(ye[9]+1)/ye[5],ot=(ye[9]-1)/ye[5],De=(ye[8]-1)/ye[0],tt=(Pe[8]+1)/Pe[0],Ce=ht*De,ut=ht*tt,ge=Le/(-De+tt),He=ge*-De;if(ce.matrixWorld.decompose(Q.position,Q.quaternion,Q.scale),Q.translateX(He),Q.translateZ(ge),Q.matrixWorld.compose(Q.position,Q.quaternion,Q.scale),Q.matrixWorldInverse.copy(Q.matrixWorld).invert(),ye[10]===-1)Q.projectionMatrix.copy(ce.projectionMatrix),Q.projectionMatrixInverse.copy(ce.projectionMatrixInverse);else{const St=ht+ge,be=qe+ge,L=Ce-He,P=ut+(Le-He),X=k*qe/be*St,$=ot*qe/be*St;Q.projectionMatrix.makePerspective(L,P,X,$,St,be),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert()}}function q(Q,ce){ce===null?Q.matrixWorld.copy(Q.matrix):Q.matrixWorld.multiplyMatrices(ce.matrixWorld,Q.matrix),Q.matrixWorldInverse.copy(Q.matrixWorld).invert()}this.updateCamera=function(Q){if(s===null)return;let ce=Q.near,re=Q.far;v.texture!==null&&(v.depthNear>0&&(ce=v.depthNear),v.depthFar>0&&(re=v.depthFar)),R.near=C.near=E.near=ce,R.far=C.far=E.far=re,(D!==R.near||F!==R.far)&&(s.updateRenderState({depthNear:R.near,depthFar:R.far}),D=R.near,F=R.far),R.layers.mask=Q.layers.mask|6,E.layers.mask=R.layers.mask&3,C.layers.mask=R.layers.mask&5;const Le=Q.parent,ye=R.cameras;q(R,Le);for(let Pe=0;Pe<ye.length;Pe++)q(ye[Pe],Le);ye.length===2?B(R,E,C):R.projectionMatrix.copy(E.projectionMatrix),ee(Q,R,Le)};function ee(Q,ce,re){re===null?Q.matrix.copy(ce.matrixWorld):(Q.matrix.copy(re.matrixWorld),Q.matrix.invert(),Q.matrix.multiply(ce.matrixWorld)),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.updateMatrixWorld(!0),Q.projectionMatrix.copy(ce.projectionMatrix),Q.projectionMatrixInverse.copy(ce.projectionMatrixInverse),Q.isPerspectiveCamera&&(Q.fov=Cl*2*Math.atan(1/Q.projectionMatrix.elements[5]),Q.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(f===null&&p===null))return l},this.setFoveation=function(Q){l=Q,f!==null&&(f.fixedFoveation=Q),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=Q)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(R)},this.getCameraTexture=function(Q){return g[Q]};let xe=null;function Be(Q,ce){if(d=ce.getViewerPose(c||o),x=ce,d!==null){const re=d.views;p!==null&&(e.setRenderTargetFramebuffer(b,p.framebuffer),e.setRenderTarget(b));let Le=!1;re.length!==R.cameras.length&&(R.cameras.length=0,Le=!0);for(let qe=0;qe<re.length;qe++){const k=re[qe];let ot=null;if(p!==null)ot=p.getViewport(k);else{const tt=h.getViewSubImage(f,k);ot=tt.viewport,qe===0&&(e.setRenderTargetTextures(b,tt.colorTexture,tt.depthStencilTexture),e.setRenderTarget(b))}let De=S[qe];De===void 0&&(De=new Tn,De.layers.enable(qe),De.viewport=new dt,S[qe]=De),De.matrix.fromArray(k.transform.matrix),De.matrix.decompose(De.position,De.quaternion,De.scale),De.projectionMatrix.fromArray(k.projectionMatrix),De.projectionMatrixInverse.copy(De.projectionMatrix).invert(),De.viewport.set(ot.x,ot.y,ot.width,ot.height),qe===0&&(R.matrix.copy(De.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),Le===!0&&R.cameras.push(De)}const ye=s.enabledFeatures;if(ye&&ye.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&h){const qe=h.getDepthInformation(re[0]);qe&&qe.isValid&&qe.texture&&v.init(qe,s.renderState)}if(ye&&ye.includes("camera-access")&&(e.state.unbindTexture(),h))for(let qe=0;qe<re.length;qe++){const k=re[qe].camera;if(k){let ot=g[k];ot||(ot=new NP,g[k]=ot);const De=h.getCameraImage(k);ot.sourceTexture=De}}}for(let re=0;re<_.length;re++){const Le=w[re],ye=_[re];Le!==null&&ye!==void 0&&ye.update(Le,ce,c||o)}xe&&xe(Q,ce),ce.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ce}),x=null}const We=new MP;We.setAnimationLoop(Be),this.setAnimationLoop=function(Q){xe=Q},this.dispose=function(){}}}const So=new Ps,HW=new Ze;function GW(t,e){function n(g,m){g.matrixAutoUpdate===!0&&g.updateMatrix(),m.value.copy(g.matrix)}function i(g,m){m.color.getRGB(g.fogColor.value,uP(t)),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)}function s(g,m,y,b,_){m.isMeshBasicMaterial||m.isMeshLambertMaterial?r(g,m):m.isMeshToonMaterial?(r(g,m),h(g,m)):m.isMeshPhongMaterial?(r(g,m),d(g,m)):m.isMeshStandardMaterial?(r(g,m),f(g,m),m.isMeshPhysicalMaterial&&p(g,m,_)):m.isMeshMatcapMaterial?(r(g,m),x(g,m)):m.isMeshDepthMaterial?r(g,m):m.isMeshDistanceMaterial?(r(g,m),v(g,m)):m.isMeshNormalMaterial?r(g,m):m.isLineBasicMaterial?(o(g,m),m.isLineDashedMaterial&&a(g,m)):m.isPointsMaterial?l(g,m,y,b):m.isSpriteMaterial?c(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function r(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map,n(m.map,g.mapTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,n(m.alphaMap,g.alphaMapTransform)),m.bumpMap&&(g.bumpMap.value=m.bumpMap,n(m.bumpMap,g.bumpMapTransform),g.bumpScale.value=m.bumpScale,m.side===$n&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,n(m.normalMap,g.normalMapTransform),g.normalScale.value.copy(m.normalScale),m.side===$n&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,n(m.displacementMap,g.displacementMapTransform),g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,g.emissiveMapTransform)),m.specularMap&&(g.specularMap.value=m.specularMap,n(m.specularMap,g.specularMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest);const y=e.get(m),b=y.envMap,_=y.envMapRotation;b&&(g.envMap.value=b,So.copy(_),So.x*=-1,So.y*=-1,So.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(So.y*=-1,So.z*=-1),g.envMapRotation.value.setFromMatrix4(HW.makeRotationFromEuler(So)),g.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=m.reflectivity,g.ior.value=m.ior,g.refractionRatio.value=m.refractionRatio),m.lightMap&&(g.lightMap.value=m.lightMap,g.lightMapIntensity.value=m.lightMapIntensity,n(m.lightMap,g.lightMapTransform)),m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,g.aoMapTransform))}function o(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,m.map&&(g.map.value=m.map,n(m.map,g.mapTransform))}function a(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}function l(g,m,y,b){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*y,g.scale.value=b*.5,m.map&&(g.map.value=m.map,n(m.map,g.uvTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,n(m.alphaMap,g.alphaMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest)}function c(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map,n(m.map,g.mapTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,n(m.alphaMap,g.alphaMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest)}function d(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4)}function h(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap)}function f(g,m){g.metalness.value=m.metalness,m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,g.metalnessMapTransform)),g.roughness.value=m.roughness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,g.roughnessMapTransform)),m.envMap&&(g.envMapIntensity.value=m.envMapIntensity)}function p(g,m,y){g.ior.value=m.ior,m.sheen>0&&(g.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),g.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(g.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,g.sheenColorMapTransform)),m.sheenRoughnessMap&&(g.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,g.sheenRoughnessMapTransform))),m.clearcoat>0&&(g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,g.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(g.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===$n&&g.clearcoatNormalScale.value.negate())),m.dispersion>0&&(g.dispersion.value=m.dispersion),m.iridescence>0&&(g.iridescence.value=m.iridescence,g.iridescenceIOR.value=m.iridescenceIOR,g.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(g.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,g.iridescenceMapTransform)),m.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),m.transmission>0&&(g.transmission.value=m.transmission,g.transmissionSamplerMap.value=y.texture,g.transmissionSamplerSize.value.set(y.width,y.height),m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,g.transmissionMapTransform)),g.thickness.value=m.thickness,m.thicknessMap&&(g.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=m.attenuationDistance,g.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(g.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(g.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=m.specularIntensity,g.specularColor.value.copy(m.specularColor),m.specularColorMap&&(g.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,g.specularColorMapTransform)),m.specularIntensityMap&&(g.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,g.specularIntensityMapTransform))}function x(g,m){m.matcap&&(g.matcap.value=m.matcap)}function v(g,m){const y=e.get(m).light;g.referencePosition.value.setFromMatrixPosition(y.matrixWorld),g.nearDistance.value=y.shadow.camera.near,g.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function WW(t,e,n,i){let s={},r={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,b){const _=b.program;i.uniformBlockBinding(y,_)}function c(y,b){let _=s[y.id];_===void 0&&(x(y),_=d(y),s[y.id]=_,y.addEventListener("dispose",g));const w=b.program;i.updateUBOMapping(y,w);const T=e.render.frame;r[y.id]!==T&&(f(y),r[y.id]=T)}function d(y){const b=h();y.__bindingPointIndex=b;const _=t.createBuffer(),w=y.__size,T=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,_),t.bufferData(t.UNIFORM_BUFFER,w,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,_),_}function h(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=s[y.id],_=y.uniforms,w=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let T=0,A=_.length;T<A;T++){const E=Array.isArray(_[T])?_[T]:[_[T]];for(let C=0,S=E.length;C<S;C++){const R=E[C];if(p(R,T,C,w)===!0){const D=R.__offset,F=Array.isArray(R.value)?R.value:[R.value];let O=0;for(let G=0;G<F.length;G++){const H=F[G],j=v(H);typeof H=="number"||typeof H=="boolean"?(R.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,D+O,R.__data)):H.isMatrix3?(R.__data[0]=H.elements[0],R.__data[1]=H.elements[1],R.__data[2]=H.elements[2],R.__data[3]=0,R.__data[4]=H.elements[3],R.__data[5]=H.elements[4],R.__data[6]=H.elements[5],R.__data[7]=0,R.__data[8]=H.elements[6],R.__data[9]=H.elements[7],R.__data[10]=H.elements[8],R.__data[11]=0):(H.toArray(R.__data,O),O+=j.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,D,R.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(y,b,_,w){const T=y.value,A=b+"_"+_;if(w[A]===void 0)return typeof T=="number"||typeof T=="boolean"?w[A]=T:w[A]=T.clone(),!0;{const E=w[A];if(typeof T=="number"||typeof T=="boolean"){if(E!==T)return w[A]=T,!0}else if(E.equals(T)===!1)return E.copy(T),!0}return!1}function x(y){const b=y.uniforms;let _=0;const w=16;for(let A=0,E=b.length;A<E;A++){const C=Array.isArray(b[A])?b[A]:[b[A]];for(let S=0,R=C.length;S<R;S++){const D=C[S],F=Array.isArray(D.value)?D.value:[D.value];for(let O=0,G=F.length;O<G;O++){const H=F[O],j=v(H),N=_%w,B=N%j.boundary,q=N+B;_+=B,q!==0&&w-q<j.storage&&(_+=w-q),D.__data=new Float32Array(j.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=_,_+=j.storage}}}const T=_%w;return T>0&&(_+=w-T),y.__size=_,y.__cache={},this}function v(y){const b={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(b.boundary=4,b.storage=4):y.isVector2?(b.boundary=8,b.storage=8):y.isVector3||y.isColor?(b.boundary=16,b.storage=12):y.isVector4?(b.boundary=16,b.storage=16):y.isMatrix3?(b.boundary=48,b.storage=48):y.isMatrix4?(b.boundary=64,b.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),b}function g(y){const b=y.target;b.removeEventListener("dispose",g);const _=o.indexOf(b.__bindingPointIndex);o.splice(_,1),t.deleteBuffer(s[b.id]),delete s[b.id],delete r[b.id]}function m(){for(const y in s)t.deleteBuffer(s[y]);o=[],s={},r={}}return{bind:l,update:c,dispose:m}}class IP{constructor(e={}){const{canvas:n=Wz(),context:i=null,depth:s=!0,stencil:r=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1,reversedDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const x=new Uint32Array(4),v=new Int32Array(4);let g=null,m=null;const y=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=to,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const _=this;let w=!1;this._outputColorSpace=an;let T=0,A=0,E=null,C=-1,S=null;const R=new dt,D=new dt;let F=null;const O=new Oe(0);let G=0,H=n.width,j=n.height,N=1,B=null,q=null;const ee=new dt(0,0,H,j),xe=new dt(0,0,H,j);let Be=!1;const We=new By;let Q=!1,ce=!1;const re=new Ze,Le=new U,ye=new dt,Pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ht=!1;function qe(){return E===null?N:1}let k=i;function ot(I,V){return n.getContext(I,V)}try{const I={alpha:!0,depth:s,stencil:r,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Ey}`),n.addEventListener("webglcontextlost",de,!1),n.addEventListener("webglcontextrestored",we,!1),n.addEventListener("webglcontextcreationerror",ie,!1),k===null){const V="webgl2";if(k=ot(V,I),k===null)throw ot(V)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}let De,tt,Ce,ut,ge,He,St,be,L,P,X,$,J,Z,Re,oe,Te,_e,se,fe,je,Me,pe,Ge;function z(){De=new nG(k),De.init(),Me=new FW(k,De),tt=new Y8(k,De,e,Me),Ce=new OW(k,De),tt.reversedDepthBuffer&&f&&Ce.buffers.depth.setReversed(!0),ut=new rG(k),ge=new SW,He=new jW(k,De,Ce,ge,tt,Me,ut),St=new Z8(_),be=new tG(_),L=new d6(k),pe=new $8(k,L),P=new iG(k,L,ut,pe),X=new aG(k,P,L,ut),se=new oG(k,tt,He),oe=new K8(ge),$=new wW(_,St,be,De,tt,pe,oe),J=new GW(_,ge),Z=new EW,Re=new NW(De),_e=new X8(_,St,be,Ce,X,p,l),Te=new DW(_,X,tt),Ge=new WW(k,ut,tt,Ce),fe=new q8(k,De,ut),je=new sG(k,De,ut),ut.programs=$.programs,_.capabilities=tt,_.extensions=De,_.properties=ge,_.renderLists=Z,_.shadowMap=Te,_.state=Ce,_.info=ut}z();const ae=new VW(_,k);this.xr=ae,this.getContext=function(){return k},this.getContextAttributes=function(){return k.getContextAttributes()},this.forceContextLoss=function(){const I=De.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=De.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(I){I!==void 0&&(N=I,this.setSize(H,j,!1))},this.getSize=function(I){return I.set(H,j)},this.setSize=function(I,V,Y=!0){if(ae.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=I,j=V,n.width=Math.floor(I*N),n.height=Math.floor(V*N),Y===!0&&(n.style.width=I+"px",n.style.height=V+"px"),this.setViewport(0,0,I,V)},this.getDrawingBufferSize=function(I){return I.set(H*N,j*N).floor()},this.setDrawingBufferSize=function(I,V,Y){H=I,j=V,N=Y,n.width=Math.floor(I*Y),n.height=Math.floor(V*Y),this.setViewport(0,0,I,V)},this.getCurrentViewport=function(I){return I.copy(R)},this.getViewport=function(I){return I.copy(ee)},this.setViewport=function(I,V,Y,K){I.isVector4?ee.set(I.x,I.y,I.z,I.w):ee.set(I,V,Y,K),Ce.viewport(R.copy(ee).multiplyScalar(N).round())},this.getScissor=function(I){return I.copy(xe)},this.setScissor=function(I,V,Y,K){I.isVector4?xe.set(I.x,I.y,I.z,I.w):xe.set(I,V,Y,K),Ce.scissor(D.copy(xe).multiplyScalar(N).round())},this.getScissorTest=function(){return Be},this.setScissorTest=function(I){Ce.setScissorTest(Be=I)},this.setOpaqueSort=function(I){B=I},this.setTransparentSort=function(I){q=I},this.getClearColor=function(I){return I.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor(...arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha(...arguments)},this.clear=function(I=!0,V=!0,Y=!0){let K=0;if(I){let W=!1;if(E!==null){const ue=E.texture.format;W=ue===Ly||ue===Iy||ue===Ny}if(W){const ue=E.texture.type,ve=ue===Cs||ue===Qo||ue===wu||ue===Su||ue===Cy||ue===Py,Ne=_e.getClearColor(),Ee=_e.getClearAlpha(),ze=Ne.r,Ve=Ne.g,ke=Ne.b;ve?(x[0]=ze,x[1]=Ve,x[2]=ke,x[3]=Ee,k.clearBufferuiv(k.COLOR,0,x)):(v[0]=ze,v[1]=Ve,v[2]=ke,v[3]=Ee,k.clearBufferiv(k.COLOR,0,v))}else K|=k.COLOR_BUFFER_BIT}V&&(K|=k.DEPTH_BUFFER_BIT),Y&&(K|=k.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),k.clear(K)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",de,!1),n.removeEventListener("webglcontextrestored",we,!1),n.removeEventListener("webglcontextcreationerror",ie,!1),_e.dispose(),Z.dispose(),Re.dispose(),ge.dispose(),St.dispose(),be.dispose(),X.dispose(),pe.dispose(),Ge.dispose(),$.dispose(),ae.dispose(),ae.removeEventListener("sessionstart",rs),ae.removeEventListener("sessionend",qy),mo.stop()};function de(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const I=ut.autoReset,V=Te.enabled,Y=Te.autoUpdate,K=Te.needsUpdate,W=Te.type;z(),ut.autoReset=I,Te.enabled=V,Te.autoUpdate=Y,Te.needsUpdate=K,Te.type=W}function ie(I){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function te(I){const V=I.target;V.removeEventListener("dispose",te),Ie(V)}function Ie(I){Xe(I),ge.remove(I)}function Xe(I){const V=ge.get(I).programs;V!==void 0&&(V.forEach(function(Y){$.releaseProgram(Y)}),I.isShaderMaterial&&$.releaseShaderCache(I))}this.renderBufferDirect=function(I,V,Y,K,W,ue){V===null&&(V=Pe);const ve=W.isMesh&&W.matrixWorld.determinant()<0,Ne=BP(I,V,Y,K,W);Ce.setMaterial(K,ve);let Ee=Y.index,ze=1;if(K.wireframe===!0){if(Ee=P.getWireframeAttribute(Y),Ee===void 0)return;ze=2}const Ve=Y.drawRange,ke=Y.attributes.position;let st=Ve.start*ze,vt=(Ve.start+Ve.count)*ze;ue!==null&&(st=Math.max(st,ue.start*ze),vt=Math.min(vt,(ue.start+ue.count)*ze)),Ee!==null?(st=Math.max(st,0),vt=Math.min(vt,Ee.count)):ke!=null&&(st=Math.max(st,0),vt=Math.min(vt,ke.count));const Ft=vt-st;if(Ft<0||Ft===1/0)return;pe.setup(W,K,Ne,Y,Ee);let Mt,_t=fe;if(Ee!==null&&(Mt=L.get(Ee),_t=je,_t.setIndex(Mt)),W.isMesh)K.wireframe===!0?(Ce.setLineWidth(K.wireframeLinewidth*qe()),_t.setMode(k.LINES)):_t.setMode(k.TRIANGLES);else if(W.isLine){let Fe=K.linewidth;Fe===void 0&&(Fe=1),Ce.setLineWidth(Fe*qe()),W.isLineSegments?_t.setMode(k.LINES):W.isLineLoop?_t.setMode(k.LINE_LOOP):_t.setMode(k.LINE_STRIP)}else W.isPoints?_t.setMode(k.POINTS):W.isSprite&&_t.setMode(k.TRIANGLES);if(W.isBatchedMesh)if(W._multiDrawInstances!==null)Ja("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),_t.renderMultiDrawInstances(W._multiDrawStarts,W._multiDrawCounts,W._multiDrawCount,W._multiDrawInstances);else if(De.get("WEBGL_multi_draw"))_t.renderMultiDraw(W._multiDrawStarts,W._multiDrawCounts,W._multiDrawCount);else{const Fe=W._multiDrawStarts,It=W._multiDrawCounts,ct=W._multiDrawCount,Zn=Ee?L.get(Ee).bytesPerElement:1,ia=ge.get(K).currentProgram.getUniforms();for(let Qn=0;Qn<ct;Qn++)ia.setValue(k,"_gl_DrawID",Qn),_t.render(Fe[Qn]/Zn,It[Qn])}else if(W.isInstancedMesh)_t.renderInstances(st,Ft,W.count);else if(Y.isInstancedBufferGeometry){const Fe=Y._maxInstanceCount!==void 0?Y._maxInstanceCount:1/0,It=Math.min(Y.instanceCount,Fe);_t.renderInstances(st,Ft,It)}else _t.render(st,Ft)};function Tt(I,V,Y){I.transparent===!0&&I.side===ps&&I.forceSinglePass===!1?(I.side=$n,I.needsUpdate=!0,$u(I,V,Y),I.side=pr,I.needsUpdate=!0,$u(I,V,Y),I.side=ps):$u(I,V,Y)}this.compile=function(I,V,Y=null){Y===null&&(Y=I),m=Re.get(Y),m.init(V),b.push(m),Y.traverseVisible(function(W){W.isLight&&W.layers.test(V.layers)&&(m.pushLight(W),W.castShadow&&m.pushShadow(W))}),I!==Y&&I.traverseVisible(function(W){W.isLight&&W.layers.test(V.layers)&&(m.pushLight(W),W.castShadow&&m.pushShadow(W))}),m.setupLights();const K=new Set;return I.traverse(function(W){if(!(W.isMesh||W.isPoints||W.isLine||W.isSprite))return;const ue=W.material;if(ue)if(Array.isArray(ue))for(let ve=0;ve<ue.length;ve++){const Ne=ue[ve];Tt(Ne,Y,W),K.add(Ne)}else Tt(ue,Y,W),K.add(ue)}),m=b.pop(),K},this.compileAsync=function(I,V,Y=null){const K=this.compile(I,V,Y);return new Promise(W=>{function ue(){if(K.forEach(function(ve){ge.get(ve).currentProgram.isReady()&&K.delete(ve)}),K.size===0){W(I);return}setTimeout(ue,10)}De.get("KHR_parallel_shader_compile")!==null?ue():setTimeout(ue,10)})};let ft=null;function Ds(I){ft&&ft(I)}function rs(){mo.stop()}function qy(){mo.start()}const mo=new MP;mo.setAnimationLoop(Ds),typeof self<"u"&&mo.setContext(self),this.setAnimationLoop=function(I){ft=I,ae.setAnimationLoop(I),I===null?mo.stop():mo.start()},ae.addEventListener("sessionstart",rs),ae.addEventListener("sessionend",qy),this.render=function(I,V){if(V!==void 0&&V.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;if(I.matrixWorldAutoUpdate===!0&&I.updateMatrixWorld(),V.parent===null&&V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),ae.enabled===!0&&ae.isPresenting===!0&&(ae.cameraAutoUpdate===!0&&ae.updateCamera(V),V=ae.getCamera()),I.isScene===!0&&I.onBeforeRender(_,I,V,E),m=Re.get(I,b.length),m.init(V),b.push(m),re.multiplyMatrices(V.projectionMatrix,V.matrixWorldInverse),We.setFromProjectionMatrix(re,vs,V.reversedDepth),ce=this.localClippingEnabled,Q=oe.init(this.clippingPlanes,ce),g=Z.get(I,y.length),g.init(),y.push(g),ae.enabled===!0&&ae.isPresenting===!0){const ue=_.xr.getDepthSensingMesh();ue!==null&&up(ue,V,-1/0,_.sortObjects)}up(I,V,0,_.sortObjects),g.finish(),_.sortObjects===!0&&g.sort(B,q),ht=ae.enabled===!1||ae.isPresenting===!1||ae.hasDepthSensing()===!1,ht&&_e.addToRenderList(g,I),this.info.render.frame++,Q===!0&&oe.beginShadows();const Y=m.state.shadowsArray;Te.render(Y,I,V),Q===!0&&oe.endShadows(),this.info.autoReset===!0&&this.info.reset();const K=g.opaque,W=g.transmissive;if(m.setupLights(),V.isArrayCamera){const ue=V.cameras;if(W.length>0)for(let ve=0,Ne=ue.length;ve<Ne;ve++){const Ee=ue[ve];Ky(K,W,I,Ee)}ht&&_e.render(I);for(let ve=0,Ne=ue.length;ve<Ne;ve++){const Ee=ue[ve];Yy(g,I,Ee,Ee.viewport)}}else W.length>0&&Ky(K,W,I,V),ht&&_e.render(I),Yy(g,I,V);E!==null&&A===0&&(He.updateMultisampleRenderTarget(E),He.updateRenderTargetMipmap(E)),I.isScene===!0&&I.onAfterRender(_,I,V),pe.resetDefaultState(),C=-1,S=null,b.pop(),b.length>0?(m=b[b.length-1],Q===!0&&oe.setGlobalState(_.clippingPlanes,m.state.camera)):m=null,y.pop(),y.length>0?g=y[y.length-1]:g=null};function up(I,V,Y,K){if(I.visible===!1)return;if(I.layers.test(V.layers)){if(I.isGroup)Y=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(V);else if(I.isLight)m.pushLight(I),I.castShadow&&m.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||We.intersectsSprite(I)){K&&ye.setFromMatrixPosition(I.matrixWorld).applyMatrix4(re);const ve=X.update(I),Ne=I.material;Ne.visible&&g.push(I,ve,Ne,Y,ye.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(!I.frustumCulled||We.intersectsObject(I))){const ve=X.update(I),Ne=I.material;if(K&&(I.boundingSphere!==void 0?(I.boundingSphere===null&&I.computeBoundingSphere(),ye.copy(I.boundingSphere.center)):(ve.boundingSphere===null&&ve.computeBoundingSphere(),ye.copy(ve.boundingSphere.center)),ye.applyMatrix4(I.matrixWorld).applyMatrix4(re)),Array.isArray(Ne)){const Ee=ve.groups;for(let ze=0,Ve=Ee.length;ze<Ve;ze++){const ke=Ee[ze],st=Ne[ke.materialIndex];st&&st.visible&&g.push(I,ve,st,Y,ye.z,ke)}}else Ne.visible&&g.push(I,ve,Ne,Y,ye.z,null)}}const ue=I.children;for(let ve=0,Ne=ue.length;ve<Ne;ve++)up(ue[ve],V,Y,K)}function Yy(I,V,Y,K){const W=I.opaque,ue=I.transmissive,ve=I.transparent;m.setupLightsView(Y),Q===!0&&oe.setGlobalState(_.clippingPlanes,Y),K&&Ce.viewport(R.copy(K)),W.length>0&&Xu(W,V,Y),ue.length>0&&Xu(ue,V,Y),ve.length>0&&Xu(ve,V,Y),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function Ky(I,V,Y,K){if((Y.isScene===!0?Y.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[K.id]===void 0&&(m.state.transmissionRenderTarget[K.id]=new Zi(1,1,{generateMipmaps:!0,type:De.has("EXT_color_buffer_half_float")||De.has("EXT_color_buffer_float")?rr:Cs,minFilter:xs,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:at.workingColorSpace}));const ue=m.state.transmissionRenderTarget[K.id],ve=K.viewport||R;ue.setSize(ve.z*_.transmissionResolutionScale,ve.w*_.transmissionResolutionScale);const Ne=_.getRenderTarget(),Ee=_.getActiveCubeFace(),ze=_.getActiveMipmapLevel();_.setRenderTarget(ue),_.getClearColor(O),G=_.getClearAlpha(),G<1&&_.setClearColor(16777215,.5),_.clear(),ht&&_e.render(Y);const Ve=_.toneMapping;_.toneMapping=to;const ke=K.viewport;if(K.viewport!==void 0&&(K.viewport=void 0),m.setupLightsView(K),Q===!0&&oe.setGlobalState(_.clippingPlanes,K),Xu(I,Y,K),He.updateMultisampleRenderTarget(ue),He.updateRenderTargetMipmap(ue),De.has("WEBGL_multisampled_render_to_texture")===!1){let st=!1;for(let vt=0,Ft=V.length;vt<Ft;vt++){const Mt=V[vt],_t=Mt.object,Fe=Mt.geometry,It=Mt.material,ct=Mt.group;if(It.side===ps&&_t.layers.test(K.layers)){const Zn=It.side;It.side=$n,It.needsUpdate=!0,Zy(_t,Y,K,Fe,It,ct),It.side=Zn,It.needsUpdate=!0,st=!0}}st===!0&&(He.updateMultisampleRenderTarget(ue),He.updateRenderTargetMipmap(ue))}_.setRenderTarget(Ne,Ee,ze),_.setClearColor(O,G),ke!==void 0&&(K.viewport=ke),_.toneMapping=Ve}function Xu(I,V,Y){const K=V.isScene===!0?V.overrideMaterial:null;for(let W=0,ue=I.length;W<ue;W++){const ve=I[W],Ne=ve.object,Ee=ve.geometry,ze=ve.group;let Ve=ve.material;Ve.allowOverride===!0&&K!==null&&(Ve=K),Ne.layers.test(Y.layers)&&Zy(Ne,V,Y,Ee,Ve,ze)}}function Zy(I,V,Y,K,W,ue){I.onBeforeRender(_,V,Y,K,W,ue),I.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),W.onBeforeRender(_,V,Y,K,I,ue),W.transparent===!0&&W.side===ps&&W.forceSinglePass===!1?(W.side=$n,W.needsUpdate=!0,_.renderBufferDirect(Y,V,K,W,I,ue),W.side=pr,W.needsUpdate=!0,_.renderBufferDirect(Y,V,K,W,I,ue),W.side=ps):_.renderBufferDirect(Y,V,K,W,I,ue),I.onAfterRender(_,V,Y,K,W,ue)}function $u(I,V,Y){V.isScene!==!0&&(V=Pe);const K=ge.get(I),W=m.state.lights,ue=m.state.shadowsArray,ve=W.state.version,Ne=$.getParameters(I,W.state,ue,V,Y),Ee=$.getProgramCacheKey(Ne);let ze=K.programs;K.environment=I.isMeshStandardMaterial?V.environment:null,K.fog=V.fog,K.envMap=(I.isMeshStandardMaterial?be:St).get(I.envMap||K.environment),K.envMapRotation=K.environment!==null&&I.envMap===null?V.environmentRotation:I.envMapRotation,ze===void 0&&(I.addEventListener("dispose",te),ze=new Map,K.programs=ze);let Ve=ze.get(Ee);if(Ve!==void 0){if(K.currentProgram===Ve&&K.lightsStateVersion===ve)return Jy(I,Ne),Ve}else Ne.uniforms=$.getUniforms(I),I.onBeforeCompile(Ne,_),Ve=$.acquireProgram(Ne,Ee),ze.set(Ee,Ve),K.uniforms=Ne.uniforms;const ke=K.uniforms;return(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(ke.clippingPlanes=oe.uniform),Jy(I,Ne),K.needsLights=VP(I),K.lightsStateVersion=ve,K.needsLights&&(ke.ambientLightColor.value=W.state.ambient,ke.lightProbe.value=W.state.probe,ke.directionalLights.value=W.state.directional,ke.directionalLightShadows.value=W.state.directionalShadow,ke.spotLights.value=W.state.spot,ke.spotLightShadows.value=W.state.spotShadow,ke.rectAreaLights.value=W.state.rectArea,ke.ltc_1.value=W.state.rectAreaLTC1,ke.ltc_2.value=W.state.rectAreaLTC2,ke.pointLights.value=W.state.point,ke.pointLightShadows.value=W.state.pointShadow,ke.hemisphereLights.value=W.state.hemi,ke.directionalShadowMap.value=W.state.directionalShadowMap,ke.directionalShadowMatrix.value=W.state.directionalShadowMatrix,ke.spotShadowMap.value=W.state.spotShadowMap,ke.spotLightMatrix.value=W.state.spotLightMatrix,ke.spotLightMap.value=W.state.spotLightMap,ke.pointShadowMap.value=W.state.pointShadowMap,ke.pointShadowMatrix.value=W.state.pointShadowMatrix),K.currentProgram=Ve,K.uniformsList=null,Ve}function Qy(I){if(I.uniformsList===null){const V=I.currentProgram.getUniforms();I.uniformsList=Th.seqWithValue(V.seq,I.uniforms)}return I.uniformsList}function Jy(I,V){const Y=ge.get(I);Y.outputColorSpace=V.outputColorSpace,Y.batching=V.batching,Y.batchingColor=V.batchingColor,Y.instancing=V.instancing,Y.instancingColor=V.instancingColor,Y.instancingMorph=V.instancingMorph,Y.skinning=V.skinning,Y.morphTargets=V.morphTargets,Y.morphNormals=V.morphNormals,Y.morphColors=V.morphColors,Y.morphTargetsCount=V.morphTargetsCount,Y.numClippingPlanes=V.numClippingPlanes,Y.numIntersection=V.numClipIntersection,Y.vertexAlphas=V.vertexAlphas,Y.vertexTangents=V.vertexTangents,Y.toneMapping=V.toneMapping}function BP(I,V,Y,K,W){V.isScene!==!0&&(V=Pe),He.resetTextureUnits();const ue=V.fog,ve=K.isMeshStandardMaterial?V.environment:null,Ne=E===null?_.outputColorSpace:E.isXRRenderTarget===!0?E.texture.colorSpace:kn,Ee=(K.isMeshStandardMaterial?be:St).get(K.envMap||ve),ze=K.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,Ve=!!Y.attributes.tangent&&(!!K.normalMap||K.anisotropy>0),ke=!!Y.morphAttributes.position,st=!!Y.morphAttributes.normal,vt=!!Y.morphAttributes.color;let Ft=to;K.toneMapped&&(E===null||E.isXRRenderTarget===!0)&&(Ft=_.toneMapping);const Mt=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,_t=Mt!==void 0?Mt.length:0,Fe=ge.get(K),It=m.state.lights;if(Q===!0&&(ce===!0||I!==S)){const An=I===S&&K.id===C;oe.setState(K,I,An)}let ct=!1;K.version===Fe.__version?(Fe.needsLights&&Fe.lightsStateVersion!==It.state.version||Fe.outputColorSpace!==Ne||W.isBatchedMesh&&Fe.batching===!1||!W.isBatchedMesh&&Fe.batching===!0||W.isBatchedMesh&&Fe.batchingColor===!0&&W.colorTexture===null||W.isBatchedMesh&&Fe.batchingColor===!1&&W.colorTexture!==null||W.isInstancedMesh&&Fe.instancing===!1||!W.isInstancedMesh&&Fe.instancing===!0||W.isSkinnedMesh&&Fe.skinning===!1||!W.isSkinnedMesh&&Fe.skinning===!0||W.isInstancedMesh&&Fe.instancingColor===!0&&W.instanceColor===null||W.isInstancedMesh&&Fe.instancingColor===!1&&W.instanceColor!==null||W.isInstancedMesh&&Fe.instancingMorph===!0&&W.morphTexture===null||W.isInstancedMesh&&Fe.instancingMorph===!1&&W.morphTexture!==null||Fe.envMap!==Ee||K.fog===!0&&Fe.fog!==ue||Fe.numClippingPlanes!==void 0&&(Fe.numClippingPlanes!==oe.numPlanes||Fe.numIntersection!==oe.numIntersection)||Fe.vertexAlphas!==ze||Fe.vertexTangents!==Ve||Fe.morphTargets!==ke||Fe.morphNormals!==st||Fe.morphColors!==vt||Fe.toneMapping!==Ft||Fe.morphTargetsCount!==_t)&&(ct=!0):(ct=!0,Fe.__version=K.version);let Zn=Fe.currentProgram;ct===!0&&(Zn=$u(K,V,W));let ia=!1,Qn=!1,Zl=!1;const Lt=Zn.getUniforms(),xi=Fe.uniforms;if(Ce.useProgram(Zn.program)&&(ia=!0,Qn=!0,Zl=!0),K.id!==C&&(C=K.id,Qn=!0),ia||S!==I){Ce.buffers.depth.getReversed()&&I.reversedDepth!==!0&&(I._reversedDepth=!0,I.updateProjectionMatrix()),Lt.setValue(k,"projectionMatrix",I.projectionMatrix),Lt.setValue(k,"viewMatrix",I.matrixWorldInverse);const Un=Lt.map.cameraPosition;Un!==void 0&&Un.setValue(k,Le.setFromMatrixPosition(I.matrixWorld)),tt.logarithmicDepthBuffer&&Lt.setValue(k,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),(K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshLambertMaterial||K.isMeshBasicMaterial||K.isMeshStandardMaterial||K.isShaderMaterial)&&Lt.setValue(k,"isOrthographic",I.isOrthographicCamera===!0),S!==I&&(S=I,Qn=!0,Zl=!0)}if(W.isSkinnedMesh){Lt.setOptional(k,W,"bindMatrix"),Lt.setOptional(k,W,"bindMatrixInverse");const An=W.skeleton;An&&(An.boneTexture===null&&An.computeBoneTexture(),Lt.setValue(k,"boneTexture",An.boneTexture,He))}W.isBatchedMesh&&(Lt.setOptional(k,W,"batchingTexture"),Lt.setValue(k,"batchingTexture",W._matricesTexture,He),Lt.setOptional(k,W,"batchingIdTexture"),Lt.setValue(k,"batchingIdTexture",W._indirectTexture,He),Lt.setOptional(k,W,"batchingColorTexture"),W._colorsTexture!==null&&Lt.setValue(k,"batchingColorTexture",W._colorsTexture,He));const vi=Y.morphAttributes;if((vi.position!==void 0||vi.normal!==void 0||vi.color!==void 0)&&se.update(W,Y,Zn),(Qn||Fe.receiveShadow!==W.receiveShadow)&&(Fe.receiveShadow=W.receiveShadow,Lt.setValue(k,"receiveShadow",W.receiveShadow)),K.isMeshGouraudMaterial&&K.envMap!==null&&(xi.envMap.value=Ee,xi.flipEnvMap.value=Ee.isCubeTexture&&Ee.isRenderTargetTexture===!1?-1:1),K.isMeshStandardMaterial&&K.envMap===null&&V.environment!==null&&(xi.envMapIntensity.value=V.environmentIntensity),Qn&&(Lt.setValue(k,"toneMappingExposure",_.toneMappingExposure),Fe.needsLights&&zP(xi,Zl),ue&&K.fog===!0&&J.refreshFogUniforms(xi,ue),J.refreshMaterialUniforms(xi,K,N,j,m.state.transmissionRenderTarget[I.id]),Th.upload(k,Qy(Fe),xi,He)),K.isShaderMaterial&&K.uniformsNeedUpdate===!0&&(Th.upload(k,Qy(Fe),xi,He),K.uniformsNeedUpdate=!1),K.isSpriteMaterial&&Lt.setValue(k,"center",W.center),Lt.setValue(k,"modelViewMatrix",W.modelViewMatrix),Lt.setValue(k,"normalMatrix",W.normalMatrix),Lt.setValue(k,"modelMatrix",W.matrixWorld),K.isShaderMaterial||K.isRawShaderMaterial){const An=K.uniformsGroups;for(let Un=0,dp=An.length;Un<dp;Un++){const go=An[Un];Ge.update(go,Zn),Ge.bind(go,Zn)}}return Zn}function zP(I,V){I.ambientLightColor.needsUpdate=V,I.lightProbe.needsUpdate=V,I.directionalLights.needsUpdate=V,I.directionalLightShadows.needsUpdate=V,I.pointLights.needsUpdate=V,I.pointLightShadows.needsUpdate=V,I.spotLights.needsUpdate=V,I.spotLightShadows.needsUpdate=V,I.rectAreaLights.needsUpdate=V,I.hemisphereLights.needsUpdate=V}function VP(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(I,V,Y){const K=ge.get(I);K.__autoAllocateDepthBuffer=I.resolveDepthBuffer===!1,K.__autoAllocateDepthBuffer===!1&&(K.__useRenderToTexture=!1),ge.get(I.texture).__webglTexture=V,ge.get(I.depthTexture).__webglTexture=K.__autoAllocateDepthBuffer?void 0:Y,K.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(I,V){const Y=ge.get(I);Y.__webglFramebuffer=V,Y.__useDefaultFramebuffer=V===void 0};const HP=k.createFramebuffer();this.setRenderTarget=function(I,V=0,Y=0){E=I,T=V,A=Y;let K=!0,W=null,ue=!1,ve=!1;if(I){const Ee=ge.get(I);if(Ee.__useDefaultFramebuffer!==void 0)Ce.bindFramebuffer(k.FRAMEBUFFER,null),K=!1;else if(Ee.__webglFramebuffer===void 0)He.setupRenderTarget(I);else if(Ee.__hasExternalTextures)He.rebindTextures(I,ge.get(I.texture).__webglTexture,ge.get(I.depthTexture).__webglTexture);else if(I.depthBuffer){const ke=I.depthTexture;if(Ee.__boundDepthTexture!==ke){if(ke!==null&&ge.has(ke)&&(I.width!==ke.image.width||I.height!==ke.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");He.setupDepthRenderbuffer(I)}}const ze=I.texture;(ze.isData3DTexture||ze.isDataArrayTexture||ze.isCompressedArrayTexture)&&(ve=!0);const Ve=ge.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(Array.isArray(Ve[V])?W=Ve[V][Y]:W=Ve[V],ue=!0):I.samples>0&&He.useMultisampledRTT(I)===!1?W=ge.get(I).__webglMultisampledFramebuffer:Array.isArray(Ve)?W=Ve[Y]:W=Ve,R.copy(I.viewport),D.copy(I.scissor),F=I.scissorTest}else R.copy(ee).multiplyScalar(N).floor(),D.copy(xe).multiplyScalar(N).floor(),F=Be;if(Y!==0&&(W=HP),Ce.bindFramebuffer(k.FRAMEBUFFER,W)&&K&&Ce.drawBuffers(I,W),Ce.viewport(R),Ce.scissor(D),Ce.setScissorTest(F),ue){const Ee=ge.get(I.texture);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee.__webglTexture,Y)}else if(ve){const Ee=V;for(let ze=0;ze<I.textures.length;ze++){const Ve=ge.get(I.textures[ze]);k.framebufferTextureLayer(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0+ze,Ve.__webglTexture,Y,Ee)}}else if(I!==null&&Y!==0){const Ee=ge.get(I.texture);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,Ee.__webglTexture,Y)}C=-1},this.readRenderTargetPixels=function(I,V,Y,K,W,ue,ve,Ne=0){if(!(I&&I.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ee=ge.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&ve!==void 0&&(Ee=Ee[ve]),Ee){Ce.bindFramebuffer(k.FRAMEBUFFER,Ee);try{const ze=I.textures[Ne],Ve=ze.format,ke=ze.type;if(!tt.textureFormatReadable(Ve)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!tt.textureTypeReadable(ke)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}V>=0&&V<=I.width-K&&Y>=0&&Y<=I.height-W&&(I.textures.length>1&&k.readBuffer(k.COLOR_ATTACHMENT0+Ne),k.readPixels(V,Y,K,W,Me.convert(Ve),Me.convert(ke),ue))}finally{const ze=E!==null?ge.get(E).__webglFramebuffer:null;Ce.bindFramebuffer(k.FRAMEBUFFER,ze)}}},this.readRenderTargetPixelsAsync=async function(I,V,Y,K,W,ue,ve,Ne=0){if(!(I&&I.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ee=ge.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&ve!==void 0&&(Ee=Ee[ve]),Ee)if(V>=0&&V<=I.width-K&&Y>=0&&Y<=I.height-W){Ce.bindFramebuffer(k.FRAMEBUFFER,Ee);const ze=I.textures[Ne],Ve=ze.format,ke=ze.type;if(!tt.textureFormatReadable(Ve))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!tt.textureTypeReadable(ke))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const st=k.createBuffer();k.bindBuffer(k.PIXEL_PACK_BUFFER,st),k.bufferData(k.PIXEL_PACK_BUFFER,ue.byteLength,k.STREAM_READ),I.textures.length>1&&k.readBuffer(k.COLOR_ATTACHMENT0+Ne),k.readPixels(V,Y,K,W,Me.convert(Ve),Me.convert(ke),0);const vt=E!==null?ge.get(E).__webglFramebuffer:null;Ce.bindFramebuffer(k.FRAMEBUFFER,vt);const Ft=k.fenceSync(k.SYNC_GPU_COMMANDS_COMPLETE,0);return k.flush(),await Xz(k,Ft,4),k.bindBuffer(k.PIXEL_PACK_BUFFER,st),k.getBufferSubData(k.PIXEL_PACK_BUFFER,0,ue),k.deleteBuffer(st),k.deleteSync(Ft),ue}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(I,V=null,Y=0){const K=Math.pow(2,-Y),W=Math.floor(I.image.width*K),ue=Math.floor(I.image.height*K),ve=V!==null?V.x:0,Ne=V!==null?V.y:0;He.setTexture2D(I,0),k.copyTexSubImage2D(k.TEXTURE_2D,Y,0,0,ve,Ne,W,ue),Ce.unbindTexture()};const GP=k.createFramebuffer(),WP=k.createFramebuffer();this.copyTextureToTexture=function(I,V,Y=null,K=null,W=0,ue=null){ue===null&&(W!==0?(Ja("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ue=W,W=0):ue=0);let ve,Ne,Ee,ze,Ve,ke,st,vt,Ft;const Mt=I.isCompressedTexture?I.mipmaps[ue]:I.image;if(Y!==null)ve=Y.max.x-Y.min.x,Ne=Y.max.y-Y.min.y,Ee=Y.isBox3?Y.max.z-Y.min.z:1,ze=Y.min.x,Ve=Y.min.y,ke=Y.isBox3?Y.min.z:0;else{const vi=Math.pow(2,-W);ve=Math.floor(Mt.width*vi),Ne=Math.floor(Mt.height*vi),I.isDataArrayTexture?Ee=Mt.depth:I.isData3DTexture?Ee=Math.floor(Mt.depth*vi):Ee=1,ze=0,Ve=0,ke=0}K!==null?(st=K.x,vt=K.y,Ft=K.z):(st=0,vt=0,Ft=0);const _t=Me.convert(V.format),Fe=Me.convert(V.type);let It;V.isData3DTexture?(He.setTexture3D(V,0),It=k.TEXTURE_3D):V.isDataArrayTexture||V.isCompressedArrayTexture?(He.setTexture2DArray(V,0),It=k.TEXTURE_2D_ARRAY):(He.setTexture2D(V,0),It=k.TEXTURE_2D),k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,V.flipY),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),k.pixelStorei(k.UNPACK_ALIGNMENT,V.unpackAlignment);const ct=k.getParameter(k.UNPACK_ROW_LENGTH),Zn=k.getParameter(k.UNPACK_IMAGE_HEIGHT),ia=k.getParameter(k.UNPACK_SKIP_PIXELS),Qn=k.getParameter(k.UNPACK_SKIP_ROWS),Zl=k.getParameter(k.UNPACK_SKIP_IMAGES);k.pixelStorei(k.UNPACK_ROW_LENGTH,Mt.width),k.pixelStorei(k.UNPACK_IMAGE_HEIGHT,Mt.height),k.pixelStorei(k.UNPACK_SKIP_PIXELS,ze),k.pixelStorei(k.UNPACK_SKIP_ROWS,Ve),k.pixelStorei(k.UNPACK_SKIP_IMAGES,ke);const Lt=I.isDataArrayTexture||I.isData3DTexture,xi=V.isDataArrayTexture||V.isData3DTexture;if(I.isDepthTexture){const vi=ge.get(I),An=ge.get(V),Un=ge.get(vi.__renderTarget),dp=ge.get(An.__renderTarget);Ce.bindFramebuffer(k.READ_FRAMEBUFFER,Un.__webglFramebuffer),Ce.bindFramebuffer(k.DRAW_FRAMEBUFFER,dp.__webglFramebuffer);for(let go=0;go<Ee;go++)Lt&&(k.framebufferTextureLayer(k.READ_FRAMEBUFFER,k.COLOR_ATTACHMENT0,ge.get(I).__webglTexture,W,ke+go),k.framebufferTextureLayer(k.DRAW_FRAMEBUFFER,k.COLOR_ATTACHMENT0,ge.get(V).__webglTexture,ue,Ft+go)),k.blitFramebuffer(ze,Ve,ve,Ne,st,vt,ve,Ne,k.DEPTH_BUFFER_BIT,k.NEAREST);Ce.bindFramebuffer(k.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(k.DRAW_FRAMEBUFFER,null)}else if(W!==0||I.isRenderTargetTexture||ge.has(I)){const vi=ge.get(I),An=ge.get(V);Ce.bindFramebuffer(k.READ_FRAMEBUFFER,GP),Ce.bindFramebuffer(k.DRAW_FRAMEBUFFER,WP);for(let Un=0;Un<Ee;Un++)Lt?k.framebufferTextureLayer(k.READ_FRAMEBUFFER,k.COLOR_ATTACHMENT0,vi.__webglTexture,W,ke+Un):k.framebufferTexture2D(k.READ_FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,vi.__webglTexture,W),xi?k.framebufferTextureLayer(k.DRAW_FRAMEBUFFER,k.COLOR_ATTACHMENT0,An.__webglTexture,ue,Ft+Un):k.framebufferTexture2D(k.DRAW_FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,An.__webglTexture,ue),W!==0?k.blitFramebuffer(ze,Ve,ve,Ne,st,vt,ve,Ne,k.COLOR_BUFFER_BIT,k.NEAREST):xi?k.copyTexSubImage3D(It,ue,st,vt,Ft+Un,ze,Ve,ve,Ne):k.copyTexSubImage2D(It,ue,st,vt,ze,Ve,ve,Ne);Ce.bindFramebuffer(k.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(k.DRAW_FRAMEBUFFER,null)}else xi?I.isDataTexture||I.isData3DTexture?k.texSubImage3D(It,ue,st,vt,Ft,ve,Ne,Ee,_t,Fe,Mt.data):V.isCompressedArrayTexture?k.compressedTexSubImage3D(It,ue,st,vt,Ft,ve,Ne,Ee,_t,Mt.data):k.texSubImage3D(It,ue,st,vt,Ft,ve,Ne,Ee,_t,Fe,Mt):I.isDataTexture?k.texSubImage2D(k.TEXTURE_2D,ue,st,vt,ve,Ne,_t,Fe,Mt.data):I.isCompressedTexture?k.compressedTexSubImage2D(k.TEXTURE_2D,ue,st,vt,Mt.width,Mt.height,_t,Mt.data):k.texSubImage2D(k.TEXTURE_2D,ue,st,vt,ve,Ne,_t,Fe,Mt);k.pixelStorei(k.UNPACK_ROW_LENGTH,ct),k.pixelStorei(k.UNPACK_IMAGE_HEIGHT,Zn),k.pixelStorei(k.UNPACK_SKIP_PIXELS,ia),k.pixelStorei(k.UNPACK_SKIP_ROWS,Qn),k.pixelStorei(k.UNPACK_SKIP_IMAGES,Zl),ue===0&&V.generateMipmaps&&k.generateMipmap(It),Ce.unbindTexture()},this.copyTextureToTexture3D=function(I,V,Y=null,K=null,W=0){return Ja('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(I,V,Y,K,W)},this.initRenderTarget=function(I){ge.get(I).__webglFramebuffer===void 0&&He.setupRenderTarget(I)},this.initTexture=function(I){I.isCubeTexture?He.setTextureCube(I,0):I.isData3DTexture?He.setTexture3D(I,0):I.isDataArrayTexture||I.isCompressedArrayTexture?He.setTexture2DArray(I,0):He.setTexture2D(I,0),Ce.unbindTexture()},this.resetState=function(){T=0,A=0,E=null,Ce.reset(),pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return vs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=at._getDrawingBufferColorSpace(e),n.unpackColorSpace=at._getUnpackColorSpace()}}function D1(t,e){if(e===vz)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===m0||e===tP){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,s=[];if(e===m0)for(let o=1;o<=i;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=t.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class XW extends Yl{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new ZW(n)}),this.register(function(n){return new QW(n)}),this.register(function(n){return new a7(n)}),this.register(function(n){return new l7(n)}),this.register(function(n){return new c7(n)}),this.register(function(n){return new e7(n)}),this.register(function(n){return new t7(n)}),this.register(function(n){return new n7(n)}),this.register(function(n){return new i7(n)}),this.register(function(n){return new KW(n)}),this.register(function(n){return new s7(n)}),this.register(function(n){return new JW(n)}),this.register(function(n){return new o7(n)}),this.register(function(n){return new r7(n)}),this.register(function(n){return new qW(n)}),this.register(function(n){return new u7(n)}),this.register(function(n){return new d7(n)})}load(e,n,i,s){const r=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Xc.extractUrlBase(e);o=Xc.resolveURL(c,this.path)}else o=Xc.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){s?s(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},l=new SP(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{r.parse(c,o,function(d){n(d),r.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,s){let r;const o={},a={},l=new TextDecoder;if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===LP){try{o[nt.KHR_BINARY_GLTF]=new h7(e)}catch(h){s&&s(h);return}r=JSON.parse(o[nt.KHR_BINARY_GLTF].content)}else r=JSON.parse(l.decode(e));else r=e;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new E7(r,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const h=this.pluginCallbacks[d](c);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(r.extensionsUsed)for(let d=0;d<r.extensionsUsed.length;++d){const h=r.extensionsUsed[d],f=r.extensionsRequired||[];switch(h){case nt.KHR_MATERIALS_UNLIT:o[h]=new YW;break;case nt.KHR_DRACO_MESH_COMPRESSION:o[h]=new f7(r,this.dracoLoader);break;case nt.KHR_TEXTURE_TRANSFORM:o[h]=new p7;break;case nt.KHR_MESH_QUANTIZATION:o[h]=new m7;break;default:f.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,s)}parseAsync(e,n){const i=this;return new Promise(function(s,r){i.parse(e,n,s,r)})}}function $W(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const nt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class qW{constructor(e){this.parser=e,this.name=nt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,s=n.length;i<s;i++){const r=n[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let s=n.cache.get(i);if(s)return s;const r=n.json,l=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let c;const d=new Oe(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],kn);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new _f(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new WV(d),c.distance=h;break;case"spot":c=new HV(d),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),$s(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),s=Promise.resolve(c),n.cache.add(i,s),s}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,r=i.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(n.cache,a,l)})}}class YW{constructor(){this.name=nt.KHR_MATERIALS_UNLIT}getMaterialType(){return Js}extendParams(e,n,i){const s=[];e.color=new Oe(1,1,1),e.opacity=1;const r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],kn),e.opacity=o[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",r.baseColorTexture,an))}return Promise.all(s)}}class KW{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name].emissiveStrength;return r!==void 0&&(n.emissiveIntensity=r),Promise.resolve()}}class ZW{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(i.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ae(a,a)}return Promise.all(r)}}class QW{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return n.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class JW{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(i.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class e7{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];n.sheenColor=new Oe(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=s.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],kn)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(i.assignTexture(n,"sheenColorMap",o.sheenColorTexture,an)),o.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class t7{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(i.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class n7{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(i.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Oe().setRGB(a[0],a[1],a[2],kn),Promise.all(r)}}class i7{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return n.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class s7{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(i.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Oe().setRGB(a[0],a[1],a[2],kn),o.specularColorTexture!==void 0&&r.push(i.assignTexture(n,"specularColorMap",o.specularColorTexture,an)),Promise.all(r)}}class r7{constructor(e){this.parser=e,this.name=nt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&r.push(i.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(r)}}class o7{constructor(e){this.parser=e,this.name=nt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&r.push(i.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class a7{constructor(e){this.parser=e,this.name=nt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,r.source,o)}}class l7{constructor(e){this.parser=e,this.name=nt.EXT_TEXTURE_WEBP}loadTexture(e){const n=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[n])return null;const o=r.extensions[n],a=s.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return i.loadTextureImage(e,o.source,l)}}class c7{constructor(e){this.parser=e,this.name=nt.EXT_TEXTURE_AVIF}loadTexture(e){const n=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[n])return null;const o=r.extensions[n],a=s.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return i.loadTextureImage(e,o.source,l)}}class u7{constructor(e){this.name=nt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(a){const l=s.byteOffset||0,c=s.byteLength||0,d=s.count,h=s.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,f,s.mode,s.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(p),d,h,f,s.mode,s.filter),p})})}else return null}}class d7{constructor(e){this.name=nt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=n.meshes[i.mesh];for(const c of s.primitives)if(c.mode!==wi.TRIANGLES&&c.mode!==wi.TRIANGLE_STRIP&&c.mode!==wi.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(d=>(l[c]=d,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),h=d.isGroup?d.children:[d],f=c[0].count,p=[];for(const x of h){const v=new Ze,g=new U,m=new li,y=new U(1,1,1),b=new _V(x.geometry,x.material,f);for(let _=0;_<f;_++)l.TRANSLATION&&g.fromBufferAttribute(l.TRANSLATION,_),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,_),l.SCALE&&y.fromBufferAttribute(l.SCALE,_),b.setMatrixAt(_,v.compose(g,m,y));for(const _ in l)if(_==="_COLOR_0"){const w=l[_];b.instanceColor=new x0(w.array,w.itemSize,w.normalized)}else _!=="TRANSLATION"&&_!=="ROTATION"&&_!=="SCALE"&&x.geometry.setAttribute(_,l[_]);Nt.prototype.copy.call(b,x),this.parser.assignFinalMaterial(b),p.push(b)}return d.isGroup?(d.clear(),d.add(...p),d):p[0]}))}}const LP="glTF",vc=12,k1={JSON:1313821514,BIN:5130562};class h7{constructor(e){this.name=nt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,vc),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==LP)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-vc,r=new DataView(e,vc);let o=0;for(;o<s;){const a=r.getUint32(o,!0);o+=4;const l=r.getUint32(o,!0);if(o+=4,l===k1.JSON){const c=new Uint8Array(e,vc+o,a);this.content=i.decode(c)}else if(l===k1.BIN){const c=vc+o;this.body=e.slice(c,c+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class f7{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=nt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const h=w0[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=w0[d]||d.toLowerCase();if(o[d]!==void 0){const f=i.accessors[e.attributes[d]],p=tl[f.componentType];c[h]=p.name,l[h]=f.normalized===!0}}return n.getDependency("bufferView",r).then(function(d){return new Promise(function(h,f){s.decodeDracoFile(d,function(p){for(const x in p.attributes){const v=p.attributes[x],g=l[x];g!==void 0&&(v.normalized=g)}h(p)},a,c,kn,f)})})}}class p7{constructor(){this.name=nt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class m7{constructor(){this.name=nt.KHR_MESH_QUANTIZATION}}class DP extends Hu{constructor(e,n,i,s){super(e,n,i,s)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let o=0;o!==s;o++)n[o]=i[r+o];return n}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=s-n,h=(i-n)/d,f=h*h,p=f*h,x=e*c,v=x-c,g=-2*p+3*f,m=p-f,y=1-g,b=m-f+h;for(let _=0;_!==a;_++){const w=o[v+_+a],T=o[v+_+l]*d,A=o[x+_+a],E=o[x+_]*d;r[_]=y*w+b*T+g*A+m*E}return r}}const g7=new li;class x7 extends DP{interpolate_(e,n,i,s){const r=super.interpolate_(e,n,i,s);return g7.fromArray(r).normalize().toArray(r),r}}const wi={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},tl={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},O1={9728:Dn,9729:Hn,9984:X2,9985:vh,9986:Mc,9987:xs},j1={33071:Hr,33648:pf,10497:Al},Jm={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},w0={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Er={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},v7={CUBICSPLINE:void 0,LINEAR:Au,STEP:Mu},eg={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function y7(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Vy({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:pr})),t.DefaultMaterial}function To(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function $s(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function b7(t,e,n){let i=!1,s=!1,r=!1;for(let c=0,d=e.length;c<d;c++){const h=e[c];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(s=!0),h.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];if(i){const f=h.POSITION!==void 0?n.getDependency("accessor",h.POSITION):t.attributes.position;o.push(f)}if(s){const f=h.NORMAL!==void 0?n.getDependency("accessor",h.NORMAL):t.attributes.normal;a.push(f)}if(r){const f=h.COLOR_0!==void 0?n.getDependency("accessor",h.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],h=c[1],f=c[2];return i&&(t.morphAttributes.position=d),s&&(t.morphAttributes.normal=h),r&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function _7(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,s=n.length;i<s;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function w7(t){let e;const n=t.extensions&&t.extensions[nt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+tg(n.attributes):e=t.indices+":"+tg(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,s=t.targets.length;i<s;i++)e+=":"+tg(t.targets[i]);return e}function tg(t){let e="";const n=Object.keys(t).sort();for(let i=0,s=n.length;i<s;i++)e+=n[i]+":"+t[n[i]]+";";return e}function S0(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function S7(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":t.search(/\.ktx2($|\?)/i)>0||t.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const T7=new Ze;class E7{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new $W,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=-1,r=!1,o=-1;if(typeof navigator<"u"){const a=navigator.userAgent;i=/^((?!chrome|android).)*safari/i.test(a)===!0;const l=a.match(/Version\/(\d+)/);s=i&&l?parseInt(l[1],10):-1,r=a.indexOf("Firefox")>-1,o=r?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||i&&s<17||r&&o<98?this.textureLoader=new zV(this.options.manager):this.textureLoader=new $V(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new SP(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};return To(r,a,s),$s(a,s),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=n.length;s<r;s++){const o=n[s].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const o=e[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const s=i.clone(),r=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())r(d,a.children[c])};return r(i,s),s.name+="_instance_"+e.uses[n]++,s}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const s=e(n[i]);if(s)return s}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let s=0;s<n.length;s++){const r=e(n[s]);r&&i.push(r)}return i}getDependency(e,n){const i=e+":"+n;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(n);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(n)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":s=this.loadAccessor(n);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":s=this.loadBuffer(n);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":s=this.loadSkin(n);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":s=this.loadCamera(n);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,n)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(s.map(function(r,o){return i.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[nt.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,o){i.load(Xc.resolveURL(n.uri,s.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const s=n.byteLength||0,r=n.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(e){const n=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const o=Jm[s.type],a=tl[s.componentType],l=s.normalized===!0,c=new a(s.count*o);return Promise.resolve(new Vt(c,o,l))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],l=Jm[s.type],c=tl[s.componentType],d=c.BYTES_PER_ELEMENT,h=d*l,f=s.byteOffset||0,p=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,x=s.normalized===!0;let v,g;if(p&&p!==h){const m=Math.floor(f/p),y="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+m+":"+s.count;let b=n.cache.get(y);b||(v=new c(a,m*p,s.count*p/d),b=new gV(v,p/d),n.cache.add(y,b)),g=new Fy(b,l,f%p/d,x)}else a===null?v=new c(s.count*l):v=new c(a,f,s.count*l),g=new Vt(v,l,x);if(s.sparse!==void 0){const m=Jm.SCALAR,y=tl[s.sparse.indices.componentType],b=s.sparse.indices.byteOffset||0,_=s.sparse.values.byteOffset||0,w=new y(o[1],b,s.sparse.count*m),T=new c(o[2],_,s.sparse.count*l);a!==null&&(g=new Vt(g.array.slice(),g.itemSize,g.normalized)),g.normalized=!1;for(let A=0,E=w.length;A<E;A++){const C=w[A];if(g.setX(C,T[A*l]),l>=2&&g.setY(C,T[A*l+1]),l>=3&&g.setZ(C,T[A*l+2]),l>=4&&g.setW(C,T[A*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}g.normalized=x}return g})}loadTexture(e){const n=this.json,i=this.options,r=n.textures[e].source,o=n.images[r];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,n,i){const s=this,r=this.json,o=r.textures[e],a=r.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const f=(r.samplers||{})[o.sampler]||{};return d.magFilter=O1[f.magFilter]||Hn,d.minFilter=O1[f.minFilter]||xs,d.wrapS=j1[f.wrapS]||Al,d.wrapT=j1[f.wrapT]||Al,d.generateMipmaps=!d.isCompressedTexture&&d.minFilter!==Dn&&d.minFilter!==Hn,s.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,s=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=s.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const f=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(f,p){let x=f;n.isImageBitmapLoader===!0&&(x=function(v){const g=new tn(v);g.needsUpdate=!0,f(g)}),n.load(Xc.resolveURL(h,r.path),x,void 0,p)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),$s(h,o),h.userData.mimeType=o.mimeType||S7(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,n,i,s){const r=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),r.extensions[nt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[nt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=r.associations.get(o);o=r.extensions[nt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,l)}}return s!==void 0&&(o.colorSpace=s),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const s=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new xP,Es.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new gP,Es.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(s||r||o){let a="ClonedMaterial:"+i.uuid+":";s&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),r&&(l.vertexColors=!0),o&&(l.flatShading=!0),s&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Vy}loadMaterial(e){const n=this,i=this.json,s=this.extensions,r=i.materials[e];let o;const a={},l=r.extensions||{},c=[];if(l[nt.KHR_MATERIALS_UNLIT]){const h=s[nt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,r,n))}else{const h=r.pbrMetallicRoughness||{};if(a.color=new Oe(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const f=h.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],kn),a.opacity=f[3]}h.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",h.baseColorTexture,an)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=ps);const d=r.alphaMode||eg.OPAQUE;if(d===eg.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===eg.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==Js&&(c.push(n.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new Ae(1,1),r.normalTexture.scale!==void 0)){const h=r.normalTexture.scale;a.normalScale.set(h,h)}if(r.occlusionTexture!==void 0&&o!==Js&&(c.push(n.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==Js){const h=r.emissiveFactor;a.emissive=new Oe().setRGB(h[0],h[1],h[2],kn)}return r.emissiveTexture!==void 0&&o!==Js&&c.push(n.assignTexture(a,"emissiveMap",r.emissiveTexture,an)),Promise.all(c).then(function(){const h=new o(a);return r.name&&(h.name=r.name),$s(h,r),n.associations.set(h,{materials:e}),r.extensions&&To(s,h,r),h})}createUniqueName(e){const n=mt.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,s=this.primitiveCache;function r(a){return i[nt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return F1(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=w7(c),h=s[d];if(h)o.push(h.promise);else{let f;c.extensions&&c.extensions[nt.KHR_DRACO_MESH_COMPRESSION]?f=r(c):f=F1(new Ii,c,n),s[d]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const n=this,i=this.json,s=this.extensions,r=i.meshes[e],o=r.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?y7(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let p=0,x=d.length;p<x;p++){const v=d[p],g=o[p];let m;const y=c[p];if(g.mode===wi.TRIANGLES||g.mode===wi.TRIANGLE_STRIP||g.mode===wi.TRIANGLE_FAN||g.mode===void 0)m=r.isSkinnedMesh===!0?new vV(v,y):new En(v,y),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),g.mode===wi.TRIANGLE_STRIP?m.geometry=D1(m.geometry,tP):g.mode===wi.TRIANGLE_FAN&&(m.geometry=D1(m.geometry,m0));else if(g.mode===wi.LINES)m=new EV(v,y);else if(g.mode===wi.LINE_STRIP)m=new zy(v,y);else if(g.mode===wi.LINE_LOOP)m=new MV(v,y);else if(g.mode===wi.POINTS)m=new vP(v,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(m.geometry.morphAttributes).length>0&&_7(m,r),m.name=n.createUniqueName(r.name||"mesh_"+e),$s(m,r),g.extensions&&To(s,m,g),n.assignFinalMaterial(m),h.push(m)}for(let p=0,x=h.length;p<x;p++)n.associations.set(h[p],{meshes:e,primitives:p});if(h.length===1)return r.extensions&&To(s,h[0],r),h[0];const f=new Gr;r.extensions&&To(s,f,r),n.associations.set(f,{meshes:e});for(let p=0,x=h.length;p<x;p++)f.add(h[p]);return f})}loadCamera(e){let n;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new Tn(sP.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(n=new ap(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),$s(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let s=0,r=n.joints.length;s<r;s++)i.push(this._loadNodeShallow(n.joints[s]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),o=s,a=[],l=[];for(let c=0,d=o.length;c<d;c++){const h=o[c];if(h){a.push(h);const f=new Ze;r!==null&&f.fromArray(r.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new Uy(a,l)})}loadAnimation(e){const n=this.json,i=this,s=n.animations[e],r=s.name?s.name:"animation_"+e,o=[],a=[],l=[],c=[],d=[];for(let h=0,f=s.channels.length;h<f;h++){const p=s.channels[h],x=s.samplers[p.sampler],v=p.target,g=v.node,m=s.parameters!==void 0?s.parameters[x.input]:x.input,y=s.parameters!==void 0?s.parameters[x.output]:x.output;v.node!==void 0&&(o.push(this.getDependency("node",g)),a.push(this.getDependency("accessor",m)),l.push(this.getDependency("accessor",y)),c.push(x),d.push(v))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(d)]).then(function(h){const f=h[0],p=h[1],x=h[2],v=h[3],g=h[4],m=[];for(let y=0,b=f.length;y<b;y++){const _=f[y],w=p[y],T=x[y],A=v[y],E=g[y];if(_===void 0)continue;_.updateMatrix&&_.updateMatrix();const C=i._createAnimationTracks(_,w,T,A,E);if(C)for(let S=0;S<C.length;S++)m.push(C[S])}return new y0(r,void 0,m)})}createNodeMesh(e){const n=this.json,i=this,s=n.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const o=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=s.weights.length;l<c;l++)a.morphTargetInfluences[l]=s.weights[l]}),o})}loadNode(e){const n=this.json,i=this,s=n.nodes[e],r=i._loadNodeShallow(e),o=[],a=s.children||[];for(let c=0,d=a.length;c<d;c++)o.push(i.getDependency("node",a[c]));const l=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(o),l]).then(function(c){const d=c[0],h=c[1],f=c[2];f!==null&&d.traverse(function(p){p.isSkinnedMesh&&p.bind(f,T7)});for(let p=0,x=h.length;p<x;p++)d.add(h[p]);return d})}_loadNodeShallow(e){const n=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=n.nodes[e],o=r.name?s.createUniqueName(r.name):"",a=[],l=s._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),r.camera!==void 0&&a.push(s.getDependency("camera",r.camera).then(function(c){return s._getNodeRef(s.cameraCache,r.camera,c)})),s._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let d;if(r.isBone===!0?d=new pP:c.length>1?d=new Gr:c.length===1?d=c[0]:d=new Nt,d!==c[0])for(let h=0,f=c.length;h<f;h++)d.add(c[h]);if(r.name&&(d.userData.name=r.name,d.name=o),$s(d,r),r.extensions&&To(i,d,r),r.matrix!==void 0){const h=new Ze;h.fromArray(r.matrix),d.applyMatrix4(h)}else r.translation!==void 0&&d.position.fromArray(r.translation),r.rotation!==void 0&&d.quaternion.fromArray(r.rotation),r.scale!==void 0&&d.scale.fromArray(r.scale);if(!s.associations.has(d))s.associations.set(d,{});else if(r.mesh!==void 0&&s.meshCache.refs[r.mesh]>1){const h=s.associations.get(d);s.associations.set(d,{...h})}return s.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],s=this,r=new Gr;i.name&&(r.name=s.createUniqueName(i.name)),$s(r,i),i.extensions&&To(n,r,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(s.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,h=l.length;d<h;d++)r.add(l[d]);const c=d=>{const h=new Map;for(const[f,p]of s.associations)(f instanceof Es||f instanceof tn)&&h.set(f,p);return d.traverse(f=>{const p=s.associations.get(f);p!=null&&h.set(f,p)}),h};return s.associations=c(r),r})}_createAnimationTracks(e,n,i,s,r){const o=[],a=e.name?e.name:e.uuid,l=[];Er[r.path]===Er.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(a);let c;switch(Er[r.path]){case Er.weights:c=Nl;break;case Er.rotation:c=Il;break;case Er.translation:case Er.scale:c=Ll;break;default:switch(i.itemSize){case 1:c=Nl;break;case 2:case 3:default:c=Ll;break}break}const d=s.interpolation!==void 0?v7[s.interpolation]:Au,h=this._getArrayFromAccessor(i);for(let f=0,p=l.length;f<p;f++){const x=new c(l[f]+"."+Er[r.path],n.array,h,d);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(x),o.push(x)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const i=S0(n.constructor),s=new Float32Array(n.length);for(let r=0,o=n.length;r<o;r++)s[r]=n[r]*i;n=s}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const s=this instanceof Il?x7:DP;return new s(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function M7(t,e,n){const i=e.attributes,s=new Ns;if(i.POSITION!==void 0){const a=n.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(s.set(new U(l[0],l[1],l[2]),new U(c[0],c[1],c[2])),a.normalized){const d=S0(tl[a.componentType]);s.min.multiplyScalar(d),s.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const a=new U,l=new U;for(let c=0,d=r.length;c<d;c++){const h=r[c];if(h.POSITION!==void 0){const f=n.json.accessors[h.POSITION],p=f.min,x=f.max;if(p!==void 0&&x!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(x[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(x[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(x[2]))),f.normalized){const v=S0(tl[f.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(a)}t.boundingBox=s;const o=new Is;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,t.boundingSphere=o}function F1(t,e,n){const i=e.attributes,s=[];function r(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in i){const a=w0[o]||o.toLowerCase();a in t.attributes||s.push(r(i[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});s.push(o)}return at.workingColorSpace!==kn&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${at.workingColorSpace}" not supported.`),$s(t,e),M7(t,e,n),Promise.all(s).then(function(){return e.targets!==void 0?b7(t,e.targets,n):t})}const U1={type:"change"},$y={type:"start"},kP={type:"end"},Yd=new Xl,B1=new Ys,A7=Math.cos(70*sP.DEG2RAD),Yt=new U,Bn=2*Math.PI,bt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},ng=1e-6;class C7 extends c6{constructor(e,n=null){super(e,n),this.state=bt.NONE,this.target=new U,this.cursor=new U,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Za.ROTATE,MIDDLE:Za.DOLLY,RIGHT:Za.PAN},this.touches={ONE:Fa.ROTATE,TWO:Fa.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new U,this._lastQuaternion=new li,this._lastTargetPosition=new U,this._quat=new li().setFromUnitVectors(e.up,new U(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new l1,this._sphericalDelta=new l1,this._scale=1,this._panOffset=new U,this._rotateStart=new Ae,this._rotateEnd=new Ae,this._rotateDelta=new Ae,this._panStart=new Ae,this._panEnd=new Ae,this._panDelta=new Ae,this._dollyStart=new Ae,this._dollyEnd=new Ae,this._dollyDelta=new Ae,this._dollyDirection=new U,this._mouse=new Ae,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=R7.bind(this),this._onPointerDown=P7.bind(this),this._onPointerUp=N7.bind(this),this._onContextMenu=F7.bind(this),this._onMouseWheel=D7.bind(this),this._onKeyDown=k7.bind(this),this._onTouchStart=O7.bind(this),this._onTouchMove=j7.bind(this),this._onMouseDown=I7.bind(this),this._onMouseMove=L7.bind(this),this._interceptControlDown=U7.bind(this),this._interceptControlUp=B7.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(U1),this.update(),this.state=bt.NONE}update(e=null){const n=this.object.position;Yt.copy(n).sub(this.target),Yt.applyQuaternion(this._quat),this._spherical.setFromVector3(Yt),this.autoRotate&&this.state===bt.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,s=this.maxAzimuthAngle;isFinite(i)&&isFinite(s)&&(i<-Math.PI?i+=Bn:i>Math.PI&&(i-=Bn),s<-Math.PI?s+=Bn:s>Math.PI&&(s-=Bn),i<=s?this._spherical.theta=Math.max(i,Math.min(s,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(i+s)/2?Math.max(i,this._spherical.theta):Math.min(s,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let r=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),r=o!=this._spherical.radius}if(Yt.setFromSpherical(this._spherical),Yt.applyQuaternion(this._quatInverse),n.copy(this.target).add(Yt),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=Yt.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),r=!!l}else if(this.object.isOrthographicCamera){const a=new U(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),r=l!==this.object.zoom;const c=new U(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=Yt.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;o!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(Yd.origin.copy(this.object.position),Yd.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Yd.direction))<A7?this.object.lookAt(this.target):(B1.setFromNormalAndCoplanarPoint(this.object.up,this.target),Yd.intersectPlane(B1,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),r=!0)}return this._scale=1,this._performCursorZoom=!1,r||this._lastPosition.distanceToSquared(this.object.position)>ng||8*(1-this._lastQuaternion.dot(this.object.quaternion))>ng||this._lastTargetPosition.distanceToSquared(this.target)>ng?(this.dispatchEvent(U1),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Bn/60*this.autoRotateSpeed*e:Bn/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){Yt.setFromMatrixColumn(n,0),Yt.multiplyScalar(-e),this._panOffset.add(Yt)}_panUp(e,n){this.screenSpacePanning===!0?Yt.setFromMatrixColumn(n,1):(Yt.setFromMatrixColumn(n,0),Yt.crossVectors(this.object.up,Yt)),Yt.multiplyScalar(e),this._panOffset.add(Yt)}_pan(e,n){const i=this.domElement;if(this.object.isPerspectiveCamera){const s=this.object.position;Yt.copy(s).sub(this.target);let r=Yt.length();r*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*r/i.clientHeight,this.object.matrix),this._panUp(2*n*r/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const i=this.domElement.getBoundingClientRect(),s=e-i.left,r=n-i.top,o=i.width,a=i.height;this._mouse.x=s/o*2-1,this._mouse.y=-(r/a)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Bn*this._rotateDelta.x/n.clientHeight),this._rotateUp(Bn*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Bn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Bn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Bn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Bn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),s=.5*(e.pageY+n.y);this._rotateStart.set(i,s)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),s=.5*(e.pageY+n.y);this._panStart.set(i,s)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),i=e.pageX-n.x,s=e.pageY-n.y,r=Math.sqrt(i*i+s*s);this._dollyStart.set(0,r)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),s=.5*(e.pageX+i.x),r=.5*(e.pageY+i.y);this._rotateEnd.set(s,r)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Bn*this._rotateDelta.x/n.clientHeight),this._rotateUp(Bn*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),s=.5*(e.pageY+n.y);this._panEnd.set(i,s)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),i=e.pageX-n.x,s=e.pageY-n.y,r=Math.sqrt(i*i+s*s);this._dollyEnd.set(0,r),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const o=(e.pageX+n.x)*.5,a=(e.pageY+n.y)*.5;this._updateZoomParameters(o,a)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Ae,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function P7(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function R7(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function N7(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(kP),this.state=bt.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function I7(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Za.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=bt.DOLLY;break;case Za.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=bt.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=bt.ROTATE}break;case Za.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=bt.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=bt.PAN}break;default:this.state=bt.NONE}this.state!==bt.NONE&&this.dispatchEvent($y)}function L7(t){switch(this.state){case bt.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case bt.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case bt.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function D7(t){this.enabled===!1||this.enableZoom===!1||this.state!==bt.NONE||(t.preventDefault(),this.dispatchEvent($y),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(kP))}function k7(t){this.enabled!==!1&&this._handleKeyDown(t)}function O7(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case Fa.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=bt.TOUCH_ROTATE;break;case Fa.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=bt.TOUCH_PAN;break;default:this.state=bt.NONE}break;case 2:switch(this.touches.TWO){case Fa.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=bt.TOUCH_DOLLY_PAN;break;case Fa.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=bt.TOUCH_DOLLY_ROTATE;break;default:this.state=bt.NONE}break;default:this.state=bt.NONE}this.state!==bt.NONE&&this.dispatchEvent($y)}function j7(t){switch(this._trackPointer(t),this.state){case bt.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case bt.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case bt.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case bt.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=bt.NONE}}function F7(t){this.enabled!==!1&&t.preventDefault()}function U7(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function B7(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function OP({src:t,className:e,autoRotate:n=!0}){const i=M.useRef(null),s=M.useRef(null),r=M.useRef(null),[o,a]=M.useState(!1),[l,c]=M.useState(0),[d,h]=M.useState([]),[f,p]=M.useState(null);M.useState(!0);const[x,v]=M.useState(1),g=M.useRef(null),m=M.useRef(null),y=M.useRef({}),b=M.useMemo(()=>({pos:new U(2.2,1.6,2.8),target:new U(0,1.25,0)}),[]),[_,w]=M.useState(!0),T=(D,F,O)=>D+(F-D)*O,A=(D,F,O,G)=>D.set(T(F.x,O.x,G),T(F.y,O.y,G),T(F.z,O.z,G)),E=D=>D<.5?4*D*D*D:1-Math.pow(-2*D+2,3)/2;let C=0,S=!1;const R=()=>{S&&(S=!1,cancelAnimationFrame(C))};return M.useEffect(()=>{if(!i.current)return;const D=i.current,F=D.clientWidth,O=D.clientHeight||480,G=new IP({antialias:!0,alpha:!0});G.setPixelRatio(Math.min(window.devicePixelRatio,2)),G.setSize(F,O),G.outputColorSpace=an,G.toneMapping=My,G.toneMappingExposure=1,Object.assign(G.domElement.style,{position:"absolute",inset:"0",zIndex:"0",display:"block"}),D.appendChild(G.domElement);const H=new fP;H.background=null;const j=new Tn(45,F/O,.1,100);j.position.copy(b.pos),r.current=j;const N=new C7(j,G.domElement);N.enableDamping=!0,N.autoRotate=!0,N.autoRotateSpeed=1.2,N.target.copy(b.target),N.enableZoom=!1,N.minDistance=j.position.distanceTo(N.target),N.maxDistance=N.minDistance,N.enablePan=!0,s.current=N;const B=()=>{R(),w(!1)};G.domElement.addEventListener("pointerdown",B,{passive:!0}),G.domElement.addEventListener("wheel",B,{passive:!0}),window.addEventListener("keydown",B);const q=new TP(16777215,2105376,1);H.add(q);const ee=new _f(16777215,1.4);ee.position.set(5,10,6),H.add(ee);const xe=new _f(9133302,.8);xe.position.set(-6,6,-6),H.add(xe);let Be;new XW().load(t,ye=>{var be;const Pe=ye.scene;Pe.traverse(L=>{L.isMesh&&(L.castShadow=!1,L.receiveShadow=!1)});const ht=new Ns().setFromObject(Pe),qe=ht.getSize(new U).length(),k=ht.getCenter(new U);Pe.position.sub(k);const ot=3.2/qe;Pe.scale.setScalar(ot),H.add(Pe),g.current=Pe;const De=new U(b.target.x+3.6,b.target.y+1,b.target.z+5.2),tt=b.pos.clone(),Ce=new U(b.target.x,b.target.y-.2,b.target.z),ut=b.target.clone(),ge=2200,He=performance.now();S=!0,j.position.copy(De),N.target.copy(Ce),N.update();const St=L=>{if(!S)return;const P=Math.min(1,(L-He)/ge),X=E(P);A(j.position,De,tt,X);const $=new U;A($,Ce,ut,X),N.target.copy($);const J=new U().subVectors(j.position,N.target),Z=Math.hypot(J.x,J.z),oe=Math.atan2(J.z,J.x)+.02*(1-Math.cos(X*Math.PI));j.position.set(N.target.x+Math.cos(oe)*Z,j.position.y,N.target.z+Math.sin(oe)*Z),N.update(),P<1?C=requestAnimationFrame(St):S=!1};if(C=requestAnimationFrame(St),ye.animations&&ye.animations.length){Be=new a6(Pe),m.current=Be;const L=[];ye.animations.forEach(X=>{const $=X.name||`Clip ${L.length+1}`;L.push($);const J=Be.clipAction(X);J.clampWhenFinished=!0,J.loop=eP,y.current[$]=J}),h(L);const P=L[0]??null;p(P),P&&((be=y.current[P])==null||be.play())}},ye=>{ye.total&&c(Math.round(ye.loaded/ye.total*100))},ye=>{console.error("Failed to load GLTF:",ye)});let Q=0;const ce=new EP,re=()=>{const ye=ce.getDelta();if(Be&&(Be.timeScale=x,Be.update(ye)),_&&!S)try{N.rotateLeft(4e-4)}catch{}N.update(),G.render(H,j),Q=requestAnimationFrame(re)};re();const Le=()=>{if(!D)return;const ye=D.clientWidth,Pe=D.clientHeight||O;j.aspect=ye/Pe,j.updateProjectionMatrix(),G.setSize(ye,Pe)};return window.addEventListener("resize",Le),()=>{cancelAnimationFrame(Q),window.removeEventListener("resize",Le),G.domElement.removeEventListener("pointerdown",B),G.domElement.removeEventListener("wheel",B),window.removeEventListener("keydown",B),N.dispose(),G.dispose(),G.domElement.parentElement===D&&D.removeChild(G.domElement)}},[t,o,x,b.pos,b.target]),u.jsx("div",{ref:i,className:`${e??"w-full h-[520px] rounded-2xl overflow-hidden bg-transparent"} relative`,children:l>0&&l<100&&u.jsx("div",{className:"absolute inset-0 grid place-items-center bg-black/40",children:u.jsxs("div",{className:"w-64",children:[u.jsxs("div",{className:"text-center text-xs mb-2",children:["Loading ",l,"%"]}),u.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-white/70",style:{width:`${l}%`}})})]})})})}const z7=Object.freeze(Object.defineProperty({__proto__:null,default:OP},Symbol.toStringTag,{value:"Module"})),V7=["Professional-grade robotics without massive upfront cost","Monthly rental with full support and maintenance","Perfect for events, demonstrations, and brand activations"];function H7(){const t=Ni(),[e,n]=fo(),i={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:t?.01:.8,ease:"easeOut"}}},s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:t?0:.2}}};return u.jsxs("section",{ref:e,className:"py-20 sm:py-28 md:py-32 relative overflow-hidden","data-testid":"meet-talia-section",children:[u.jsxs("div",{className:"absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-[#1a0f2e] via-60% to-black"}),u.jsx("div",{className:"absolute -top-40 -left-20 w-[520px] h-[520px] rounded-full bg-neon-purple/20 blur-[120px]"}),u.jsx("div",{className:"absolute -bottom-40 -right-20 w-[520px] h-[520px] rounded-full bg-neon-blue/10 blur-[120px]"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(60%_50%_at_50%_40%,rgba(0,0,0,0.35),transparent_60%)]"})]}),u.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 sm:gap-12 md:gap-16 items-center",children:[u.jsxs(he.div,{initial:"hidden",animate:n?"visible":"hidden",variants:s,children:[u.jsx(he.h2,{className:"text-3xl sm:text-4xl md:text-6xl font-black mb-4 sm:mb-6 md:mb-8 gradient-text neon-glow leading-tight",variants:i,"data-testid":"meet-talia-headline",children:"Meet TALIA"}),u.jsx(he.p,{className:"text-base sm:text-lg md:text-xl text-gray-300 mb-6 sm:mb-8 leading-relaxed",variants:i,"data-testid":"talia-description",children:"The humanoid AI robot that steals the spotlight. She moves with human elegance, thinks with AI precision, and soon to be your autonomous AI-powered event photographer."}),u.jsx(he.ul,{className:"space-y-3 sm:space-y-4 mb-8 sm:mb-10 md:mb-12",variants:s,children:V7.map((r,o)=>u.jsxs(he.li,{className:"flex items-start sm:items-center text-sm sm:text-base md:text-lg",variants:i,"data-testid":`talia-feature-${o}`,children:[u.jsx(ED,{className:"text-neon-green mr-3 sm:mr-4 mt-0.5 sm:mt-0 flex-shrink-0",size:20}),u.jsx("span",{className:"leading-relaxed",children:r})]},o))}),u.jsx(he.div,{variants:i,children:u.jsx($e,{size:"lg",variant:"creativePrimary",className:"group w-full md:w-auto text-base sm:text-lg py-6","data-testid":"discover-talia",children:"Discover Talia"})})]}),u.jsx(he.div,{className:"relative",initial:"hidden",animate:n?"visible":"hidden",variants:i,children:u.jsxs("div",{className:"relative rounded-2xl overflow-hidden",children:[u.jsx(OP,{src:"/models/robot-talia.glb",className:"w-full h-[380px] sm:h-[480px] md:h-[540px] rounded-2xl bg-transparent"}),u.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 glass-effect px-3 sm:px-4 py-1.5 sm:py-2 rounded-full","data-testid":"live-indicator",children:u.jsx("span",{className:"text-xs sm:text-sm font-semibold text-neon-green",children:"● LIVE"})})]})})]})})]})}const G7=[{id:"production",title:"Personalized Merch",description:"End-to-end content creation and brand storytelling",video:"/videos/tata-notebook.mp4",gradient:"from-neon-purple/0 to-neon-purple/60",href:"/personalised-merch"},{id:"hybrid-experiences",title:"Experiential Marketing",description:"Seamless blend of physical and digital interactions",video:"/videos/philips-coasters.mp4",gradient:"from-neon-blue/0 to-neon-blue/60",href:"/experiential-marketing"},{id:"gamification",title:"Gamification",description:"Interactive challenges and competitive experiences",video:"/videos/gamification-iboothme.mp4",gradient:"from-neon-green/0 to-neon-green/60",href:"/gamifications"},{id:"web-app",title:"Tailored Software Solutions",description:"Custom digital platforms and brand ecosystems",video:"/videos/tailored.mp4",gradient:"from-orange-500/0 to-orange-500/60",href:"/get-ideas#software"}];function W7(){const t=Ni(),[e,n]=fo(),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:t?0:.2}}},s={hidden:{opacity:0,y:50,rotateX:-15},visible:{opacity:1,y:0,rotateX:0,transition:{duration:t?.01:.6,ease:"easeOut"}}};return u.jsxs("section",{ref:e,className:"py-20 sm:py-28 md:py-32 relative overflow-hidden","data-testid":"beyond-booths-section",children:[u.jsxs("div",{className:"absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-[#0b0b12] to-black"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(60%_60%_at_50%_15%,rgba(112,66,210,0.12),transparent_60%)]"})]}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsxs(he.div,{className:"text-center mb-12 sm:mb-16 md:mb-20",initial:"hidden",animate:n?"visible":"hidden",variants:s,children:[u.jsx("h2",{className:"text-3xl sm:text-4xl md:text-6xl font-black mb-4 sm:mb-6 gradient-text leading-tight","data-testid":"beyond-booths-headline",children:"Beyond Photo Booths"}),u.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-400 max-w-3xl mx-auto px-1","data-testid":"beyond-booths-description",children:"A complete ecosystem of innovative solutions turning events into brand impact."})]}),u.jsx(he.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 sm:gap-6 lg:gap-7",initial:"hidden",animate:n?"visible":"hidden",variants:i,children:G7.map(r=>u.jsxs(he.a,{href:r.href,className:"group relative overflow-hidden rounded-2xl sm:rounded-3xl aspect-[10/14] sm:aspect-[10/16] cursor-pointer bg-white/5 border border-white/10 shadow-[0_10px_30px_rgba(0,0,0,0.35)]",variants:s,whileHover:{scale:t?1:1.02},"data-testid":`service-card-${r.id}`,children:[u.jsx("video",{src:r.video,className:"absolute inset-0 z-0 w-full h-full object-cover object-center transition-transform duration-700 will-change-transform group-hover:scale-105",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto"}),u.jsx("div",{className:"absolute inset-0 z-[0] bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),u.jsx("div",{className:`absolute inset-0 z-[1] bg-gradient-to-r ${r.gradient} opacity-0 group-hover:opacity-30 transition-opacity duration-500`}),u.jsx("div",{className:"absolute -top-10 -left-10 w-40 sm:w-56 h-40 sm:h-56 rounded-full bg-neon-purple/20 blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),u.jsx("div",{className:"absolute -bottom-16 -right-16 w-40 sm:w-56 h-40 sm:h-56 rounded-full bg-neon-blue/20 blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),u.jsx("div",{className:"absolute z-[2] -inset-y-12 -left-1/2 w-3/4 sm:w-2/3 rotate-12 bg-gradient-to-r from-white/0 via-white/20 to-white/0 opacity-15 group-hover:opacity-35 transition-opacity duration-500"}),u.jsxs("div",{className:"absolute z-[3] bottom-5 sm:bottom-6 left-5 sm:left-6 right-5 sm:right-6",children:[u.jsx("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold mb-1.5 sm:mb-2 translate-y-3 group-hover:translate-y-0 transition-transform duration-500 drop-shadow-[0_6px_24px_rgba(0,0,0,0.45)]","data-testid":`service-title-${r.id}`,children:r.title}),u.jsx("p",{className:"text-sm sm:text-base text-gray-100/90 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100","data-testid":`service-description-${r.id}`,children:r.description})]}),u.jsx("div",{className:"absolute z-[3] top-3 sm:top-4 right-3 sm:right-4 px-2.5 sm:px-3 py-1 rounded-full text-[10px] sm:text-xs font-semibold bg-white/10 text-white/90 border border-white/20 backdrop-blur-sm",children:"Explore"})]},r.id))})]})]})}const X7=[{id:"brand-engagements",value:6,suffix:"M+",label:"Brand Engagements"},{id:"client-satisfaction",value:98,suffix:"%",label:"Client Satisfaction"},{id:"brand-partnerships",value:150,suffix:"+",label:"Premium Brand Partnerships"}];function $7({value:t,suffix:e}){const n=M.useRef(null),i=E2(n),s=yy(0),r=T4(s,{duration:2e3,bounce:0,damping:40,stiffness:200}),o=Ni();return M.useEffect(()=>{i&&!o?(s.set(0),s.set(t)):o&&r.set(t)},[i,s,t,o,r]),M.useEffect(()=>r.on("change",a=>{const l=Math.max(0,Math.min(a,t));n.current&&(n.current.textContent=Math.round(l).toString()+e)}),[r,e]),u.jsx("span",{ref:n,children:o?t+e:"0"+e})}function q7(){const t=Ni(),e=M.useRef(null),n=E2(e,{once:!0}),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:t?0:.3}}},s={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:t?.01:.8,ease:"easeOut"}}};return u.jsxs("section",{ref:e,className:"py-16 sm:py-20 md:py-32 relative overflow-hidden","data-testid":"stats-section",children:[u.jsxs("div",{className:"absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-[#0b0b12] to-black"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(60%_60%_at_50%_20%,rgba(112,66,210,0.12),transparent_60%)]"})]}),u.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 text-center",children:[u.jsx(he.h2,{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-3 sm:mb-4 gradient-text leading-tight",initial:"hidden",animate:n?"visible":"hidden",variants:s,"data-testid":"stats-headline",children:"Proven Impact"}),u.jsx(he.p,{className:"text-sm sm:text-base md:text-lg text-white/70 max-w-2xl mx-auto mb-10 sm:mb-12 md:mb-14 px-1",initial:"hidden",animate:n?"visible":"hidden",variants:s,children:"Measurable performance in social reach, engagement, and activations."}),u.jsx(he.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 md:gap-8",initial:"hidden",animate:n?"visible":"hidden",variants:i,children:X7.map(r=>u.jsx(he.div,{variants:s,children:u.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl lg:rounded-[2.5rem] border border-white/10 bg-white/5 p-6 sm:p-7 md:p-8 text-center overflow-hidden transition-all duration-500 hover:bg-gradient-to-br hover:from-white/10 hover:to-white/5 hover:border-white/20",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(120px_60px_at_50%_0%,rgba(255,255,255,0.12),transparent)]"}),u.jsx("div",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-1.5 sm:mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400","data-testid":`stat-value-${r.id}`,children:u.jsx($7,{value:r.value,suffix:r.suffix})}),u.jsx("p",{className:"text-sm sm:text-base md:text-lg text-white/75 tracking-wide","data-testid":`stat-label-${r.id}`,children:r.label})]})},r.id))})]})]})}const wf=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Yn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));wf.displayName="Card";const Y7=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Yn("flex flex-col space-y-1.5 p-6",t),...e}));Y7.displayName="CardHeader";const K7=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Yn("text-2xl font-semibold leading-none tracking-tight",t),...e}));K7.displayName="CardTitle";const Z7=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Yn("text-sm text-muted-foreground",t),...e}));Z7.displayName="CardDescription";const jP=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Yn("p-6 pt-0",t),...e}));jP.displayName="CardContent";const Q7=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Yn("flex items-center p-6 pt-0",t),...e}));Q7.displayName="CardFooter";function J7(){const t=Ni(),[e,n]=fo(),i={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:t?.01:.6,ease:"easeOut"}}},s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:t?0:.2}}};return u.jsxs("section",{ref:e,className:"relative py-20 sm:py-28 md:py-32 overflow-hidden","data-testid":"cta-split-section",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute -top-40 -left-20 w-[520px] h-[520px] rounded-full bg-neon-purple/20 blur-[120px]"}),u.jsx("div",{className:"absolute -bottom-32 -right-16 w-[480px] h-[480px] rounded-full bg-neon-blue/20 blur-[120px]"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(50%_50%_at_50%_20%,rgba(255,255,255,0.06),transparent_60%)]"})]}),u.jsxs(he.div,{className:"max-w-7xl mx-auto px-4 sm:px-6",initial:"hidden",animate:n?"visible":"hidden",variants:s,children:[u.jsxs("div",{className:"text-center mb-10 sm:mb-12 md:mb-14",children:[u.jsx("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 rounded-full bg-white/10 border border-white/15 text-[10px] sm:text-xs tracking-wide uppercase text-white/80 mb-3 sm:mb-4",children:"The Hub"}),u.jsx("h3",{className:"text-3xl sm:text-4xl md:text-5xl font-black tracking-tight mb-2 sm:mb-3 leading-tight",children:"Get Ideas"}),u.jsx("p",{className:"text-sm sm:text-base text-white/80 max-w-2xl mx-auto px-1",children:"1. 250+ case studies, AI innovations, trendy results, and secret lab creations — all in one curated hub."})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 sm:gap-8 md:gap-10 items-stretch relative",children:[u.jsx(he.div,{variants:i,children:u.jsxs(wf,{className:"group rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 h-full bg-white/8 border border-white/15 shadow-[0_10px_30px_rgba(0,0,0,0.35)] backdrop-blur-xl relative overflow-hidden cursor-pointer","data-testid":"get-ideas-card",children:[u.jsx("div",{className:"pointer-events-none absolute -inset-y-20 -left-1/2 w-3/4 sm:w-2/3 rotate-12 bg-gradient-to-r from-white/0 via-white/15 to-white/0 opacity-20 group-hover:opacity-40 transition-opacity duration-500"}),u.jsxs("div",{className:"text-center h-full flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-2xl mx-auto mb-5 sm:mb-6 md:mb-8 grid place-items-center bg-[#7042D2] shadow-[0_10px_30px_rgba(112,66,210,0.45)]",children:[u.jsx(Gp,{size:26,className:"sm:hidden"}),u.jsx(Gp,{size:30,className:"hidden sm:block md:hidden"}),u.jsx(Gp,{size:32,className:"hidden md:block"})]}),u.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold mb-3 sm:mb-4 gradient-text","data-testid":"get-ideas-title",children:"The Hub"}),u.jsx("p",{className:"text-sm sm:text-base text-white/85 mb-6 sm:mb-8 leading-relaxed","data-testid":"get-ideas-description",children:"Dive into a collection of engagement tools, AI effects, immersive features, campaign insights, and content-worthy ideas. All in one place, ready to plug into your next activation."})]}),u.jsx(Yi,{breakpoint:"md",children:u.jsx("a",{href:"/get-ideas",children:u.jsxs($e,{size:"lg",variant:"creativePrimary",className:"group w-full md:w-auto text-base sm:text-lg py-5 sm:py-6","data-testid":"browse-gallery",children:["Explore The Hub",u.jsx(iA,{className:"ml-2 group-hover:translate-x-2 transition-transform duration-300"})]})})})]})]})}),u.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 -translate-x-1/2 border-l border-white/10","aria-hidden":"true"}),u.jsx(he.div,{variants:i,children:u.jsxs(wf,{className:"group rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 h-full bg-white/8 border border-white/15 shadow-[0_10px_30px_rgba(0,0,0,0.35)] backdrop-blur-xl relative overflow-hidden cursor-pointer","data-testid":"request-customization-card",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),u.jsxs("div",{className:"text-center h-full flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-2xl mx-auto mb-5 sm:mb-6 md:mb-8 grid place-items-center bg-[#7042D2] shadow-[0_10px_30px_rgba(112,66,210,0.45)]",children:[u.jsx(Wp,{size:26,className:"sm:hidden"}),u.jsx(Wp,{size:30,className:"hidden sm:block md:hidden"}),u.jsx(Wp,{size:32,className:"hidden md:block"})]}),u.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold mb-3 sm:mb-4 gradient-text","data-testid":"request-customization-title",children:"Request Customization"}),u.jsx("p",{className:"text-sm sm:text-base text-white/85 mb-6 sm:mb-8 leading-relaxed","data-testid":"request-customization-description",children:"Collaborate with our team to create a bespoke solution tailored specifically to your brands vision and activation objectives."})]}),u.jsx(Yi,{breakpoint:"md",children:u.jsxs($e,{size:"lg",variant:"creativeSecondary",className:"group w-full md:w-auto text-base sm:text-lg py-5 sm:py-6","data-testid":"start-project",children:["Request Customization",u.jsx(LD,{className:"ml-2 group-hover:translate-x-2 transition-transform duration-300"})]})})]})]})})]})]})]})}function e9(){const t=Ni(),[e,n]=fo(),i={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:t?.01:.8,ease:"easeOut"}}},s=Array.from({length:5},(r,o)=>({id:o,left:`${10+o*20}%`,top:`${20+o*15%70}%`,delay:`${o*3}s`,color:o%2===0?"bg-neon-purple":"bg-neon-blue"}));return u.jsxs("section",{ref:e,className:"py-20 sm:py-28 md:py-32 relative overflow-hidden","data-testid":"analytics-section",children:[u.jsx("video",{className:"absolute inset-0 w-full h-full object-cover",style:{zIndex:-2},src:"/video/last-section.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto"}),u.jsx("div",{className:"absolute inset-0 bg-black/40"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-900/20 to-purple-900/20"}),u.jsx("div",{className:"absolute inset-0 pointer-events-none","data-testid":"particles-container",children:s.map(r=>u.jsx("div",{className:`absolute w-1 h-1 ${r.color} rounded-full animate-particle-drift opacity-60`,style:{left:r.left,top:r.top,animationDelay:r.delay,opacity:.5}},r.id))}),u.jsxs(he.div,{className:"relative z-10 max-w-4xl mx-auto text-center px-4 sm:px-6",initial:"hidden",animate:n?"visible":"hidden",variants:i,children:[u.jsx(he.h2,{className:"text-3xl sm:text-4xl md:text-6xl font-black mb-5 sm:mb-7 md:mb-8 gradient-text neon-glow leading-tight",variants:i,"data-testid":"analytics-headline",children:"Every activation is built for impact and proven with detailed analytics"}),u.jsx(he.p,{className:"text-base sm:text-lg md:text-xl text-gray-300 mb-8 sm:mb-10 md:mb-12 max-w-2xl mx-auto leading-relaxed px-1",variants:i,"data-testid":"analytics-description",children:"Real-time insights, comprehensive reporting, and actionable data to maximize your brand's return on experience"}),u.jsx(he.div,{variants:i,children:u.jsx(Yi,{breakpoint:"md",className:"justify-center",children:u.jsxs($e,{size:"lg",variant:"creativePrimary",className:"group w-full md:w-auto text-base sm:text-lg py-6","data-testid":"see-what-you-get",children:["See What You Get",u.jsx(kD,{className:"ml-2"})]})})})]})]})}const t9=[{alt:"Adidas",webp:"/partners/adidas-logo.webp"},{alt:"Dell",webp:"/partners/dell-logo.webp"},{alt:"Nike",webp:"/partners/nike-logo.webp"},{alt:"Philips",webp:"/partners/philip-logo.webp"},{alt:"Samsung",webp:"/partners/samsung-logo.webp"},{alt:"Saudi Electricity",webp:"/partners/sep-logo.webp"},{alt:"TikTok",webp:"/partners/tik-tok-logo.webp"}];function n9({item:t}){return u.jsx("div",{className:"inline-block mx-4 sm:mx-10 md:mx-20 opacity-90 hover:opacity-100 transition-opacity duration-300",children:u.jsx("div",{className:"rounded-md bg-white px-4 py-2 shadow-sm",children:u.jsx("img",{src:t.webp,alt:t.alt,"aria-label":`${t.alt} logo`,className:"h-8 sm:h-10 md:h-12 min-w-[40px] sm:min-w-[56px] w-auto object-contain block mix-blend-normal opacity-100 filter-none",loading:"lazy",draggable:!1,onError:e=>{e.currentTarget.style.display="inline-block",e.currentTarget.style.height="1.75rem"}})})})}function i9({items:t,reverse:e=!1}){const n=Ni(),i=[...t,...t];return u.jsx("div",{className:`flex items-center whitespace-nowrap will-change-transform min-h-[2.75rem] sm:min-h-[3rem] relative z-10 ${n?"":"animate-marquee-centered sm:hover:pause"}`,"data-testid":"marquee-container",onMouseEnter:s=>{n||(s.currentTarget.style.animationPlayState="paused")},onMouseLeave:s=>{n||(s.currentTarget.style.animationPlayState="running")},onPointerDown:s=>{n||(s.currentTarget.style.animationPlayState="paused")},onPointerUp:s=>{n||(s.currentTarget.style.animationPlayState="running")},onPointerCancel:s=>{n||(s.currentTarget.style.animationPlayState="running")},children:i.map((s,r)=>u.jsx(n9,{item:s},`${s.alt}-${r}`))})}function s9(){const t=Ni(),[e,n]=fo(),i={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:t?.01:.8,ease:"easeOut"}}};return u.jsx("section",{ref:e,className:"py-16 sm:py-24 md:py-32 bg-gradient-to-b from-white to-gray-100 overflow-hidden","data-testid":"clients-marquee-section",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsxs(he.div,{className:"text-center mb-10 sm:mb-14 md:mb-20",initial:"hidden",animate:n?"visible":"hidden",variants:i,children:[u.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-3 sm:mb-6 bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-600 leading-tight","data-testid":"clients-headline",children:"Trusted by Premium Brands"}),u.jsx("p",{className:"text-base sm:text-lg text-gray-600 px-1","data-testid":"clients-description",children:"Where Global Brands Come to Engage! From global sportswear to luxury beauty, we deliver activations that redefine engagement."})]}),u.jsx(he.div,{className:"relative overflow-hidden",initial:"hidden",animate:n?"visible":"hidden",variants:i,children:u.jsx("div",{className:"relative rounded-xl",children:u.jsx("div",{className:"relative z-10 py-2",children:u.jsx(i9,{items:t9})})})})]})})}const r9=[{name:"PhotoBooths",href:"/products"},{name:"AI Tech",href:"/ai-technology"},{name:"Analytics",href:"/analytics"},{name:"Robotics",href:"/robotics"},{name:"Personalized Merch",href:"/personalised-merch"},{name:"Experiential Marketing",href:"/experiential-marketing"},{name:"Gamifications",href:"/gamifications"},{name:"Tailored Software Solutions",href:"/tailored-software-solutions"},{name:"The Hub",href:"/get-ideas"}],o9=[{name:"Our Story",href:"/our-story"},{name:"Contact",href:"/contact-us"},{name:"Career",href:"#career"}],a9=["Privacy Policy","Terms & Conditions","Cookie Policy","GDPR Compliance"];function pi(){const t=Ni(),[e,n]=fo(),i={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:t?.01:.8,ease:"easeOut"}}},s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:t?0:.1}}};return u.jsxs("footer",{ref:e,className:"relative py-16 sm:py-20 md:py-24 overflow-hidden","data-testid":"footer-section",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#05060c] via-[#070910] to-[#05060c]"}),u.jsx("div",{className:"pointer-events-none absolute -top-32 -left-28 w-[560px] h-[560px] rounded-full bg-purple-600/8 blur-[160px]"}),u.jsx("div",{className:"pointer-events-none absolute -bottom-32 -right-28 w-[560px] h-[560px] rounded-full bg-indigo-500/8 blur-[160px]"}),u.jsxs(he.div,{className:"relative z-10 max-w-7xl mx-auto px-6",initial:"hidden",animate:n?"visible":"hidden",variants:s,children:[u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:gap-8 md:gap-10 mb-10 sm:mb-12 md:mb-16",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 sm:gap-8 md:gap-10",children:[u.jsxs(he.div,{variants:i,className:"rounded-2xl border border-white/10 bg-white/5/10 backdrop-blur-sm p-5 sm:p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("img",{src:"/images/icon.svg",width:40,height:40,alt:"Iboothme",className:"opacity-90"}),u.jsx("div",{className:"text-2xl font-bold tracking-tight",children:"Iboothme"})]}),u.jsxs("div",{className:"space-y-3 text-sm sm:text-base",children:[u.jsx("p",{className:"text-white/85",children:"Providing Premium Experiences since 2011"}),u.jsxs("div",{className:"flex items-center gap-3 text-white/85",children:[u.jsx(sA,{size:16,"aria-hidden":!0,className:"opacity-80"}),u.jsx("a",{href:"mailto:info@iboothme.com",className:"hover:underline underline-offset-4",children:"info@iboothme.com"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-white/85",children:[u.jsx(Rv,{size:16,"aria-hidden":!0,className:"opacity-80"}),u.jsx("a",{href:"tel:+97144488563",className:"hover:underline underline-offset-4",children:"+971 4 448 8563"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-white/80",children:[u.jsx(rA,{size:16,"aria-hidden":!0,className:"opacity-80"}),u.jsx("span",{className:"sr-only",children:"Regions:"}),u.jsx("div",{className:"flex flex-wrap gap-2","aria-label":"Operating regions",children:["UAE","KSA","Qatar"].map(r=>u.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs bg-white/10 border border-white/15 text-white/85",children:r},r))})]})]})]}),u.jsxs(he.div,{variants:i,className:"rounded-2xl border border-white/10 bg-white/5/10 backdrop-blur-sm p-5 sm:p-6",children:[u.jsx("h2",{className:"text-base sm:text-lg font-semibold tracking-wide text-white mb-4",children:"Services"}),u.jsx("ul",{className:"space-y-2.5 text-[15px]",children:r9.map(({name:r,href:o})=>u.jsx("li",{children:o.startsWith("/")?u.jsx(Hi,{href:o,children:u.jsx("a",{className:"text-white/80 hover:text-white transition-colors duration-200 underline-offset-4 hover:underline",children:r})},r):u.jsx("a",{href:o,className:"text-white/80 hover:text-white transition-colors duration-200 underline-offset-4 hover:underline",children:r},r)},r))})]}),u.jsxs(he.div,{variants:i,className:"rounded-2xl border border-white/10 bg-white/5/10 backdrop-blur-sm p-5 sm:p-6",children:[u.jsx("h2",{className:"text-base sm:text-lg font-semibold tracking-wide text-white mb-4",children:"Company"}),u.jsx("ul",{className:"space-y-2.5 text-[15px]",children:o9.map(({name:r,href:o})=>u.jsx("li",{children:o.startsWith("/")?u.jsx(Hi,{href:o,children:u.jsx("a",{className:"text-white/80 hover:text-white transition-colors duration-200 underline-offset-4 hover:underline",children:r})},r):u.jsx("a",{href:o,className:"text-white/80 hover:text-white transition-colors duration-200 underline-offset-4 hover:underline",children:r},r)},r))})]}),u.jsxs(he.div,{variants:i,className:"rounded-2xl border border-white/10 bg-white/5/10 backdrop-blur-sm p-5 sm:p-6",children:[u.jsx("h2",{className:"text-base sm:text-lg font-semibold tracking-wide text-white mb-4","data-testid":"footer-legal-title",children:"Legal"}),u.jsx("ul",{className:"space-y-2.5 text-[15px]",children:a9.map(r=>u.jsx("li",{children:u.jsx("a",{href:`#${r.toLowerCase().replace(/[^a-z&]/gi,"-").replace(/-+/g,"-")}`,className:"text-white/80 hover:text-white transition-colors duration-200 underline-offset-4 hover:underline","data-testid":`footer-legal-${r.toLowerCase().replace(/[^a-z&]/gi,"-").replace(/-+/g,"-")}`,children:r})},r))})]})]})}),u.jsx(he.div,{className:"pt-6 md:pt-8 border-t border-white/10",variants:i,children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[u.jsx("div",{className:"text-white/60 text-center md:text-left text-xs md:text-sm","data-testid":"footer-copyright",children:"2025 Iboothme. All rights reserved."}),u.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-3.5","aria-label":"footer social links",children:[u.jsx("a",{href:"https://instagram.com/iboothme",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"group",children:u.jsx($e,{size:"icon",variant:"outline",className:"rounded-full border-white/15 bg-white/5 text-white/80 hover:text-white hover:bg-white/10 transition-all duration-200","data-testid":"footer-social-instagram",children:u.jsx(PD,{size:18})})}),u.jsx("a",{href:"https://x.com/iboothme",target:"_blank",rel:"noopener noreferrer","aria-label":"X",className:"group",children:u.jsx($e,{size:"icon",variant:"outline",className:"rounded-full border-white/15 bg-white/5 text-white/80 hover:text-white hover:bg-white/10 transition-all duration-200","data-testid":"footer-social-twitter",children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",className:"block",children:u.jsx("path",{fill:"currentColor",d:"M18.244 2H21l-6.49 7.41L22 22h-6.828l-4.255-5.512L5.91 22H3.154l6.93-7.912L2 2h6.912l3.843 5.058L18.244 2Zm-2.394 18h2.02L7.32 4H5.3l10.55 16Z"})})})}),u.jsx("a",{href:"https://linkedin.com/company/iboothme",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"group",children:u.jsx($e,{size:"icon",variant:"outline",className:"rounded-full border-white/15 bg-white/5 text-white/80 hover:text-white hover:bg-white/10 transition-all duration-200","data-testid":"footer-social-linkedin",children:u.jsx(RD,{size:18})})})]})]})})]})]})}const Eh={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Gu{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const l9=new ap(-1,1,1,-1,0,1);class c9 extends Ii{constructor(){super(),this.setAttribute("position",new Qi([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Qi([0,2,0,0,2,0],2))}}const u9=new c9;class FP{constructor(e){this._mesh=new En(u9,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,l9)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class d9 extends Gu{constructor(e,n="tDiffuse"){super(),this.textureID=n,this.uniforms=null,this.material=null,e instanceof hn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=vf.clone(e.uniforms),this.material=new hn({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new FP(this.material)}render(e,n,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class z1 extends Gu{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,i){const s=e.getContext(),r=e.state;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),r.buffers.stencil.setFunc(s.ALWAYS,o,4294967295),r.buffers.stencil.setClear(a),r.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.color.setMask(!0),r.buffers.depth.setMask(!0),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(s.EQUAL,1,4294967295),r.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),r.buffers.stencil.setLocked(!0)}}class h9 extends Gu{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class f9{constructor(e,n){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),n===void 0){const i=e.getSize(new Ae);this._width=i.width,this._height=i.height,n=new Zi(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:rr}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new d9(Eh),this.copyPass.material.blending=sr,this.clock=new EP}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let i=!1;for(let s=0,r=this.passes.length;s<r;s++){const o=this.passes[s];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(s),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),o.needsSwap){if(i){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}z1!==void 0&&(o instanceof z1?i=!0:o instanceof h9&&(i=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new Ae);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const i=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(i,s),this.renderTarget2.setSize(i,s);for(let r=0;r<this.passes.length;r++)this.passes[r].setSize(i,s)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class p9 extends Gu{constructor(e,n,i=null,s=null,r=null){super(),this.scene=e,this.camera=n,this.overrideMaterial=i,this.clearColor=s,this.clearAlpha=r,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Oe}render(e,n,i){const s=e.autoClear;e.autoClear=!1;let r,o;this.overrideMaterial!==null&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(r=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(r),this.overrideMaterial!==null&&(this.scene.overrideMaterial=o),e.autoClear=s}}const m9={name:"LuminosityHighPassShader",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Oe(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Dl extends Gu{constructor(e,n=1,i,s){super(),this.strength=n,this.radius=i,this.threshold=s,this.resolution=e!==void 0?new Ae(e.x,e.y):new Ae(256,256),this.clearColor=new Oe(0,0,0),this.needsSwap=!1,this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let r=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new Zi(r,o,{type:rr}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let d=0;d<this.nMips;d++){const h=new Zi(r,o,{type:rr});h.texture.name="UnrealBloomPass.h"+d,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const f=new Zi(r,o,{type:rr});f.texture.name="UnrealBloomPass.v"+d,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),r=Math.round(r/2),o=Math.round(o/2)}const a=m9;this.highPassUniforms=vf.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=s,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new hn({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const l=[3,5,7,9,11];r=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let d=0;d<this.nMips;d++)this.separableBlurMaterials.push(this._getSeparableBlurMaterial(l[d])),this.separableBlurMaterials[d].uniforms.invSize.value=new Ae(1/r,1/o),r=Math.round(r/2),o=Math.round(o/2);this.compositeMaterial=this._getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=n,this.compositeMaterial.uniforms.bloomRadius.value=.1;const c=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=c,this.bloomTintColors=[new U(1,1,1),new U(1,1,1),new U(1,1,1),new U(1,1,1),new U(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,this.copyUniforms=vf.clone(Eh.uniforms),this.blendMaterial=new hn({uniforms:this.copyUniforms,vertexShader:Eh.vertexShader,fragmentShader:Eh.fragmentShader,blending:_u,depthTest:!1,depthWrite:!1,transparent:!0}),this._oldClearColor=new Oe,this._oldClearAlpha=1,this._basic=new Js,this._fsQuad=new FP(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this._basic.dispose(),this._fsQuad.dispose()}setSize(e,n){let i=Math.round(e/2),s=Math.round(n/2);this.renderTargetBright.setSize(i,s);for(let r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(i,s),this.renderTargetsVertical[r].setSize(i,s),this.separableBlurMaterials[r].uniforms.invSize.value=new Ae(1/i,1/s),i=Math.round(i/2),s=Math.round(s/2)}render(e,n,i,s,r){e.getClearColor(this._oldClearColor),this._oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),r&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this._fsQuad.material=this._basic,this._basic.map=i.texture,e.setRenderTarget(null),e.clear(),this._fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this._fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this._fsQuad.render(e);let a=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this._fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[l].uniforms.direction.value=Dl.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this._fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=Dl.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this._fsQuad.render(e),a=this.renderTargetsVertical[l];this._fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this._fsQuad.render(e),this._fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(i),this._fsQuad.render(e)),e.setClearColor(this._oldClearColor,this._oldClearAlpha),e.autoClear=o}_getSeparableBlurMaterial(e){const n=[];for(let i=0;i<e;i++)n.push(.39894*Math.exp(-.5*i*i/(e*e))/e);return new hn({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new Ae(.5,.5)},direction:{value:new Ae(.5,.5)},gaussianCoefficients:{value:n}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}_getCompositeMaterial(e){return new hn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Dl.BlurDirectionX=new Ae(1,0);Dl.BlurDirectionY=new Ae(0,1);function g9(){const t=M.useRef(null);return M.useEffect(()=>{const e=t.current;if(!e)return;const n=window.innerWidth,i=window.innerHeight,s=n<=768||window.matchMedia("(pointer:coarse)").matches,r=be=>be<=420?{scale:.58,baseZ:25,dolly:4.5}:be<=640?{scale:.62,baseZ:24.5,dolly:4.7}:be<=980?{scale:.7,baseZ:23.5,dolly:5.2}:be<=1440?{scale:.98,baseZ:22.3,dolly:5.8}:be<=1920?{scale:1.12,baseZ:21.6,dolly:6.1}:{scale:1.28,baseZ:20.6,dolly:6.5};let o=r(n);const a=new fP,l=new Tn(s?60:55,n/i,.1,1e3);l.position.set(0,0,16);const c=new IP({alpha:!0,antialias:!s,powerPreference:s?"low-power":"high-performance"});c.setSize(n,i),c.setPixelRatio(Math.min(window.devicePixelRatio||1,s?1:1.35)),c.toneMapping=My,c.outputEncoding=void 0,c.setClearColor(0,0),e.appendChild(c.domElement);const d=new f9(c),h=new p9(a,l);d.addPass(h);const f=new Dl(new Ae(n,i),s?.05:.1,.1,.5);f.threshold=.85,f.strength=s?.02:.04,f.radius=s?.12:.18,d.addPass(f);const p=s?.45:.8,x=s?1.3:1.7,v=new Oe("#7042d2"),g=new Oe("#7042d2");new Rl(2,2),new hn({uniforms:{uTime:{value:0},uResolution:{value:new Ae(n,i)},uColor1:{value:new Oe("#FFD9D1")},uColor2:{value:new Oe("#7042d2")},uAccentA:{value:v.clone().multiplyScalar(.6)},uAccentB:{value:g.clone().multiplyScalar(.6)},uPointer:{value:new Ae(-10,-10)},uPointerStrength:{value:0},uPulse:{value:0},uPanSpeed:{value:new Ae(.006,.004)},uSpotStrength:{value:.2},uSpotWidth:{value:.6}},vertexShader:`
        varying vec2 vUv;
        void main(){ vUv = uv; gl_Position = vec4(position, 1.0); }
      `,fragmentShader:`
        varying vec2 vUv; uniform float uTime; uniform vec2 uResolution;
        uniform vec3 uColor1, uColor2, uAccentA, uAccentB; 
        uniform vec2 uPointer; uniform float uPointerStrength; uniform float uPulse;
        uniform vec2 uPanSpeed; uniform float uSpotStrength; uniform float uSpotWidth;
        vec3 mod289(vec3 x){ return x - floor(x*(1.0/289.0))*289.0; }
        vec2 mod289(vec2 x){ return x - floor(x*(1.0/289.0))*289.0; }
        vec3 permute(vec3 x){ return mod289(((x*34.0)+1.0)*x); }
        float snoise(vec2 v){
          const vec4 C = vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);
          vec2 i = floor(v + dot(v, C.yy)); vec2 x0 = v - i + dot(i, C.xx);
          vec2 i1 = (x0.x > x0.y) ? vec2(1.0,0.0) : vec2(0.0,1.0);
          vec4 x12 = x0.xyxy + C.xxzz; x12.xy -= i1; i = mod289(i);
          vec3 p = permute(permute(i.y + vec3(0.0, i1.y, 1.0)) + i.x + vec3(0.0, i1.x, 1.0));
          vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);
          m = m*m; m = m*m; vec3 x = 2.0*fract(p* C.www) - 1.0; vec3 h = abs(x) - 0.5;
          vec3 ox = floor(x + 0.5); vec3 a0 = x - ox; m *= 1.7928429 - 0.8537347*(a0*a0 + h*h);
          vec3 g; g.x = a0.x*x0.x + h.x*x0.y; g.yz = a0.yz*x12.xz + h.yz*x12.yw; return 130.0*dot(m,g);
        }
        float fbm(vec2 p){ float v=0.0; float a=0.5; for(int i=0;i<5;i++){ v += a*snoise(p); p*=2.02; a*=0.5; } return v; }
        void main(){
          vec2 uv = vUv;
          // slow pan
          uv += uPanSpeed * uTime;
          // subtle pointer warp
          float pd = distance(uv, uPointer);
          float warp = uPointerStrength * smoothstep(0.4, 0.0, pd) * 0.02;
          uv += normalize(uv - uPointer) * warp;
          float vig = smoothstep(0.95, 0.25, length(uv-0.5));
          vec3 base = mix(uColor1, uColor2, uv.y);
          float n = fbm(uv*3.0 + vec2(uTime*0.02, uTime*0.015));
          float m = fbm(uv*6.0 - vec2(uTime*0.01, uTime*0.02));
          float cloud = clamp(n*0.6 + m*0.4, 0.0, 1.0);
          vec3 accent = mix(uAccentA, uAccentB, uv.x + 0.1*sin(uTime*0.1));
          vec3 color = base + accent * cloud * 0.45;
          // pointer glow + click ripple
          float glow = uPointerStrength * smoothstep(0.35, 0.0, pd);
          float ring = uPulse * smoothstep(0.02, 0.0, abs(pd - (0.15 + 0.1*sin(uTime*0.8))));
          color += (accent * 0.6 + vec3(0.1,0.15,0.25)) * (glow * 0.35 + ring * 0.25);
          // studio spotlight sweep (ellipse path)
          vec2 spotCenter = vec2(0.5 + 0.35 * cos(uTime * 0.08), 0.5 + 0.25 * sin(uTime * 0.08));
          float sd = distance(vUv, spotCenter);
          float spot = smoothstep(uSpotWidth, 0.0, sd) * uSpotStrength;
          color += vec3(0.12, 0.12, 0.14) * spot;
          color *= vig;
          gl_FragColor = vec4(color, 1.0);
        }
      `,depthWrite:!1,depthTest:!1});const m=new Gr,y=be=>be>=980&&be<=1600?1.35:be<980?.75:.45;m.position.y=y(window.innerWidth),a.add(m);const b=(window.devicePixelRatio||1)>1.2?2600:2e3,_=Math.floor(b*p),w=new Float32Array(_),T=new Float32Array(_),A=new Float32Array(_),E=new Float32Array(_),C=new Float32Array(_);for(let be=0;be<_;be++)w[be]=Math.random()*Math.PI*2,T[be]=Math.random()*Math.PI*2,A[be]=.18+Math.random()*.35,E[be]=Math.random()*6.28318,C[be]=Math.random();const S=new Ii,R=new Float32Array(_*3);S.setAttribute("position",new Vt(R,3)),S.setAttribute("aU",new Vt(w,1)),S.setAttribute("aTheta",new Vt(T,1)),S.setAttribute("aRadius",new Vt(A,1)),S.setAttribute("aSeed",new Vt(E,1)),S.setAttribute("aMix",new Vt(C,1));const D=new Float32Array(_*3);for(let be=0;be<_;be++){const L=be*3,P=8+Math.random()*8,X=Math.random()*Math.PI*2,$=Math.acos(2*Math.random()-1);D[L]=P*Math.sin($)*Math.cos(X),D[L+1]=P*Math.sin($)*Math.sin(X),D[L+2]=P*Math.cos($)}S.setAttribute("aOrigin",new Vt(D,3));const F=new hn({transparent:!0,depthWrite:!1,blending:_u,uniforms:{uTime:{value:0},uScale:{value:6},uSpeed:{value:.25},uSize:{value:x},uColorA:{value:v},uColorB:{value:g},uIntro:{value:0},uAssemble:{value:0},uPointer:{value:new U(9999,9999,0)},uPointerStrength:{value:0},uPulse:{value:0},uMaskCenter:{value:new Ae(.5,.5)},uMaskRadius:{value:.28}},vertexShader:`
        attribute float aU;  // base parameter along infinity curve
        attribute float aTheta; // angular offset around tube
        attribute float aRadius; // tube radius
        attribute float aSeed; // noise seed
        attribute float aMix;  // color mix
        attribute vec3 aOrigin; // intro origin
        uniform float uTime; 
        uniform float uScale;
        uniform float uSpeed;
        uniform float uSize;
        uniform float uIntro;
        uniform float uAssemble;
        uniform vec3 uPointer;
        uniform float uPointerStrength;
        uniform float uPulse;
        varying float vMix;
        varying float vAlpha;
        varying float vBoost;
        varying vec2 vNDC;
        
        vec3 infinityPos(float u, float s){
          float c = cos(u);
          float si = sin(u);
          float denom = 1.0 + c*c;
          float x = (s * si) / denom;
          float y = (s * si * c) / denom;
          return vec3(x, y, 0.0);
        }

        void main(){
          float u = aU + uTime * uSpeed; // flow along the curve
          // base point and tangent for frame
          float eps = 0.01;
          vec3 p0 = infinityPos(u, uScale);
          vec3 p1 = infinityPos(u + eps, uScale);
          vec3 T = normalize(p1 - p0);
          vec3 B = normalize(cross(T, vec3(0.0,0.0,1.0)));
          vec3 N = normalize(cross(B, T));

          // small radial pulse and noise drift
          float pulse = 0.85 + 0.15 * sin(uTime * 1.5 + aSeed);
          float r = aRadius * pulse;
          float th = aTheta + uTime * (0.3 + 0.2 * sin(aSeed));
          vec3 offset = (N * cos(th) + B * sin(th)) * r;
          vec3 target = p0 + offset;
          // assemble from origin
          float assemble = smoothstep(0.0, 1.0, uAssemble);
          vec3 pos = mix(aOrigin, target, assemble);

          // mild depth drift
          pos.z += 0.2 * sin(uTime * 0.8 + aSeed);

          vMix = aMix;
          // size attenuation + pointer interaction in world space
          vec4 worldPos = modelMatrix * vec4(pos, 1.0);
          float d = distance(worldPos.xyz, uPointer);
          float influence = smoothstep(2.5, 0.0, d); // near pointer -> 1
          float boost = uPointerStrength * influence * (1.0 + uPulse * 1.5);
          vec4 mv = viewMatrix * worldPos;
          float introSize = mix(0.4, 1.0, smoothstep(0.0, 1.0, uIntro));
          gl_PointSize = uSize * (300.0 / -mv.z) * (1.0 + 0.5 * boost) * introSize;
          vAlpha = 0.8 * pow(clamp(uIntro, 0.0, 1.0), 1.2) * assemble;
          vBoost = boost;
          vec4 clip = projectionMatrix * mv;
          vNDC = (clip.xy / clip.w) * 0.5 + 0.5;
          gl_Position = clip;
        }
      `,fragmentShader:`
        uniform vec3 uColorA;
        uniform vec3 uColorB;
        uniform float uIntro;
        uniform vec2 uMaskCenter;
        uniform float uMaskRadius;
        varying float vMix;
        varying float vAlpha;
        varying float vBoost;
        varying vec2 vNDC;
        void main(){
          vec2 d = gl_PointCoord - vec2(0.5);
          float dist = length(d);
          if (dist > 0.5) discard;
          float alpha = smoothstep(0.5, 0.0, dist) * vAlpha * (0.40 + vBoost * 0.25) * smoothstep(0.0, 1.0, uIntro);
          // central UI-safe hole to avoid overlapping hero text/CTAs
          float ndcDist = distance(vNDC, uMaskCenter);
          float hole = smoothstep(0.0, uMaskRadius, ndcDist);
          alpha *= hole;
          vec3 color = mix(uColorA, uColorB, clamp(vMix + vBoost * 0.2, 0.0, 1.0));
          gl_FragColor = vec4(color, alpha);
        }
      `}),O=new vP(S,F);m.add(O);const H=(()=>{var fe,je;const be=Math.min(2,window.devicePixelRatio||1),L=2048,P=640,X=document.createElement("canvas");X.width=Math.floor(L*be),X.height=Math.floor(P*be);const $=X.getContext("2d");$.scale(be,be),$.clearRect(0,0,L,P),$.textAlign="center",$.textBaseline="middle";const J=$.createLinearGradient(0,0,L,0);J.addColorStop(0,"#A78BFA"),J.addColorStop(.5,"#7042d2"),J.addColorStop(1,"#FDE68A");const Z=L/2,Re="Get your",oe="BRAND",Te="Noticed",_e=(Me,pe,Ge,z,ae="fill")=>{let de=0;for(let ie=0;ie<Me.length;ie++)de+=$.measureText(Me[ie]).width,ie<Me.length-1&&(de+=z);let we=pe-de/2;for(let ie=0;ie<Me.length;ie++){const te=Me[ie];(ae==="fill"||ae==="both")&&$.fillText(te,we+$.measureText(te).width/2,Ge),(ae==="stroke"||ae==="both")&&$.strokeText(te,we+$.measureText(te).width/2,Ge),we+=$.measureText(te).width+(ie<Me.length-1?z:0)}};$.font="800 184px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif",$.lineWidth=12,$.strokeStyle="rgba(0,0,0,0.65)",_e(Re,Z,P/2-170,6,"stroke"),$.shadowColor="rgba(112,66,210,0.5)",$.shadowBlur=10,$.fillStyle="rgba(255,255,255,0.99)",_e(Re,Z,P/2-170,6,"fill"),$.font="1000 310px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif",$.lineJoin="round",$.miterLimit=2,$.lineWidth=16,$.strokeStyle="rgba(255,255,255,0.9)",_e(oe,Z,P/2+0,14,"stroke"),$.lineWidth=7,$.strokeStyle="#7042d2",_e(oe,Z,P/2+0,14,"stroke"),$.fillStyle=J,_e(oe,Z,P/2+0,14,"fill"),$.font="800 184px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif",$.lineWidth=12,$.strokeStyle="rgba(0,0,0,0.65)",_e(Te,Z,P/2+230,6,"stroke"),$.shadowColor="rgba(0,0,0,0.35)",$.shadowBlur=24,$.fillStyle="rgba(255,255,255,0.99)",_e(Te,Z,P/2+230,6,"fill");const se=new AV(X);return se.anisotropy=Math.min(16,((je=(fe=c.capabilities).getMaxAnisotropy)==null?void 0:je.call(fe))||1),se.generateMipmaps=!0,se.minFilter=xs,se.magFilter=Hn,se.needsUpdate=!0,se})(),j=H.image.width/H.image.height,N=10.5,B=new Rl(N,N/j),q=new hn({transparent:!0,depthWrite:!1,uniforms:{uMap:{value:H},uTime:{value:0},uIntro:{value:0},uShineSpeed:{value:.18},uVignette:{value:.35},uNoiseScale:{value:new Ae(3.5,2)},uNoiseSpeed:{value:.4},uNoiseThreshold:{value:.35},uBend:{value:.6},uTexSize:{value:new Ae(H.image.width,H.image.height)}},vertexShader:`
        uniform float uTime; uniform float uIntro; uniform float uBend;
        varying vec2 vUv;
        void main(){
          vUv = uv;
          // subtle perspective wobble
          vec3 pos = position;
          pos.y += 0.02 * sin(uTime * 0.8 + pos.x * 2.0);
          pos.x += 0.015 * cos(uTime * 0.9 + pos.y * 3.0);
          // intro tilt
          float tilt = (1.0 - uIntro) * 0.25;
          pos.yz = mat2(cos(tilt), -sin(tilt), sin(tilt), cos(tilt)) * pos.yz;
          // gentle 3D bend across X (curvature towards camera)
          float theta = (pos.x) * uBend; // radians across width
          pos.z += sin(theta) * 0.25;
          pos.y += (1.0 - cos(theta)) * 0.05;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
        }
      `,fragmentShader:`
        uniform sampler2D uMap; uniform float uTime; uniform float uIntro; uniform float uShineSpeed; uniform float uVignette;
        uniform vec2 uNoiseScale; uniform float uNoiseSpeed; uniform float uNoiseThreshold; uniform vec2 uTexSize;
        varying vec2 vUv;
        // simple hash-based noise
        float hash(vec2 p){ return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123); }
        float noise(in vec2 p){
          vec2 i = floor(p);
          vec2 f = fract(p);
          float a = hash(i);
          float b = hash(i + vec2(1.0, 0.0));
          float c = hash(i + vec2(0.0, 1.0));
          float d = hash(i + vec2(1.0, 1.0));
          vec2 u = f*f*(3.0-2.0*f);
          return mix(a, b, u.x) + (c - a)*u.y*(1.0 - u.x) + (d - b)*u.x*u.y;
        }
        float fbm(vec2 p){
          float v = 0.0;
          float a = 0.5;
          for(int i=0;i<5;i++){
            v += a * noise(p);
            p *= 2.02;
            a *= 0.5;
          }
          return v;
        }
        void main(){
          vec4 tex = texture2D(uMap, vUv);
          // procedural noise reveal mask
          float n = fbm(vUv * uNoiseScale + vec2(uTime * uNoiseSpeed));
          float reveal = smoothstep(uNoiseThreshold, 1.0, n + uIntro * 0.9);
          float alpha = tex.a * reveal;
          if (alpha < 0.01) discard;
          vec3 col = tex.rgb;
          // moving shine
          float shineX = 0.2 + 0.6 * fract(uTime * uShineSpeed);
          float shine = smoothstep(0.15, 0.0, abs(vUv.x - shineX)) * 0.35;
          // vignette across the plane
          float d = distance(vUv, vec2(0.5));
          float vig = 1.0 - smoothstep(uVignette, 0.75, d);
          float flicker = 0.97 + 0.03 * abs(sin(uTime * 3.2));
          vec3 outCol = col * (0.85 + 0.15 * vig) + vec3(1.0) * shine;
          gl_FragColor = vec4(outCol * flicker, alpha);
        }
      `}),ee=new En(B,q);ee.position.set(0,0,.8),m.add(ee);const xe=new Js({map:H,transparent:!0,blending:_u,depthWrite:!1,opacity:.18,color:16777215}),Be=new En(B.clone(),xe);Be.position.copy(ee.position),Be.scale.set(1.12,1.12,1),m.add(Be);const We=new TP(7288319,1706538,.8);a.add(We);const Q=new _f(7357138,.8);Q.position.set(-5,8,10),a.add(Q);let ce=0,re=null,Le=!0,ye=0;const Pe=be=>{re===null&&(re=be);const L=be-re;if(!Le||be-ye<20){ce=requestAnimationFrame(Pe);return}ye=be;const P=be*.001,$=Math.min(1,Math.max(0,L/3e3)),J=1-Math.pow(1-$,3),Z=$<.5?2*$*$:-1+(4-2*$)*$;m.rotation.x=Math.sin(P*.14)*.025,m.rotation.y=Math.cos(P*.12)*.025;const oe=(.86+.14*J)*(1+Math.sin(P*.7)*.01),Te=o.scale;m.scale.set(oe*Te,oe*Te,oe*Te),m.position.y=y(window.innerWidth),F.uniforms.uTime.value=P,ee.material.uniforms.uTime.value=P,ee.material.uniforms.uIntro.value=J,Be.material.opacity=.1*J,F.uniforms.uIntro.value=J,F.uniforms.uAssemble.value=Z;const _e=s?.06:.08,se=s?.12:.17;F.uniforms.uSpeed.value=_e+se*J,l.position.z=o.baseZ-o.dolly*J,l.lookAt(0,0,0),f.strength=(s?.22:.5)-(s?.14:.3)*J,$>.55&&$<.58&&(F.uniforms.uPulse.value=.8),F.uniforms.uMaskCenter.value.set(.5,.46);const fe=F.uniforms.uPulse?F.uniforms.uPulse.value:0;fe>.001&&(F.uniforms.uPulse.value=fe*.93),d.render(),ce=requestAnimationFrame(Pe)};ce=requestAnimationFrame(Pe);const ht=()=>{const be=window.innerWidth,L=window.innerHeight;l.aspect=be/L,l.updateProjectionMatrix(),c.setSize(be,L),d.setSize(be,L),m.position.y=y(be),o=r(be)};window.addEventListener("resize",ht);const qe=()=>{Le=document.visibilityState==="visible"};document.addEventListener("visibilitychange",qe);const k=()=>{const be=window.scrollY<window.innerHeight*1.5;Le=document.visibilityState==="visible"&&be};window.addEventListener("scroll",k,{passive:!0}),k();const ot=new l6,De=new Ys(new U(0,0,1),0),tt=new Ae,Ce=new U,ut=!s&&window.matchMedia("(pointer:fine)").matches;let ge=null,He=null,St=null;return ut&&(ge=be=>{const L=be.clientX/window.innerWidth*2-1,P=-(be.clientY/window.innerHeight)*2+1;l.position.x=L*1,l.position.y=-P*.6,l.lookAt(0,0,0),tt.set(L,P),ot.setFromCamera(tt,l),ot.ray.intersectPlane(De,Ce)&&(F.uniforms.uPointer.value.copy(Ce),F.uniforms.uPointerStrength.value=.9)},He=()=>{F.uniforms.uPointerStrength.value=0},St=()=>{F.uniforms.uPulse.value=1},window.addEventListener("pointermove",ge),window.addEventListener("pointerleave",He),window.addEventListener("click",St)),()=>{cancelAnimationFrame(ce),window.removeEventListener("resize",ht),e&&c.domElement&&e.contains(c.domElement)&&e.removeChild(c.domElement),ut&&(ge&&window.removeEventListener("pointermove",ge),He&&window.removeEventListener("pointerleave",He),St&&window.removeEventListener("click",St)),document.removeEventListener("visibilitychange",qe),window.removeEventListener("scroll",k),B.dispose(),H.dispose(),ee.material.dispose(),Be.geometry.dispose(),xe.dispose(),c.dispose()}},[]),u.jsx("div",{ref:t,className:"absolute inset-0 w-full h-full pointer-events-none"})}const ig="iboothme",x9=typeof window<"u"?window.location.origin:"",v9="/images/icon.svg";function Kn({title:t,description:e,canonical:n,robots:i="index,follow",ogImage:s,keywords:r,jsonLd:o}){const a=t?`${t} | ${ig}`:ig,l=n?n.startsWith("http")?n:`${x9}${n}`:void 0,c=s||v9,d=r==null?void 0:r.join(", "),h=typeof o=="string"?o:o?JSON.stringify(o):void 0;return u.jsxs(u.Fragment,{children:[u.jsx("title",{children:a}),e&&u.jsx("meta",{name:"description",content:e}),d&&u.jsx("meta",{name:"keywords",content:d}),u.jsx("meta",{name:"robots",content:i}),l&&u.jsx("link",{rel:"canonical",href:l}),u.jsx("meta",{property:"og:title",content:a}),e&&u.jsx("meta",{property:"og:description",content:e}),u.jsx("meta",{property:"og:type",content:"website"}),l&&u.jsx("meta",{property:"og:url",content:l}),u.jsx("meta",{property:"og:site_name",content:ig}),c&&u.jsx("meta",{property:"og:image",content:c}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:a}),e&&u.jsx("meta",{name:"twitter:description",content:e}),c&&u.jsx("meta",{name:"twitter:image",content:c}),h&&u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:h}})]})}async function mi(t){try{const e=await fetch(`/api/seo/${encodeURIComponent(t)}`);return e.ok?await e.json():null}catch{return null}}function gi(t){t&&(t.title&&(document.title=`${t.title} | iboothme`),as("name","description",t.description),as("name","robots",t.robots),t.keywords&&t.keywords.length&&as("name","keywords",t.keywords.join(", ")),t.canonical&&y9("canonical",t.canonical),as("property","og:title",t.title?`${t.title} | iboothme`:void 0),as("property","og:description",t.description),as("property","og:url",t.canonical),as("property","og:image",t.og_image),as("name","twitter:title",t.title?`${t.title} | iboothme`:void 0),as("name","twitter:description",t.description),as("name","twitter:image",t.og_image),t.json_ld&&b9(t.json_ld))}function as(t,e,n){var s;let i=document.head.querySelector(`meta[${t}="${e}"]`);if(!n){i&&((s=i.parentElement)==null||s.removeChild(i));return}i||(i=document.createElement("meta"),i.setAttribute(t,e),document.head.appendChild(i)),i.setAttribute("content",n)}function y9(t,e){var i;let n=document.head.querySelector(`link[rel="${t}"]`);if(!e){n&&((i=n.parentElement)==null||i.removeChild(n));return}n||(n=document.createElement("link"),n.rel=t,document.head.appendChild(n)),n.href=e}function b9(t){Array.from(document.head.querySelectorAll('script[type="application/ld+json"]')).forEach(i=>{var s;return(s=i.parentElement)==null?void 0:s.removeChild(i)});const n=document.createElement("script");n.type="application/ld+json",n.text=typeof t=="string"?t:JSON.stringify(t),document.head.appendChild(n)}M.lazy(()=>$k(()=>Promise.resolve().then(()=>z7),void 0));function _9(){const[t,e]=M.useState(!1),[n,i]=M.useState(!1);return M.useEffect(()=>{if((async()=>{const l=await mi("/");l&&gi(l)})(),typeof window>"u")return;const s=document.querySelector('[data-section="hero"]'),r=document.querySelector('[data-section="brand-activation"]');if(!s||!r)return;const o={root:null,threshold:Array.from({length:101},(l,c)=>c/100)},a=new IntersectionObserver(l=>{l.forEach(c=>{c.target===s?e(c.intersectionRatio<.7):c.target===r&&i(c.intersectionRatio>.3)})},o);return a.observe(s),a.observe(r),()=>{a.disconnect()}},[]),u.jsxs(u.Fragment,{children:[u.jsx(Kn,{title:"Experiential Marketing Tech & Photo Booths",description:"iboothme delivers cutting-edge experiential marketing: AI tech, gamifications, analytics, and immersive photo/video booths for brand activations.",canonical:"/",ogImage:"/images/icon.svg",keywords:["experiential marketing","photo booth","AI","gamification","brand activation"],jsonLd:{"@context":"https://schema.org","@type":"Organization",name:"iboothme",url:"https://www.iboothme.com/",logo:"https://www.iboothme.com/images/icon.svg"}}),u.jsxs("div",{className:"absolute inset-0 z-10 pointer-events-none",children:[u.jsx(g9,{}),u.jsx("div",{className:"absolute inset-0 mix-blend-multiply bg-gradient-to-b from-black/40 via-black/20 to-black/40"})]}),u.jsx("div",{className:"relative z-10",children:u.jsxs("div",{className:"min-h-screen text-white","data-testid":"home-page",children:[u.jsx(fi,{}),u.jsx("div",{"data-section":"hero",className:`relative transition-opacity duration-1000 ${t?"opacity-30":"opacity-100"}`,children:u.jsx(eB,{})}),u.jsxs("div",{"data-section":"brand-activation",className:`relative overflow-hidden transition-opacity duration-1000 flex items-center justify-center px-6 max-w-full mx-auto bg-opacity-50 backdrop-blur-md ${n?"opacity-100":"opacity-0"}`,style:{minHeight:"300px"},children:[u.jsx("video",{className:"absolute inset-0 w-full h-full object-cover",style:{zIndex:-2},src:"/video/iboothme_f.mp4",autoPlay:!0,loop:!0,muted:!0,preload:"metadata",playsInline:!0}),u.jsx("div",{className:"relative max-w-4xl mx-auto",children:u.jsx(nB,{})})]}),u.jsx("div",{"data-section":"products",className:"py-12 md:py-16",children:u.jsx(F5,{})}),u.jsx("div",{"data-section":"meet-talia",className:"py-12 md:py-16",children:u.jsx(H7,{})}),u.jsx("div",{"data-section":"beyond-booths",className:"py-12 md:py-16",children:u.jsx(W7,{})}),u.jsx("div",{"data-section":"stats",className:"py-12 md:py-16",children:u.jsx(q7,{})}),u.jsx("div",{"data-section":"cta",className:"py-12 md:py-16",children:u.jsx(J7,{})}),u.jsx("div",{"data-section":"analytics",className:"py-12 md:py-16",children:u.jsx(e9,{})}),u.jsx("div",{"data-section":"clients",className:"py-12 md:py-16",children:u.jsx(s9,{})}),u.jsx("div",{"data-section":"footer",children:u.jsx(pi,{})})]})})]})}function w9(t){if(!t||document.getElementById("ga4-script"))return;const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${encodeURIComponent(t)}`,e.id="ga4-script",document.head.appendChild(e),window.dataLayer=window.dataLayer||[];const n=function(){var i;(i=window.dataLayer)==null||i.push(arguments)};n("js",new Date),n("config",t,{send_page_view:!1})}function S9(t){if(!window.dataLayer)return;(function(){var n;(n=window.dataLayer)==null||n.push(arguments)})("event","page_view",{page_path:t})}function Sf(t,e){if(!window.dataLayer)return;(function(){var i;(i=window.dataLayer)==null||i.push(arguments)})("event",t,e||{})}function T9(){return M.useEffect(()=>{(async()=>{const t=await mi("/products");t&&gi(t)})()},[]),M.useEffect(()=>{try{Sf("view_item_list",{item_list_id:"all_products",item_list_name:"All Products"})}catch{}},[]),u.jsxs("div",{className:"relative min-h-screen text-white",children:[u.jsx(Kn,{title:"Experiential Products & Booths",description:"Explore interactive booths and experiential products designed to drive engagement at events and brand activations.",canonical:"/products",ogImage:"/images/booth_unit_1.webp",keywords:["photo booth","experiential products","event tech"],jsonLd:{"@context":"https://schema.org","@type":"CollectionPage",name:"Products",description:"Interactive booths and experiential products for events."}}),u.jsx(fi,{}),u.jsx("main",{className:"relative z-10 py-16 sm:py-20 md:py-24","data-testid":"products-page",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsxs("div",{className:"text-center mb-8 sm:mb-10 md:mb-12",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full border border-white/10 bg-white/5 backdrop-blur-sm mb-4 sm:mb-6",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-white tracking-wide uppercase",children:"Our Technology"})]}),u.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-3 sm:mb-4 px-3 leading-tight",children:"All Products"}),u.jsx("p",{className:"text-base sm:text-xl text-white/80 max-w-2xl mx-auto px-3",children:"Explore our complete lineup of immersive brand activation products."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 sm:gap-6 lg:gap-7",children:(()=>{const t=["iboothme-x","glamdroid","claw-machine","gumball-x","locker-x","vending-x","arcade-x","mega-vending","retro-x","slider-180","scribble-booth","slider-12","catch-baton","gift-box","booth-360","gobooth"],e=new Map(t.map((i,s)=>[i,s]));return[...Sl].sort((i,s)=>{const r=e.get(i.id)??Number.MAX_SAFE_INTEGER,o=e.get(s.id)??Number.MAX_SAFE_INTEGER;return r-o})})().map((t,e)=>u.jsxs(he.article,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:e*.06},className:"group cursor-pointer relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-2xl border border-white/10 bg-black/10 ring-1 ring-white/5 hover:ring-white/15 transition-all duration-500 transform-gpu will-change-transform",onClick:()=>{try{Sf("select_item",{item_list_id:"all_products",items:[{item_id:t.id,item_name:t.name}]})}catch{}window.location.href=`/products/${t.id}`},children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center transform-gpu transition-transform duration-700 will-change-transform group-hover:scale-[1.06]",style:{backgroundImage:`url('${t.image}')`}}),u.jsxs("div",{className:"absolute inset-0 z-10 pointer-events-none transform-gpu will-change-transform",style:{backfaceVisibility:"hidden"},children:[u.jsx("div",{className:"absolute inset-0 bg-black/25"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/15 to-transparent mix-blend-overlay opacity-70 group-hover:opacity-90 transition-opacity duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(60%_60%_at_50%_70%,rgba(0,0,0,0.55),transparent_60%)]"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-44 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-90 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("div",{className:"absolute top-0 left-0 right-0 h-24 bg-gradient-to-b from-black/45 to-transparent"}),u.jsx("div",{className:"absolute -inset-y-8 -left-1/2 w-2/3 rotate-12 bg-gradient-to-r from-white/0 via-white/15 to-white/0 opacity-0 group-hover:opacity-70 group-hover:translate-x-[180%] transition-all duration-700 ease-out"})]}),u.jsx("div",{className:"relative z-20 pt-40 sm:pt-48 pb-6 sm:pb-8 px-6 sm:px-8 flex flex-col h-[380px] sm:h-[440px] md:h-[460px]",style:{transform:"translateZ(0)"},children:u.jsxs("div",{className:"space-y-2 drop-shadow-[0_0_18px_rgba(0,0,0,0.16)] mt-auto",children:[u.jsx("div",{className:"text-[11px] sm:text-xs text-purple-300/90 mb-1 font-medium",children:t.meta}),u.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold leading-tight tracking-[-0.6px] sm:tracking-[-1.2px] font-display text-white drop-shadow-[0_6px_24px_rgba(0,0,0,0.35)]",children:t.name}),u.jsx("p",{className:"text-sm sm:text-base md:text-lg leading-relaxed font-medium text-white/92 line-clamp-2",children:t.description}),u.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:t.tags.map(n=>u.jsx("span",{className:"text-[10px] sm:text-[11px] px-2 py-1 rounded-full bg-white/10 text-white/85 ring-1 ring-white/10",children:n},n))})]})}),u.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 px-2.5 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium text-white bg-black/50 backdrop-blur-sm z-20 border border-white/10 shadow-md",children:t.tier})]},t.id))})]})}),u.jsx("section",{className:"relative z-10 pb-16 sm:pb-20 md:pb-24 -mt-6",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:u.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-gradient-to-br from-white/5 to-white/[0.03] backdrop-blur-xl p-6 sm:p-10 md:p-14 text-center",children:[u.jsx("div",{className:"pointer-events-none absolute -top-24 -left-24 w-[420px] h-[420px] rounded-full bg-purple-500/15 blur-[120px]"}),u.jsx("div",{className:"pointer-events-none absolute -bottom-24 -right-24 w-[420px] h-[420px] rounded-full bg-indigo-500/15 blur-[120px]"}),u.jsx("h2",{className:"relative text-3xl sm:text-4xl md:text-5xl font-extrabold mb-3 sm:mb-4",children:"Envisioning Extraordinary?"}),u.jsx("p",{className:"relative text-white/85 text-sm sm:text-base md:text-lg max-w-3xl mx-auto mb-6 sm:mb-8",children:"We bring your boldest ideas to life, crafting bespoke activations that surpass expectations and forge lasting brand connections."}),u.jsx("a",{href:"/contact-us",className:"relative inline-block",children:u.jsx("div",{className:"inline-flex items-center justify-center rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold bg-[#7042D2] hover:bg-[#7042D2]/90 text-white shadow-[0_12px_28px_rgba(112,66,210,0.45)] transition-colors",children:"Request Custom Solution"})})]})})}),u.jsx(pi,{})]})}function E9(){var r;const t=$I("/products/:id"),e=(r=t==null?void 0:t[1])==null?void 0:r.id,n=Sl.find(o=>o.id===e);M.useEffect(()=>{e&&(async()=>{const o=await mi(`/products/${e}`);o&&gi(o)})()},[e]),M.useEffect(()=>{if(n)try{Sf("view_item",{items:[{item_id:n.id,item_name:n.name}]})}catch{}},[n]);const[i,s]=M.useState(!1);return Sv(),M.useEffect(()=>{if(!i)return;const o=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[i]),u.jsxs("div",{className:"relative min-h-screen text-white",children:[n&&u.jsx(Kn,{title:`${n.name}`,description:n.description||`Learn more about ${n.name} experiential product.`,canonical:`/products/${n.id}`,ogImage:n.image,keywords:[n.name,"photo booth","experiential product"],jsonLd:{"@context":"https://schema.org","@type":"Product",name:n.name,image:n.image?[n.image]:void 0,description:n.description,brand:{"@type":"Brand",name:"iboothme"}}}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10 py-10 sm:py-14 md:py-16 max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsxs(Hi,{href:"/products",className:"text-sm text-white/70 hover:text-white inline-flex items-center gap-2 mb-6",children:[u.jsx("span",{children:"←"})," Back to Products"]}),n?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[u.jsx("div",{className:"lg:col-span-5",children:u.jsx("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden border border-white/10 bg-white/5",children:u.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url('${n.image}')`}})})}),u.jsxs("div",{className:"lg:col-span-7 space-y-4",children:[u.jsx("div",{className:"text-xs text-purple-300/90 uppercase tracking-wide",children:n.meta}),u.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold",children:n.name}),u.jsx("p",{className:"text-white/85 text-lg",children:n.description}),u.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:n.tags.map(o=>u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/10 text-white/85 ring-1 ring-white/10",children:o},o))}),u.jsx("div",{className:"pt-4",children:u.jsx("a",{href:`/contact-us?product=${n.id}`,className:"inline-flex items-center justify-center rounded-full px-6 py-3 text-base font-semibold bg-[#7042D2] hover:bg-[#7042D2]/90 text-white shadow-[0_12px_28px_rgba(112,66,210,0.45)]",children:"Activate Your Event"})})]})]}):u.jsx("div",{children:u.jsx("h1",{className:"text-3xl font-bold",children:"Product not found"})}),n&&u.jsxs("div",{className:"mt-10 space-y-6",children:[u.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/[0.04] p-6",children:[u.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Complete ",n.name," Demonstration"]}),u.jsx("div",{className:"aspect-video w-full rounded-xl border border-white/10 bg-black/40 flex items-center justify-center text-white/60",children:"Coming soon"})]}),u.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.04] p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Customization Options"}),u.jsx("p",{className:"text-white/80 text-sm",children:"Software and hardware customization available. Branding, flows, and integrations tailored to your event."})]}),u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.04] p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Technical Specifications"}),u.jsxs("ul",{className:"text-white/80 text-sm space-y-1",children:[u.jsx("li",{children:"High performance processing"}),u.jsx("li",{children:"Setup time 45–60 minutes"}),u.jsx("li",{children:"24/7 support available"})]})]})]}),u.jsxs("section",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-gradient-to-br from-white/5 to-white/[0.03] backdrop-blur-xl p-6 sm:p-10 md:p-12 text-center",children:[u.jsx("div",{className:"pointer-events-none absolute -top-24 -left-24 w-[420px] h-[420px] rounded-full bg-purple-500/15 blur-[120px]"}),u.jsx("div",{className:"pointer-events-none absolute -bottom-24 -right-24 w-[420px] h-[420px] rounded-full bg-indigo-500/15 blur-[120px]"}),u.jsx("h3",{className:"relative text-3xl sm:text-4xl font-extrabold mb-3",children:"Ready to Activate Your Event?"}),u.jsxs("p",{className:"relative text-white/85 text-base sm:text-lg max-w-3xl mx-auto mb-6",children:["Get a fast, tailored quote for ",n.name,". Our team will help you pick options, branding, and integrations."]}),u.jsx("a",{href:`/contact-us?product=${n.id}`,className:"relative inline-block",children:u.jsxs("div",{className:"inline-flex items-center justify-center rounded-full px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold bg-[#7042D2] hover:bg-[#7042D2]/90 text-white shadow-[0_12px_28px_rgba(112,66,210,0.45)] transition-colors",children:["Activate ",n.name]})})]})]})]}),u.jsx(pi,{})]})}function M9(){const t=M.useRef(null),e=M.useRef(null);M.useEffect(()=>{(async()=>{const i=await mi("/ai-technology");i&&gi(i)})()},[]);const n=[{id:"pro-photo",title:"Professional Photography",subtitle:"Studio-grade results, every time.",video:{src:"/videos/ai-pro-photo.mp4",poster:"/images/ai-pro-photo-poster.jpg"},bullets:["Perfect lighting & composition","Flattering for every guest","Consistent, brand-worthy output"],theme:"purple"},{id:"brand-worthy",title:"Brand-Worthy Results",subtitle:"Content made to be shared.",video:{src:"/videos/ai-brand-worthy.mp4",poster:"/images/ai-brand-worthy-poster.jpg"},bullets:["On-brand filters & overlays","Social-ready formats","Predictable, safe for brands"],theme:"blue"},{id:"instant-studio",title:"Instant Studio Quality",subtitle:"AI perfection, instantly.",video:{src:"/videos/4.mp4",poster:"/images/ai-instant-studio-poster.jpg"},bullets:["Real-time posture & lighting analysis","No retakes needed","Flawless, repeatable results"],theme:"electric"},{id:"parallax",title:"AI Parallax Effect",subtitle:"Dynamic, immersive motion.",video:{src:"/videos/ai-parallax.mp4",poster:"/images/ai-parallax-poster.jpg"},bullets:["Single photo → dynamic motion","Immersive brand experiences","Real-time parallax technology"],theme:"purple"},{id:"adaptive-ai",title:"Adaptive AI",subtitle:"Refined, realistic, you.",video:{src:"/videos/ai-avatar.mp4",poster:"/images/ai-adaptive-poster.jpg"},bullets:["Precision customization","Intelligent body segmentation","Realistic pose alignment"],theme:"emerald"},{id:"advanced-features",title:"Advanced Features",subtitle:"Built for professional brands.",video:{src:"/videos/1.mp4",poster:"/images/ai-advanced-poster.jpg"},bullets:["Production-ready presets","Template-based consistency","Safe, repeatable effects"],theme:"blue"},{id:"smart-lighting",title:"Smart AI Lighting",subtitle:"Flattering light, every time.",video:{src:"/videos/2.mp4",poster:"/images/ai-lighting-poster.jpg"},bullets:["Accurate skin detection","Dynamic lighting adjustment","Professional preset optimization"],theme:"purple"},{id:"background-magic",title:"Background Magic",subtitle:"No green screen required.",video:{src:"/videos/ai-bg-magic.mp4",poster:"/images/ai-bg-magic-poster.jpg"},bullets:["Instant separation, no mask","Custom branded backgrounds","Real-time environment creation"],theme:"electric"}];return u.jsxs("div",{className:"relative min-h-screen text-white","data-testid":"ai-technology-page",children:[u.jsx(Kn,{title:"AI Technology for Experiential Marketing",description:"AI-driven photo/video, avatars, and effects to create immersive brand experiences with measurable impact.",canonical:"/ai-technology",ogImage:"/images/studio-ai-example.jpg",keywords:["AI photo booth","AI avatars","experiential AI","computer vision"],jsonLd:{"@context":"https://schema.org","@type":"Service",name:"AI Technology",description:"AI-driven interactive experiences for events.",provider:{"@type":"Organization",name:"iboothme"}}}),u.jsx(fi,{}),u.jsxs("section",{className:"relative w-full min-h-[70vh] overflow-hidden flex items-center justify-center",children:[u.jsx("video",{className:"absolute inset-0 w-full h-full object-cover bg-black",src:"/videos/ai-tech.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(120%_120%_at_50%_-20%,transparent_0%,rgba(3,7,18,0.38)_45%,rgba(3,7,18,0.92)_70%,rgba(3,7,18,0.99)_90%)]"}),u.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_70%,transparent_85%)]"}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-48 bg-gradient-to-t from-black/80 via-black/50 to-transparent"}),u.jsx("div",{className:"relative z-10 w-full px-6",children:u.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[u.jsxs("div",{className:"mb-4 sm:mb-6 inline-flex items-center gap-3 px-5 sm:px-6 py-2.5 sm:py-3 rounded-full border border-white/15 bg-white/10 backdrop-blur-xl",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"AI Built for Brand Impact."})]}),u.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-black leading-tight mb-4 md:mb-5 gradient-text px-3",children:"Pioneering AI for Premium Brand Activations"}),u.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/85 max-w-[40ch] sm:max-w-3xl mx-auto leading-relaxed px-3",children:"Our technology isn’t about effects or gimmicks, it’s about impact. We develop AI-powered experiences that give your brand a competitive edge and elevate activations to their highest potential. Every interaction becomes a deliberate brand moment"}),u.jsxs("div",{className:"mt-6 sm:mt-8 flex flex-col sm:flex-row items-center justify-center gap-3 px-3",children:[u.jsx($e,{variant:"creativePrimary",size:"lg",className:"group w-full sm:w-auto",children:"Start a Project"}),u.jsx($e,{variant:"creativeSecondary",size:"lg",className:"group w-full sm:w-auto",children:"See Live Demo"})]})]})})]}),u.jsxs("section",{className:"relative w-full py-12 md:py-16 bg-transparent",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/60"})}),u.jsxs("div",{className:"relative max-w-4xl mx-auto px-6 text-center",children:[u.jsx("blockquote",{className:"text-2xl md:text-3xl font-semibold leading-relaxed text-white/90",children:"We create AI for brands focused on impact, not just amusement."}),u.jsx("div",{className:"mt-4 text-white/60 text-sm md:text-base",children:"Iboothme Philosophy"})]})]}),u.jsxs("section",{className:"relative py-16 md:py-24 overflow-hidden",children:[u.jsx("video",{className:"absolute inset-0 w-full h-full object-contain object-center -z-10",src:"/videos/ai-example.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),u.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-black/90 via-black/20 to-black/90"}),u.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(60%_60%_at_50%_50%,rgba(0,0,0,0.45),transparent_70%)]"}),u.jsxs("div",{className:"relative max-w-2xl mx-auto px-6 py-8 md:py-10",children:[u.jsxs("div",{className:"relative rounded-3xl overflow-hidden border border-white/10 shadow-[0_20px_60px_rgba(0,0,0,0.35)]",children:[u.jsx("img",{src:"/images/studio-ai-example.jpg",alt:"Studio-Quality AI portrait example",className:"w-full h-[500px] md:h-full object-contain object-center",loading:"lazy",decoding:"async"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/0 to-black/20"}),u.jsx("div",{className:"absolute inset-0 bg-[url('/images/noise.svg')] opacity-5 mix-blend-overlay"})]}),u.jsxs("div",{className:"text-center mt-8",children:[u.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-black mb-3 sm:mb-4 gradient-text",children:"Studio-Grade AI"}),u.jsx("p",{className:"text-white/85 text-base sm:text-lg leading-relaxed max-w-2xl sm:max-w-3xl mx-auto",children:"Crafted with precision, powered by strategy, and built to maximize engagement. Our AI delivers studio-grade results designed for brand activations—every shot refined, on-brand, and ready to be shared."})]})]})]}),u.jsx("section",{className:"block",children:u.jsx("div",{className:"relative max-w-7xl mx-auto px-6",children:u.jsxs("div",{className:"relative overflow-visible min-h-[40vh] flex items-center",children:[u.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-20 sm:w-28 lg:w-36 z-10 bg-gradient-to-r from-black/60 via-black/25 to-transparent"}),u.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-20 sm:w-28 lg:w-36 z-10 bg-gradient-to-l from-black/60 via-black/25 to-transparent"}),u.jsx("button",{type:"button","aria-label":"Previous",ref:t,className:"hidden lg:grid absolute left-6 inset-y-0 my-auto z-20 h-12 w-12 rounded-full bg-white/10 border border-white/20 backdrop-blur hover:bg-white/20 transition place-items-center",children:u.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/80",children:u.jsx("path",{d:"M15 18l-6-6 6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u.jsx("button",{type:"button","aria-label":"Next",ref:e,className:"hidden lg:grid absolute right-6 inset-y-0 my-auto z-20 h-12 w-12 rounded-full bg-white/10 border border-white/20 backdrop-blur hover:bg-white/20 transition place-items-center",children:u.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/80",children:u.jsx("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u.jsx(yu,{modules:[ff,Ty],centeredSlides:!1,slidesPerView:"auto",spaceBetween:16,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!1},watchSlidesProgress:!0,navigation:!0,onBeforeInit:i=>{i.params.navigation||(i.params.navigation={}),i.params.navigation.prevEl=t.current,i.params.navigation.nextEl=e.current},onInit:i=>{const s=t.current,r=e.current;s&&r&&i.params&&i.params.navigation&&(i.params.navigation.prevEl=s,i.params.navigation.nextEl=r,i.navigation&&(i.navigation.destroy(),i.navigation.init(),i.navigation.update()))},className:"!px-2 sm:!px-6 lg:!px-12",children:n.map(i=>u.jsx(bu,{className:"!w-[min(78vw,320px)] sm:!w-[min(48vw,360px)] lg:!w-[min(24vw,360px)] xl:!w-[min(22vw,380px)] !min-w-[240px] md:!min-w-[280px]",children:u.jsxs("div",{className:"group relative aspect-[7/12] w-full rounded-[28px] lg:rounded-[34px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.35)] transition-transform duration-500 ease-out will-change-transform hover:scale-[1.02] hover:-rotate-[0.6deg]",children:[u.jsx("video",{className:"absolute inset-0 w-full h-full object-cover",src:i.video.src,poster:i.video.poster,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-black/0 to-black/60"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-white/10"}),u.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-[36px] shadow-[0_40px_120px_rgba(0,0,0,0.45)]"}),u.jsx("div",{className:"absolute inset-0 flex items-end p-4 sm:p-5 md:p-6",children:u.jsx("div",{className:"text-white/95 drop-shadow-[0_6px_18px_rgba(0,0,0,0.6)] text-base sm:text-[1.05rem] md:text-[1.15rem] font-semibold tracking-wide leading-snug",children:i.title})})]})},i.id))})]})})}),u.jsx("section",{className:"relative py-16 md:py-24",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[u.jsxs("div",{className:"text-center mb-8 sm:mb-10",children:[u.jsx("div",{className:"inline-flex items-center gap-3 px-5 py-2.5 rounded-full border border-white/15 bg-white/10 backdrop-blur-xl text-xs font-semibold tracking-wide uppercase",children:"Innovation Meets Elegance"}),u.jsx("h2",{className:"mt-3 text-3xl sm:text-4xl md:text-5xl font-black leading-tight",children:"AI Powered Photo Booths"}),u.jsx("p",{className:"mt-3 text-white/85 text-base sm:text-lg md:text-xl max-w-3xl mx-auto",children:"Intelligent AI, precision-engineered hardware, and experiences crafted to leave a lasting mark. Choose the perfect unit to make your event stand out."})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-16 sm:w-24 bg-gradient-to-r from-black/60 via-black/20 to-transparent z-10"}),u.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-16 sm:w-24 bg-gradient-to-l from-black/60 via-black/20 to-transparent z-10"}),u.jsx(yu,{modules:[ff],slidesPerView:1,spaceBetween:14,loop:!0,autoplay:{delay:4200,disableOnInteraction:!1,pauseOnMouseEnter:!1},breakpoints:{640:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:18},1280:{slidesPerView:4,spaceBetween:20}},className:"!px-2 sm:!px-6 lg:!px-12",children:[{id:"iboothme-x",name:"iboothme X",image:"/iboothmex.jpg"},{id:"retro-x",name:"Retro X",image:"/images/retro-x.jpg"},{id:"vending-x",name:"Vending X",image:"/vendingx.jpg"},{id:"gobooth",name:"Goboothme X",image:"/images/gobooth-purple.png"}].map(i=>u.jsx(bu,{children:u.jsx("a",{href:`/products#${i.id}`,className:"group block",children:u.jsxs("div",{className:"relative aspect-[7/10] w-full rounded-[24px] overflow-hidden border border-white/10 bg-white/5 shadow-[0_20px_60px_rgba(0,0,0,0.35)]",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${i.image}')`}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/60"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:u.jsx("h3",{className:"text-lg sm:text-xl font-bold drop-shadow-[0_6px_18px_rgba(0,0,0,0.6)]",children:i.name})})]})})},i.id))})]}),u.jsx("a",{href:"/products",className:"mt-6 flex justify-center px-3",children:u.jsx($e,{variant:"creativePrimary",size:"lg",className:"rounded-full px-6 sm:px-8 text-base sm:text-lg",children:"VIEW ALL SOLUTIONS"})})]})}),u.jsx(pi,{})]})}const A9=[{label:"Total Experiences",value:2847,delta:"+12.5%",color:"from-blue-500/20 to-blue-400/10",icon:CD},{label:"Unique Participants",value:1923,delta:"+8.3%",color:"from-purple-500/20 to-purple-400/10",icon:oA},{label:"Social Shares",value:1456,delta:"+15.7%",color:"from-fuchsia-500/20 to-fuchsia-400/10",icon:wD},{label:"Leads Captured",value:892,delta:"+22.1%",color:"from-indigo-500/20 to-indigo-400/10",icon:SD}];function C9({to:t,duration:e=1200}){const[n,i]=M.useState(0),s=M.useRef(null);return M.useEffect(()=>{let r=null;const o=0,a=l=>{r===null&&(r=l);const c=Math.min(1,(l-r)/e),d=1-Math.pow(1-c,3),h=Math.round(o+(t-o)*d);i(h),c<1&&(s.current=requestAnimationFrame(a))};return s.current=requestAnimationFrame(a),()=>{s.current&&cancelAnimationFrame(s.current)}},[t,e]),u.jsx(u.Fragment,{children:n.toLocaleString()})}function P9(){return M.useEffect(()=>{(async()=>{const t=await mi("/analytics");t&&gi(t)})()},[]),u.jsxs("div",{className:"relative min-h-screen text-white","data-testid":"analytics-page",children:[u.jsx(Kn,{title:"Event Analytics & Insights",description:"Real-time dashboards and post-event insights to measure engagement, ROI, and content performance across activations.",canonical:"/analytics",ogImage:"/images/studio-ai-example.jpg",keywords:["event analytics","engagement metrics","ROI tracking"],jsonLd:{"@context":"https://schema.org","@type":"Service",name:"Event Analytics",description:"Dashboards and insights for event performance.",provider:{"@type":"Organization",name:"iboothme"}}}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10","data-testid":"analytics-page",children:[u.jsxs("section",{className:"relative w-full overflow-hidden min-h-[70vh] text-center mb-16 rounded-none mt-0 flex items-center justify-center",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-black/70 via-black/40 to-black/90"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_60%,transparent_82%)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-black/70 via-black/40 to-transparent"}),u.jsxs("div",{className:"absolute inset-0 -z-10 opacity-30 md:opacity-40 overflow-hidden",children:[u.jsx("video",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.78vh] h-[100vh] md:w-[177.78vw] md:h-[56.25vw] max-w-none",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",poster:"/images/studio-ai-example.jpg","aria-label":"Background analytics motion",children:u.jsx("source",{src:"/videos/analytics-1.mp4",type:"video/mp4"})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"})]}),u.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 md:px-8 py-16 md:py-20 lg:py-24 text-center min-h-[70vh] flex flex-col items-center justify-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2.5 rounded-full border border-white/15 bg-white/10 backdrop-blur mb-6 mx-auto",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-[#7042D2] animate-pulse"}),u.jsx("span",{className:"text-sm font-medium tracking-wide uppercase",children:"Campaign Analytics"})]}),u.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-black leading-tight mb-4 md:mb-5 gradient-text px-3",children:"Analytics Dashboard"}),u.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/85 max-w-[30ch] sm:max-w-3xl mx-auto leading-relaxed px-3",children:"Real-time analytics and insights for your Activation. Measure impact. Optimize performance. Drive results."}),u.jsx("p",{className:"text-white/65 text-sm sm:text-base mx-auto mt-3 max-w-[36ch] sm:max-w-2xl leading-relaxed px-3",children:"Our solution is crafted for brands to understand their campaign impact and maximize their activation success."}),u.jsx("div",{className:"mt-8 sm:mt-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 text-left max-w-6xl mx-auto px-3",children:A9.map(({label:t,value:e,delta:n,icon:i},s)=>u.jsxs(he.div,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45,delay:s*.08},className:"rounded-2xl sm:rounded-3xl lg:rounded-[2rem] p-5 sm:p-6 bg-white/5 backdrop-blur border border-white/10 shadow-[0_20px_60px_rgba(0,0,0,0.35)] transition-all duration-300 hover:border-white/20 hover:bg-white/10",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 grid place-items-center border border-white/10",children:u.jsx(i,{size:20})}),u.jsx("div",{className:"text-sm text-white/70",children:t})]}),u.jsx("span",{className:"text-white/80 text-xs font-semibold",children:n})]}),u.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold mt-2 sm:mt-3",children:u.jsx(C9,{to:e})})]},`h-${t}`))})]})]}),u.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[u.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 sm:gap-6 mb-12",children:[u.jsxs(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.45},className:"rounded-3xl border border-white/10 bg-black/30 p-5 sm:p-6 overflow-hidden",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Daily Performance"}),u.jsx("div",{className:"h-64 grid grid-cols-7 items-end gap-2",children:[{d:"Mon",a:2200,b:800},{d:"Tue",a:2600,b:900},{d:"Wed",a:3100,b:1100},{d:"Thu",a:3800,b:1400},{d:"Fri",a:5200,b:1700},{d:"Sat",a:4700,b:1500},{d:"Sun",a:1300,b:600}].map(({d:t,a:e,b:n})=>u.jsxs("div",{className:"group relative flex flex-col items-center gap-2 h-64",children:[u.jsxs("div",{className:"w-full h-full flex gap-1 items-end",children:[u.jsx("div",{className:"flex-1 rounded-md bg-[#7042D2] shadow-[0_6px_20px_rgba(112,66,210,0.35)] transition-transform duration-300 group-hover:-translate-y-1",style:{height:`${e/6e3*100}%`},"aria-label":`Actions ${e}`}),u.jsx("div",{className:"flex-1 rounded-md bg-emerald-400/90 shadow-[0_6px_20px_rgba(16,185,129,0.30)] transition-transform duration-300 group-hover:-translate-y-1",style:{height:`${n/6e3*100}%`},"aria-label":`Shares ${n}`})]}),u.jsxs("div",{className:"pointer-events-none absolute -top-6 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black/70 backdrop-blur px-2 py-1 rounded text-[10px] border border-white/10",children:[t,": ",u.jsx("span",{className:"text-white/80",children:e})," actions · ",u.jsx("span",{className:"text-white/80",children:n})," shares"]}),u.jsx("span",{className:"text-xs text-white/70",children:t})]},t))}),u.jsxs("div",{className:"flex items-center gap-4 mt-4 text-[11px] sm:text-xs text-white/70",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 rounded-sm bg-[#7042D2]"})," Actions"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 rounded-sm bg-emerald-400/90"})," Shares"]})]})]}),u.jsxs(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.45,delay:.08},className:"rounded-3xl border border-white/10 bg-black/30 p-5 sm:p-6",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Experience Types Distribution"}),u.jsx("div",{className:"w-full flex items-center justify-center py-4",children:u.jsx(R9,{})})]})]}),u.jsxs("section",{className:"rounded-3xl px-6 md:px-8 py-12 md:py-16 mb-12",children:[u.jsx("h3",{className:"text-2xl font-bold text-center mb-2",children:"AI-Powered Analytics"}),u.jsx("p",{className:"text-center text-white/70 mb-8",children:"Advanced insights powered by artificial intelligence"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(he.div,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45},className:"group relative overflow-hidden rounded-3xl lg:rounded-[2rem] p-5 sm:p-6 border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 transition will-change-transform",onMouseMove:t=>{const e=t.currentTarget,n=e.getBoundingClientRect(),i=(t.clientX-n.left)/n.width*100,s=(t.clientY-n.top)/n.height*100;e.style.setProperty("--mx",`${i}%`),e.style.setProperty("--my",`${s}%`)},children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(140px_80px_at_20%_0%,rgba(255,255,255,0.12),transparent)]"}),u.jsx("div",{className:"absolute -inset-[20%] opacity-0 group-hover:opacity-100 transition-opacity duration-500 [mask-image:radial-gradient(circle_at_var(--mx,50%)_var(--my,50%),black_0%,transparent_60%)] animate-spin-slow bg-[conic-gradient(from_0deg,rgba(112,66,210,0.15),transparent_30%,rgba(34,212,253,0.15),transparent_70%,rgba(112,66,210,0.15))]"})]}),u.jsx("div",{className:"absolute top-4 right-4 text-[10px] px-2 py-1 rounded-full bg-white/10 border border-white/15",children:"Live"}),u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 grid place-items-center border border-white/10",children:u.jsx(oA,{size:18,className:"opacity-90"})}),u.jsx("span",{className:"font-semibold",children:"Demographic Analysis"})]}),u.jsx("p",{className:"text-sm text-white/70",children:"AI detects gender, age groups, and engagement patterns in real-time"}),u.jsxs("div",{className:"mt-4 text-sm flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 h-2 rounded-full bg-white/10 overflow-hidden relative",children:[u.jsx("div",{className:"h-full bg-gradient-to-r from-pink-400/80 to-purple-400/80 animate-fill-wide",style:{width:"67%"}}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.35),transparent_30%)] animate-sheen"})]}),u.jsx("span",{className:"text-white/80",children:"67% Female"})]})]}),u.jsxs(he.div,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45,delay:.08},className:"group relative overflow-hidden rounded-3xl lg:rounded-[2rem] p-5 sm:p-6 border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 transition will-change-transform",onMouseMove:t=>{const e=t.currentTarget,n=e.getBoundingClientRect(),i=(t.clientX-n.left)/n.width*100,s=(t.clientY-n.top)/n.height*100;e.style.setProperty("--mx",`${i}%`),e.style.setProperty("--my",`${s}%`)},children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(140px_80px_at_20%_0%,rgba(255,255,255,0.12),transparent)]"})}),u.jsx("div",{className:"absolute top-4 right-4 text-[10px] px-2 py-1 rounded-full bg-white/10 border border-white/15",children:"AI Model"}),u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 grid place-items-center border border-white/10",children:u.jsx(MD,{size:18,className:"opacity-90"})}),u.jsx("span",{className:"font-semibold",children:"Peak Time Analysis"})]}),u.jsx("p",{className:"text-sm text-white/70",children:"Identify optimal activation periods for maximum engagement"}),u.jsx("div",{className:"mt-4 grid grid-cols-7 gap-1 items-end h-16",children:[12,18,24,32,40,28,16].map((t,e)=>u.jsx("div",{className:"bg-[#7042D2] rounded-sm origin-bottom animate-rise",style:{height:`${t}%`,animationDelay:`${e*60}ms`}},e))}),u.jsxs("div",{className:"mt-2 text-xs text-white/70",children:["Peak: ",u.jsx("span",{className:"text-white/90 font-medium",children:"2:30 PM - 4:00 PM"})]})]}),u.jsxs(he.div,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{duration:.45,delay:.12},className:"group relative overflow-hidden rounded-3xl lg:rounded-[2rem] p-5 sm:p-6 border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 transition will-change-transform",onMouseMove:t=>{const e=t.currentTarget,n=e.getBoundingClientRect(),i=(t.clientX-n.left)/n.width*100,s=(t.clientY-n.top)/n.height*100;e.style.setProperty("--mx",`${i}%`),e.style.setProperty("--my",`${s}%`)},children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(140px_80px_at_20%_0%,rgba(255,255,255,0.12),transparent)]"})}),u.jsx("div",{className:"absolute top-4 right-4 text-[10px] px-2 py-1 rounded-full bg-white/10 border border-white/15",children:"Benchmark"}),u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 grid place-items-center border border-white/10",children:u.jsx(DD,{size:18,className:"opacity-90"})}),u.jsx("span",{className:"font-semibold",children:"Emotion Detection"})]}),u.jsx("p",{className:"text-sm text-white/70",children:"Track participant emotions and satisfaction levels"}),u.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[u.jsx(N9,{value:78}),u.jsxs("div",{className:"text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-white/70",children:"Avg. Emotion:"})," ",u.jsx("span",{className:"font-semibold text-indigo-300",children:"Happy"})]}),u.jsx("div",{className:"text-white/70",children:"Stable positive sentiment across sessions."})]})]})]})]})]}),u.jsx("section",{className:"relative px-6 md:px-10a md:py-16 text-center mt-16",children:u.jsxs("div",{className:"relative",children:[u.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-2 gradient-text",children:"And More Insights to Discover"}),u.jsx("p",{className:"text-white/75 max-w-4xl mx-auto mb-6",children:"Unlock deeper analytics and advanced reporting features to maximize your brand activation success."}),u.jsxs("div",{className:"flex justify-center gap-3",children:[u.jsx($e,{variant:"creativePrimary",className:"px-6",children:"Choose Your Booth"}),u.jsx($e,{variant:"creativeSecondary",children:"Contact Us"})]})]})})]})]}),u.jsx(pi,{})]})}function R9(){const t=[{label:"AI Photos",value:45,color:"#8b5cf6"},{label:"Videos",value:25,color:"#22d3ee"},{label:"GIFs",value:18,color:"#34d399"},{label:"Boomerangs",value:12,color:"#f59e0b"}],[e,n]=M.useState(0),i=98,s=100,r=10,o=6,a=20,l=t.map((d,h)=>({...d,r:a+h*(r+o)})),c=d=>2*Math.PI*d;return u.jsxs("div",{className:"grid gap-4",children:[u.jsx("div",{className:"h-72 sm:h-80 grid place-items-center",children:u.jsxs("svg",{viewBox:"0 0 192 192",className:"w-72 h-72 sm:w-80 sm:h-80 overflow-visible",role:"img","aria-labelledby":"rbTitle rbDesc",children:[u.jsx("title",{id:"rbTitle",children:"Experience Types Distribution"}),u.jsx("desc",{id:"rbDesc",children:"Concentric radial bars showing percentages for AI Photos, Videos, GIFs, and Boomerangs."}),u.jsx("defs",{children:u.jsxs("filter",{id:"rbGlow",children:[u.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1",result:"b"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"b"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),l.map((d,h)=>u.jsx("circle",{cx:i,cy:s,r:d.r,fill:"none",stroke:"#111827",strokeWidth:r},`bg-${h}`)),l.map((d,h)=>{const f=c(d.r),p=d.value/100*f;return u.jsx("circle",{cx:i,cy:s,r:d.r,fill:"none",stroke:d.color,strokeWidth:r,strokeDasharray:`${p} ${f-p}`,strokeDashoffset:-f*.25,opacity:e===h?1:.6,filter:e===h?"url(#rbGlow)":void 0,onMouseEnter:()=>n(h),"aria-label":`${d.label} ${d.value}%`,style:{transition:"opacity 200ms ease"}},`fg-${h}`)}),l.map((d,h)=>{const p=(-90+d.value/100*360)*Math.PI/180,x=i+d.r*Math.cos(p),v=s+d.r*Math.sin(p);return u.jsx("g",{transform:`translate(${x},${v})`,children:u.jsx("circle",{r:2,fill:d.color})},`label-${h}`)}),u.jsxs("g",{transform:`translate(${i},${s})`,children:[u.jsx("text",{x:"0",y:"-4",textAnchor:"middle",className:"fill-white",style:{fontSize:"10px",fontWeight:700},children:l[e].label}),u.jsxs("text",{x:"0",y:"10",textAnchor:"middle",className:"fill-white/70",style:{fontSize:"9px"},children:[l[e].value,"%"]})]})]})}),u.jsx("div",{className:"flex flex-wrap gap-3 sm:gap-4 justify-center text-xs text-white/80",children:l.map((d,h)=>u.jsxs("button",{onMouseEnter:()=>n(h),onFocus:()=>n(h),className:`inline-flex items-center gap-2 px-2 py-1 rounded ${h===e?"bg-white/10":""}`,"aria-label":`${d.label} ${d.value}%`,children:[u.jsx("i",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.color}})," ",d.label]},d.label))})]})}function N9({value:t}){const[e,n]=M.useState(0);return M.useEffect(()=>{let i=null;const s=performance.now(),r=900,o=a=>{const l=Math.min(1,(a-s)/r),c=1-Math.pow(1-l,3);n(Math.round(t*c)),l<1&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i&&cancelAnimationFrame(i)}},[t]),u.jsxs("div",{className:"relative w-24 h-24",children:[u.jsxs("svg",{viewBox:"0 0 36 36",className:"w-24 h-24",children:[u.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"transparent",stroke:"#1f2937",strokeWidth:"4"}),u.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"transparent",stroke:"#22c55e",strokeWidth:"4",strokeDasharray:`${e} ${100-e}`,strokeDashoffset:"0"})]}),u.jsx("div",{className:"absolute inset-0 grid place-items-center text-sm",children:u.jsxs("span",{className:"font-semibold",children:[e,"%"]})})]})}function I9(){M.useEffect(()=>{(async()=>{const r=await mi("/our-story");r&&gi(r)})()},[]);const[t,e]=M.useState(!1);M.useRef(null),M.useEffect(()=>{const r=o=>{o.key==="Escape"&&e(!1)};return t&&document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]);const n=M.useRef(null),i=[{name:"Ben",role:"Sales Director"},{name:"Saqib",role:"Sales Manager"},{name:"Modar",role:"Account Manager"},{name:"Shubhneet",role:"Marketing Manager"},{name:"Robin",role:"Senior Accountant"},{name:"Alex",role:"Operations Manager"},{name:"Laith",role:"Embedded System Engineer"},{name:"Asem",role:"Project Manager"},{name:"Wendell",role:"Event Operations"},{name:"Feras",role:"Event Operations"},{name:"Howell",role:"Creative Head"}];function s(r){return r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}return u.jsxs("div",{className:"relative min-h-screen text-white","data-testid":"our-story-page",children:[u.jsx(Kn,{title:"Our Story",description:"iboothme: crafting immersive experiential marketing technology and unforgettable brand activations.",canonical:"/our-story",ogImage:"/images/Youssef-Founder.jpg",keywords:["iboothme story","about iboothme","experiential marketing"]}),u.jsx(fi,{}),u.jsxs("section",{className:`relative w-full overflow-hidden ${t?"min-h-[100vh]":"min-h-[70vh]"} transition-all duration-500 ease-out`,children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(120%_120%_at_50%_-20%,transparent_0%,rgba(3,7,18,0.35)_45%,rgba(3,7,18,0.9)_70%,rgba(3,7,18,0.98)_90%)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(80%_60%_at_50%_0%,rgba(112,66,210,0.15),transparent_60%)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-28 md:h-40 bg-gradient-to-t from-black/40 via-black/20 to-transparent"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10 opacity-25 md:opacity-35 overflow-hidden",children:u.jsx("iframe",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.78vh] h-[100vh] md:w-[177.78vw] md:h-[56.25vw] max-w-none",src:"https://www.youtube.com/embed/wS0lySfJEXo?autoplay=1&mute=1&controls=0&playsinline=1&loop=1&modestbranding=1&rel=0&showinfo=0&playlist=wS0lySfJEXo",title:"Our Story Background Ambient",frameBorder:"0",allow:"autoplay; encrypted-media; picture-in-picture;",allowFullScreen:!0})}),u.jsxs("div",{className:`relative max-w-6xl mx-auto px-6 ${t?"py-0":"py-20 md:py-24 lg:py-28"} text-center ${t?"min-h-[100vh]":"min-h-[70vh]"} flex flex-col items-center justify-center transition-all duration-500 ease-out`,children:[u.jsxs("div",{className:`mb-4 inline-flex items-center gap-3 px-5 py-2.5 rounded-full border border-white/15 bg-white/10 backdrop-blur transition-all duration-500 ease-out ${t?"opacity-0 translate-y-1 pointer-events-none":"opacity-100 translate-y-0"}`,children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"Our Story"})]}),u.jsx("h1",{className:`text-4xl md:text-6xl font-black leading-tight mb-5 gradient-text transition-all duration-500 ease-out ${t?"opacity-0 translate-y-1":"opacity-100 translate-y-0"} px-3`,children:"Welcome to Our Family"}),u.jsx("p",{className:`text-lg md:text-xl text-white/85 max-w-3xl mx-auto transition-all duration-500 ease-out ${t?"opacity-0 translate-y-1":"opacity-100 translate-y-0"} px-3`,children:"Step into the heart of iboothme, where innovation meets passion, and every team member is part of something extraordinary."}),!t&&u.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3 transition-all duration-500 ease-out px-3",children:[u.jsx($e,{variant:"creativePrimary",size:"lg",className:"w-full sm:w-auto",children:"Work With Us"}),u.jsx($e,{variant:"creativeSecondary",size:"lg",className:"w-full sm:w-auto",onClick:()=>e(!0),children:"Watch Video"})]})]}),u.jsx("button",{"aria-label":"Close video",className:`absolute top-4 right-4 z-20 rounded-full px-3 py-1.5 text-sm bg-white/10 border border-white/20 text-white hover:bg-white/20 transition-all duration-500 ease-out ${t?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,onClick:()=>e(!1),children:"Close ✕"}),u.jsx("iframe",{className:`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.78vh] h-[100vh] md:w-[177.78vw] md:h-[56.25vw] max-w-none z-10 transition-all duration-500 ease-out ${t?"opacity-100 scale-100":"opacity-0 scale-[0.98] pointer-events-none"}`,src:`https://www.youtube.com/embed/wS0lySfJEXo?autoplay=1&mute=${t?"0":"1"}&controls=1&playsinline=1&loop=1&modestbranding=1&rel=0&showinfo=0&playlist=wS0lySfJEXo`,title:"Our Story Fullscreen Video",frameBorder:"0",allow:"autoplay; encrypted-media; picture-in-picture;",allowFullScreen:!0})]}),u.jsxs("section",{className:"relative pt-16 md:pt-24 pb-0 md:pb-8",children:[u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(78%_62%_at_50%_0%,rgba(112,66,210,0.10),transparent_70%),radial-gradient(78%_62%_at_50%_100%,rgba(34,212,253,0.08),transparent_70%)] after:absolute after:inset-x-0 after:top-0 after:h-28 md:after:h-40 after:bg-gradient-to-b after:from-black/0 after:to-black/20 before:absolute before:inset-x-0 before:bottom-0 before:h-28 md:before:h-40 before:bg-gradient-to-t before:from-black/0 before:to-black/20"}),u.jsxs("div",{ref:n,className:"max-w-6xl mx-auto px-6 grid md:grid-cols-12 gap-10 items-start md:items-center",children:[u.jsx("aside",{className:"md:col-span-5 order-2 md:order-1 h-full",children:u.jsxs("figure",{className:"relative h-full aspect-[3/4] rounded-3xl overflow-hidden border-4 border-gradient-to-br from-purple-600 via-blue-500 to-teal-400 shadow-[0_0_15px_rgba(112,66,210,0.7)] group transition-shadow duration-500 hover:shadow-[0_0_20px_5px_rgba(112,66,210,0.9)]",children:[u.jsx("img",{src:"/images/Youssef-Founder.jpg",alt:"Youssef, Founder of iboothme",className:"absolute inset-0 w-full h-full object-cover will-change-transform transition-transform duration-500 group-hover:scale-[1.03]",loading:"lazy",decoding:"async"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.18)_0%,transparent_28%,transparent_72%,rgba(255,255,255,0.09)_100%)] opacity-60 mix-blend-overlay transition-transform duration-700 group-hover:translate-y-[-2%]"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/40"}),u.jsxs("figcaption",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent px-4 py-3 backdrop-blur-sm text-center text-white",children:[u.jsx("div",{className:"text-lg font-bold",children:"Youssef"}),u.jsx("div",{className:"text-sm text-white/80",children:"Founder & Visionary"})]})]})}),u.jsxs("section",{className:"md:col-span-7 order-1 md:order-2 text-white/85 space-y-6 leading-relaxed relative",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-3",children:"How did it all start?"}),u.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[u.jsx(he.p,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut",delay:0},viewport:{once:!0,amount:.4},className:"col-span-1",children:"I’m Youssef — founder of iboothme. Back in 2011, I saw a gap in the way brands connected with people at events. The tech felt generic. The experiences felt forgettable."}),u.jsx(he.p,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut",delay:.15},viewport:{once:!0,amount:.4},className:"col-span-1",children:"So I decided to change that. I wanted the freedom to create experiences tailored for every brand. Software and hardware engineered not just to impress, but to make every interaction meaningful, seamless, and truly make sense for brands."})]}),u.jsx(he.blockquote,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut",delay:.3},viewport:{once:!0,amount:.4},className:"border-l-2 border-white/20 pl-4 italic text-white/90",children:"“That’s how iboothme was born — from a belief that brand activations should be more than a moment and a vision to transform how brands connect with their audiences.”"}),u.jsx(he.p,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut",delay:.45},viewport:{once:!0,amount:.4},children:"Today, that vision is stronger than ever. Creating custom, tech-powered experiences that help your brand stand out and make lasting connections."}),u.jsx($e,{asChild:!0,variant:"creativeSecondary",size:"lg",className:"group",children:u.jsxs("a",{href:"https://www.linkedin.com/in/youssefkibbe/",target:"_blank",rel:"noreferrer",children:[u.jsx("span",{className:"inline-block mr-2 text-lg font-bold leading-none",children:"in"}),"Connect with Youssef"]})})]})]}),u.jsx("div",{className:"max-w-6xl mx-auto px-6 mt-8 md:mt-10 pb-8 md:pb-12 grid grid-cols-1 sm:grid-cols-3 gap-6",children:[{k:"14",v:"Years of Innovation"},{k:"45K+",v:"Brand Activations"},{k:"∞",v:"Possibilities"}].map((r,o)=>u.jsxs("div",{className:"relative rounded-3xl lg:rounded-[2.5rem] border border-white/10 bg-white/5 p-10 text-center overflow-hidden transition-all duration-500 hover:bg-gradient-to-br hover:from-white/10 hover:to-white/5 hover:border-white/20",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(120px_60px_at_50%_0%,rgba(255,255,255,0.12),transparent)]"}),u.jsx("div",{className:"text-6xl md:text-7xl font-black mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 drop-shadow-[0_0_20px_rgba(167,139,250,0.5)]",children:r.k}),u.jsx("div",{className:"text-base md:text-lg text-white/70 tracking-wide uppercase",children:r.v})]},o))})]}),u.jsxs("section",{className:"relative pt-6 md:pt-24 pb-16 md:pb-24 -mt-6 md:-mt-8",children:[u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(78%_62%_at_50%_0%,rgba(34,212,253,0.08),transparent_70%),radial-gradient(78%_62%_at_50%_100%,rgba(112,66,210,0.10),transparent_70%)] after:absolute after:inset-x-0 after:top-0 after:h-28 md:after:h-40 after:bg-gradient-to-b after:from-black/0 after:to-black/20 before:absolute before:inset-x-0 before:bottom-0 before:h-28 md:before:h-40 before:bg-gradient-to-t before:from-black/0 before:to-black/20"}),u.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-5xl font-black gradient-text drop-shadow-[0_0_8px_rgba(167,139,250,0.7)]",children:"Meet Our Amazing Family"}),u.jsx("p",{className:"text-white/75 mt-5 mb-8 px-3",children:"Get to know the passionate individuals who make the magic happen."})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button","aria-label":"Previous",className:"swiper-prev absolute -left-4 sm:-left-8 md:-left-10 lg:-left-12 top-1/2 -translate-y-1/2 z-20 h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-white/10 border border-white/20 backdrop-blur hover:bg-white/20 transition grid place-items-center shadow-[0_10px_30px_rgba(0,0,0,0.35)]",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/80",children:u.jsx("path",{d:"M15 18l-6-6 6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u.jsx("button",{type:"button","aria-label":"Next",className:"swiper-next absolute -right-4 sm:-right-8 md:-right-10 lg:-right-12 top-1/2 -translate-y-1/2 z-20 h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-white/10 border border-white/20 backdrop-blur hover:bg-white/20 transition grid place-items-center shadow-[0_10px_30px_rgba(0,0,0,0.35)]",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"text-white/80",children:u.jsx("path",{d:"M9 18l6-6-6-6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),u.jsx(yu,{modules:[ff,Ty,V2],slidesPerView:"auto",spaceBetween:14,loop:!0,centeredSlides:!0,autoplay:{delay:3400,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:{prevEl:".swiper-prev",nextEl:".swiper-next"},effect:"coverflow",coverflowEffect:{rotate:22,stretch:0,depth:180,modifier:1,slideShadows:!1},className:"!px-4 sm:!px-6 md:!px-8 lg:!px-10 !py-4 sm:!py-6 md:!py-8 lg:!py-10 min-h-[380px] sm:min-h-[420px] md:min-h-[520px] lg:min-h-[560px]",children:i.map((r,o)=>u.jsx(bu,{className:"!w-[82%] xs:!w-[68%] sm:!w-[52%] md:!w-[36%] lg:!w-[26%] xl:!w-[24%] transition-transform duration-300 ease-out [&.swiper-slide-active>div]:ring-1 [&.swiper-slide-active>div]:ring-white/10 [&.swiper-slide-active>div]:shadow-[0_30px_90px_rgba(112,66,210,0.18)] [&.swiper-slide-active>div]:scale-[1.80] [&:not(.swiper-slide-active)>div]:opacity-70 [&:not(.swiper-slide-active)>div]:blur-[1.5px] md:[&:not(.swiper-slide-active)>div]:blur-[2px]",children:u.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:Math.min(o*.03,.3)},className:"group rounded-[32px] p-0 hover:scale-[1.02] transition-all duration-300 ease-out relative overflow-hidden h-full bg-gradient-to-b from-[#0e0e0e] to-[#111]",onMouseMove:a=>{const l=a.currentTarget,c=l.getBoundingClientRect(),d=(a.clientX-c.left)/c.width*100,h=(a.clientY-c.top)/c.height*100;l.style.setProperty("--mx",d+"%"),l.style.setProperty("--my",h+"%")},children:[u.jsx("div",{className:"absolute inset-0 rounded-[32px] ring-1 ring-white/10"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"radial-gradient(180px 120px at var(--mx,50%) var(--my,50%), rgba(112,66,210,0.18), transparent 60%)"}}),u.jsxs("div",{className:"aspect-[4/5] md:aspect-[7/9] w-full flex items-center justify-center rounded-t-[32px] overflow-hidden relative bg-[#0b0b0b]",children:[u.jsx("img",{src:`/images/${s(r.name)}.jpg`,alt:`${r.name}, ${r.role}`,className:"w-full h-full object-cover object-center transition-transform duration-700 ease-[cubic-bezier(0.22,1,0.36,1)] group-hover:scale-[1.03] will-change-transform"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-white/5 via-transparent to-transparent"})]}),u.jsxs("div",{className:"px-5 md:px-6 py-4 rounded-b-[32px] relative",children:[u.jsx("div",{className:"flex items-center justify-start",children:u.jsx("div",{className:"text-[1.05rem] md:text-xl font-semibold tracking-tight text-white/95",children:r.name})}),u.jsx("div",{className:"text-xs md:text-sm text-white/60 tracking-wide mt-1",children:r.role})]}),u.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-[32px] shadow-[0_30px_80px_rgba(0,0,0,0.5)]"})]})},r.name))})]})]})]}),u.jsx(pi,{})]})}function L9(){return M.useEffect(()=>{(async()=>{const t=await mi("/robotics");t&&gi(t)})()},[]),u.jsxs("div",{className:"relative min-h-screen text-white",children:[u.jsx(Kn,{title:"Robotics for Events",description:"Robotic experiences and interactive activations that attract, engage, and delight audiences.",canonical:"/robotics",ogImage:"/images/robotics-talia.png",keywords:["robotics","event robots","interactive activations"],jsonLd:{"@context":"https://schema.org","@type":"Service",name:"Robotics",description:"Robotic experiences for events.",provider:{"@type":"Organization",name:"iboothme"}}}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10",children:[u.jsxs("section",{className:"relative w-full overflow-hidden min-h-[60vh] sm:min-h-[70vh] text-center mb-0 flex items-center justify-center",children:[u.jsxs("div",{className:"absolute inset-0 -z-10 opacity-40",children:[u.jsx("video",{className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:"/images/studio-ai-example.jpg",children:u.jsx("source",{src:"/videos/robotics.mp4",type:"video/mp4"})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_60%,transparent_82%)]"})]}),u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-16 md:py-24 lg:py-28 min-h-[60vh] sm:min-h-[70vh] flex flex-col items-center justify-center",children:[u.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},className:"inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-5 py-2 rounded-full border border-white/15 bg-white/10 backdrop-blur mb-4 sm:mb-6",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"Robotics Innovation"})]}),u.jsx(he.h1,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.05},className:"text-3xl sm:text-5xl md:text-6xl font-black mt-1 gradient-text leading-tight",children:"Meet Talia"}),u.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.1},className:"text-lg sm:text-xl md:text-2xl text-white/85 mt-2",children:"The Humanoid AI Robot"}),u.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},className:"max-w-3xl mx-auto mt-4 sm:mt-6 text-white/80 px-2",children:"TALIA is a next-generation humanoid AI robot built to interact and entertain. Powered by OpenAI integration, she will hold natural conversations, represent your brand, share product information, and create real-time connections with audiences."}),u.jsx(he.p,{children:u.jsx("b",{children:"Your Story. Your Spotlight. Your TALIA."})}),u.jsxs(Yi,{breakpoint:"lg",className:"mt-6 sm:mt-8 w-full",children:[u.jsx($e,{variant:"creativePrimary",size:"lg",className:"w-full lg:w-auto text-base sm:text-lg py-6",children:"Reserve Talia Now!"}),u.jsx($e,{variant:"creativeSecondary",size:"lg",className:"w-full lg:w-auto text-base sm:text-lg py-6",children:"Watch Demo"})]}),u.jsx("p",{className:"mt-4 sm:mt-6 text-white/70 text-sm sm:text-base px-2",children:"Continuous OTA Software Upgrade and Update"})]})]}),u.jsxs("section",{className:"relative px-6 mb-16",children:[u.jsx("div",{className:"absolute inset-0 -z-10"}),u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-white mb-3 px-3",children:"Why Talia is Perfect for Brand Activations"}),u.jsx("p",{className:"text-center text-white/80 max-w-4xl mx-auto mb-12 px-4",children:"Talia can pull a crowd, speak in your brand voice, and collect meaningful data—all while looking like a hero on your stand."}),u.jsxs("div",{className:"relative rounded-[32px] border border-white/10 bg-white/[0.04] backdrop-blur-xl overflow-hidden px-6 md:px-10 lg:px-16 py-12",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(75%_60%_at_50%_15%,rgba(112,66,210,0.18),transparent_70%)]"}),u.jsxs("div",{className:"relative grid gap-6 sm:gap-8 md:gap-10 lg:grid-cols-[1fr_auto_1fr] items-center lg:items-start",children:[u.jsx("div",{className:"space-y-8 text-right max-lg:order-2 max-lg:text-left",children:[{title:"Crowd Magnet",subtitle:"Sleek hardware and an AI personality that boosts dwell time and traffic.",accent:"from-purple-200 to-purple-400"},{title:"AI-Powered Conversations",subtitle:"Launches demos, answers questions, and handles live Q&A effortlessly.",accent:"from-pink-200 to-fuchsia-400"},{title:"Photography Innovation",subtitle:"Roadmap to the world’s first independent photographer humanoid.",accent:"from-blue-200 to-sky-400"}].map(({title:t,subtitle:e,accent:n})=>u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"text-sm uppercase tracking-[0.32em] text-white/55 block mb-2",children:"Highlight"}),u.jsx("h3",{className:`text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r ${n}`,children:t}),u.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:e})]},t))}),u.jsxs("div",{className:"relative mx-auto w-[260px] sm:w-[300px] md:w-[340px] lg:w-[360px] h-[520px] sm:h-[580px] max-lg:order-1",children:[u.jsx("div",{className:"absolute -inset-10 bg-[radial-gradient(circle_at_center,rgba(112,66,210,0.32),transparent_70%)] blur-3xl"}),u.jsxs("div",{className:"relative h-full w-full rounded-[2.5rem] bg-black/30 overflow-hidden shadow-[0_35px_65px_rgba(0,0,0,0.55)]",children:[u.jsx("video",{className:"absolute inset-0 h-full w-full object-cover",src:"https://vbth-cdn.s3.eu-central-1.amazonaws.com/media-content/robot.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",poster:"/images/studio-ai-example.jpg"}),u.jsxs("div",{className:"absolute top-3 left-3 flex gap-2 text-[10px]",children:[u.jsx("span",{className:"px-2 py-1 rounded-full bg-black/55 border border-white/10 text-white/85",children:"Immersive Demo"}),u.jsx("span",{className:"px-2 py-1 rounded-full bg-black/55 border border-white/10 text-white/85",children:"Live Activation"})]})]})]}),u.jsx("div",{className:"space-y-8 max-lg:order-3",children:[{title:"Fully Brandable",subtitle:"Dress Talia with t-shirts, dresses, hats, and digital skins to match your world.",accent:"from-indigo-200 to-purple-300"},{title:"Lead Capture Ready",subtitle:"Collect emails, surveys, and preferences while she engages.",accent:"from-teal-200 to-cyan-300"},{title:"On-Brand Voice",subtitle:"Tone, scripts, and handovers tuned to your activation playbook.",accent:"from-blue-200 to-lilac-300"},{title:"Easy Logistics",subtitle:"Compact footprint and rapid setup with our on-site crew.",accent:"from-purple-200 to-pink-300"}].map(({title:t,subtitle:e,accent:n})=>u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"text-sm uppercase tracking-[0.32em] text-white/55 block mb-1",children:"Highlight"}),u.jsx("h3",{className:`text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r ${n}`,children:t}),u.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:e})]},t))})]}),u.jsxs("div",{className:"mt-10 px-0 md:px-12 text-left lg:text-center",children:[u.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white mb-4",children:"Deployment Snapshot"}),u.jsx("p",{className:"text-white/70 text-sm md:text-base mb-6 max-w-3xl lg:mx-auto",children:"Bring Talia to your event with minimal logistics and maximum impact."}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-4 text-sm md:text-base text-white/80",children:[{label:"Setup time",value:"Under 30 minutes"},{label:"Footprint",value:"Fits standard booth spaces"},{label:"Connectivity",value:"5G/LTE or secure venue Wi‑Fi"},{label:"Branding",value:"Branded Tshirt"}].map(({label:t,value:e})=>u.jsxs("div",{className:"w-full sm:flex-1 px-5 py-5 rounded-2xl border border-white/10 bg-white/5 text-center flex flex-col gap-1",children:[u.jsx("span",{className:"text-xs uppercase tracking-[0.28em] text-white/55",children:t}),u.jsx("span",{className:"text-white/90 font-semibold",children:e})]},t))})]}),u.jsx("div",{className:"pt-8",children:u.jsxs(Yi,{breakpoint:"md",className:"justify-center text-center",children:[u.jsx($e,{variant:"creativePrimary",size:"lg",className:"w-full md:w-auto text-base sm:text-lg py-6",children:"Rent Talia"}),u.jsx($e,{variant:"creativeSecondary",size:"lg",className:"w-full md:w-auto text-base sm:text-lg py-6",children:"Schedule Demo"})]})})]})]})]}),u.jsx("section",{className:"relative mb-12 sm:mb-16",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsx("div",{className:"text-center mb-6 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-4 leading-tight",children:"SEE IT IN ACTION"}),u.jsx(D9,{})]})}),u.jsxs("section",{className:"relative mb-10 sm:mb-12 pb-8 sm:pb-10",children:[u.jsxs("div",{className:"absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-[#0b0b12] to-black"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(60%_55%_at_50%_15%,rgba(112,66,210,0.12),transparent_60%)]"})]}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-2 sm:mb-3 leading-tight",children:"Creating the Future (SOON)"}),u.jsx("p",{className:"text-center text-white/80 max-w-3xl mx-auto mb-8 sm:mb-10 px-2",children:"Our in-house robotics engineers are constantly redefining brand activations with cutting-edge humanoid technology, delivering unforgettable experiences that captivate and engage audiences."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 px-2 sm:px-0",children:[u.jsx(sg,{title:"Humanoid Photographer",desc:"Revolutionary AI-powered photography for autonomous content creation.",media:{src:"/images/Independent Photography.jpg",alt:"Independent Photography"}}),u.jsx(sg,{title:"AI Videographer Modes",desc:"Records smooth cinematic clips (hero shots, entries) with built-in effects.",media:{src:"/images/Crowd Engagement.jpg",alt:"Crowd Engagement"}}),u.jsx(sg,{title:"AI Song Generator",desc:"Generates and plays custom songs live based on the description provided by the guest. ",media:{src:"/images/Brand Activation.jpg",alt:"Brand Activation"}})]}),u.jsxs("div",{className:"mt-8 text-center",children:[u.jsx("p",{className:"text-white/70 text-sm",children:"Don’t miss on the updates!              "}),u.jsx("div",{className:"mt-3",children:u.jsx($e,{variant:"creativeSecondary",size:"lg",children:"Join the Waitlist"})})]})]})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 mb-12 text-center",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-semibold mb-2 sm:mb-3 px-2 leading-tight",children:"Ready to Activate Your Brand with Talia?"}),u.jsx("p",{className:"text-white/80 max-w-3xl mx-auto mb-5 sm:mb-6 px-2",children:"Transform your next event into an unforgettable experience. All focus will be around your brand thanks to Talia’s incredible presence and AI capabilities."}),u.jsxs(Yi,{breakpoint:"md",children:[u.jsx($e,{variant:"creativePrimary",size:"lg",className:"w-full md:w-auto text-base sm:text-lg py-6",children:"Rent Talia for Your Event"}),u.jsx($e,{variant:"creativeSecondary",size:"lg",className:"w-full md:w-auto text-base sm:text-lg py-6",children:"See it in action"})]})]}),u.jsx("section",{className:"max-w-6xl mx-auto px-4 sm:px-6 mt-6 sm:mt-8 md:mt-10 pb-6 sm:pb-8 md:pb-12 grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-5 md:gap-6",children:[{k:"14",v:"Years Experience"},{k:"45K+",v:"Activations Powered"},{k:"AI First",v:"Technology"},{k:"Custom",v:"Solutions"}].map((t,e)=>u.jsxs("div",{className:"relative rounded-3xl lg:rounded-[2.5rem] border border-white/10 bg-white/5 p-10 text-center overflow-hidden transition-all duration-500 hover:bg-gradient-to-br hover:from-white/10 hover:to-white/5 hover:border-white/20",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(120px_60px_at_50%_0%,rgba(255,255,255,0.12),transparent)]"}),u.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl font-black mb-1.5 sm:mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400",children:t.k}),u.jsx("div",{className:"text-xs sm:text-sm md:text-base text-white/70 tracking-wide uppercase",children:t.v})]},e))})]}),u.jsx(pi,{})]})}function D9(){return u.jsx("div",{className:"relative mx-auto max-w-4xl rounded-2xl overflow-hidden border border-white/15 bg-white/5 shadow-[0_20px_60px_rgba(0,0,0,0.45)]",children:u.jsxs("div",{className:"relative aspect-video",children:[u.jsx("iframe",{id:"yt-inline-player",className:"absolute inset-0 w-full h-full",src:"https://www.youtube.com/embed/1zdCE7vdh8Y?autoplay=0&mute=1&controls=0&loop=1&playlist=1zdCE7vdh8Y&modestbranding=1&rel=0",title:"Talia Robotics Demo",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}),u.jsx("button",{type:"button",onClick:()=>{var n;const t=document.getElementById("yt-inline-player");t&&(t.src="https://www.youtube.com/embed/1zdCE7vdh8Y?autoplay=1&mute=0&controls=1&rel=0&modestbranding=1&start=0");const e=document.getElementById("yt-inline-overlay");(n=e==null?void 0:e.parentElement)==null||n.removeChild(e)},id:"yt-inline-overlay",className:"group absolute inset-0 grid place-items-center bg-black/0 hover:bg-black/10 transition-colors","aria-label":"Play video",children:u.jsx("span",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-white/90 text-black shadow-lg group-hover:scale-105 transition-transform",children:u.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:u.jsx("path",{d:"M8 5v14l11-7z"})})})})]})})}function sg({title:t,desc:e,media:n}){return u.jsxs("div",{className:"group relative rounded-3xl border border-white/10 bg-white/5 overflow-hidden transition-all duration-500 hover:border-white/20 hover:bg-white/10 hover:shadow-[0_18px_60px_rgba(0,0,0,0.35)]",children:[u.jsxs("div",{className:"relative h-40 md:h-44 overflow-hidden",children:[n?u.jsx("img",{src:n.src,alt:n.alt||t,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-[1.05]"}):u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/40"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.18)_0%,transparent_28%,transparent_72%,rgba(255,255,255,0.09)_100%)] opacity-60 mix-blend-overlay transition-transform duration-700 group-hover:translate-y-[-2%]"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/40"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h4",{className:"text-lg font-semibold mb-1 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400",children:t}),u.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:e})]})]})}function k9(){return u.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:[u.jsx(Kn,{title:"Page Not Found",description:"The page you’re looking for doesn’t exist.",robots:"noindex,nofollow"}),u.jsx(wf,{className:"w-full max-w-md mx-4",children:u.jsxs(jP,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(TD,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})]})}function O9(){M.useEffect(()=>{(async()=>{const o=await mi("/get-ideas");o&&gi(o)})()},[]);const[t,e]=M.useState("All Effects"),n=[{tag:"AI Photo Effect",title:"AI Portrait Enhancement",subtitle:"Professional studio-quality portraits with AI-powered lighting and skin enhancement.",media:{type:"image",src:"/images/studio-ai-example.jpg"}},{tag:"AI Video Effect",title:"Cinematic Video Transform",subtitle:"Transform photos into dynamic cinematic video sequences with AI motion.",media:{type:"video",src:"/videos/ai-parallax.mp4"}}],i=[{tag:"AI Photo Effect",title:"AI Portrait Enhancement",subtitle:"AI Portrait Enhancement",media:{type:"image",src:"/images/studio-ai-example.jpg"}},{tag:"AI Video Effect",title:"Cinematic Video Transform",subtitle:"Cinematic Video Transform",media:{type:"video",src:"/videos/1.mp4"}},{tag:"AI Music Generator",title:"Brand Music Generator",subtitle:"Brand Music Generator",media:{type:"video",src:"/videos/2.mp4"}},{tag:"AI Photo Effect",title:"Virtual Background Magic",subtitle:"Virtual Background Magic",media:{type:"image",src:"/images/alex.jpg"}},{tag:"Interactive Experience",title:"Interactive Gaming Hub",subtitle:"Interactive Gaming Hub",media:{type:"video",src:"/videos/3.mp4"}},{tag:"Creative AI Tool",title:"Sketch to Art AI",subtitle:"Sketch to Art AI",media:{type:"image",src:"/images/robin.jpg"}},{tag:"AI Effect",title:"AI Face Filters",subtitle:"AI Face Filters",media:{type:"video",src:"/videos/4.mp4"}},{tag:"Motion Graphics Video",title:"Motion Graphics Video",subtitle:"Motion Graphics Video",media:{type:"video",src:"/videos/ai-avatar.mp4"}},{tag:"AI Video Generator",title:"Brand Voice AI",subtitle:"Brand Voice AI",media:{type:"video",src:"/videos/ai-tech.mp4"}}],s=["All Effects","AI Photo","AI Video","AI Music","Interactive","Creative"],r=M.useMemo(()=>{if(t==="All Effects")return i;const a={"AI Photo":["AI Photo Effect"],"AI Video":["AI Video Effect","AI Video Generator","Motion Graphics Video"],"AI Music":["AI Music Generator"],Interactive:["Interactive Experience"],Creative:["Creative AI Tool","AI Effect"]}[t]||[];return i.filter(l=>a.includes(l.tag))},[t]);return u.jsxs("div",{className:"relative min-h-screen text-white",children:[u.jsx(Kn,{title:"Activation Ideas",description:"Explore fresh activation ideas and experiential concepts to inspire your next event.",canonical:"/get-ideas",ogImage:"/images/Brand Activation.jpg",keywords:["activation ideas","experiential ideas","event concepts"]}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10",children:[u.jsxs("section",{className:"relative w-full overflow-hidden min-h-[70vh] text-center mb-14 rounded-[28px] flex items-center justify-center",children:[u.jsxs("div",{className:"absolute inset-0 -z-10 opacity-30 overflow-hidden",children:[u.jsx("video",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.78vh] h-[100vh] md:w-[177.78vw] md:h-[56.25vw] max-w-none",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",children:u.jsx("source",{src:"/videos/get-ideas.mp4"})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_60%,transparent_82%)]"})]}),u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-16 md:py-20 lg:py-24 min-h-[70vh] flex flex-col items-center justify-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2.5 rounded-full border border-white/15 bg-white/10 backdrop-blur mb-6",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"Get Ideas"})]}),u.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-black gradient-text",children:"Discover. Imagine. Activate."}),u.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/85 mt-3 sm:mt-4 max-w-[34ch] sm:max-w-3xl mx-auto leading-relaxed",children:"Get inspired with concepts that help you win your pitches and create unforgettable brand activations."}),u.jsx("div",{className:"mt-6 sm:mt-8",children:u.jsx($e,{variant:"creativePrimary",size:"lg",className:"w-full sm:w-auto",children:"Explore Get Ideas"})})]})]}),u.jsxs("section",{className:"relative max-w-7xl mx-auto px-6 mb-12",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-6",children:"Featured Experiences"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((o,a)=>u.jsx("div",{className:"pb-2",children:u.jsx(j9,{...o})},a))})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-6 mb-10",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3",children:s.map(o=>u.jsx("button",{onClick:()=>e(o),className:`px-4 py-2 rounded-full border text-sm font-semibold transition ${t===o?"bg-[#7042D2]/20 border-[#7042D2]/40 text-white":"bg-white/5 border-white/15 text-white/85 hover:bg-white/10 hover:text-white"}`,"aria-pressed":t===o,children:o},o))})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-6 mb-12",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-6",children:"Ideas"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((o,a)=>u.jsx(F9,{...o},a))})]}),u.jsx("section",{className:"max-w-6xl mx-auto px-6 pb-8 md:pb-12 grid grid-cols-1 sm:grid-cols-4 gap-6",children:[{k:"150+",v:"AI Effects"},{k:"50+",v:"Interactive Games"},{k:"25+",v:"Music Generators"},{k:"∞",v:"Custom Concepts"}].map((o,a)=>u.jsxs("div",{className:"relative rounded-3xl lg:rounded-[2.5rem] border border-white/10 bg-white/5 p-10 text-center overflow-hidden transition-all duration-500 hover:bg-gradient-to-br hover:from-white/10 hover:to-white/5 hover:border-white/20",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(120px_60px_at_50%_0%,rgba(255,255,255,0.12),transparent)]"}),u.jsx("div",{className:"text-3xl md:text-4xl font-black mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400",children:o.k}),u.jsx("div",{className:"text-sm md:text-base text-white/70 tracking-wide uppercase",children:o.v})]},a))}),u.jsxs("section",{className:"max-w-7xl mx-auto px-6 mb-16 text-center",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h3",{className:"text-2xl md:text-3xl font-semibold mb-3 px-3",children:"Ready to implement these experiences?"}),u.jsx("p",{className:"text-white/80 max-w-3xl mx-auto mb-6 px-3",children:"Let’s discuss how we can customize these solutions for your brand activation needs."}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[u.jsx($e,{variant:"creativePrimary",size:"lg",className:"w-full sm:w-auto",children:"Start the Conversation"}),u.jsx($e,{variant:"creativeSecondary",size:"lg",className:"w-full sm:w-auto",children:"Book a Demo"})]})]})]}),u.jsx(pi,{})]})}function j9({tag:t,title:e,subtitle:n,media:i}){return u.jsxs("div",{className:"group relative aspect-[3/5] w-full rounded-[34px] overflow-hidden shadow-[0_24px_70px_rgba(0,0,0,0.38)] transition-transform duration-500 ease-out will-change-transform hover:scale-[1.02] hover:-rotate-[0.6deg]",children:[i&&u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.type==="image"?u.jsx("img",{src:i.src,alt:e,className:"w-full h-full object-cover will-change-transform transition-transform duration-[900ms] ease-out group-hover:scale-[1.06]"}):u.jsx("video",{className:"w-full h-full object-cover",src:i.src,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.18)_0%,transparent_28%,transparent_72%,rgba(255,255,255,0.09)_100%)] opacity-60 mix-blend-overlay transition-transform duration-700 group-hover:translate-y-[-2%]"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/15 via-black/0 to-black/70"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-white/10"}),u.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-[36px] shadow-[0_40px_120px_rgba(0,0,0,0.45)]"})]}),u.jsx("div",{className:"absolute inset-0 flex items-end p-6 md:p-7",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("span",{className:"inline-block text-[10px] px-2 py-1 rounded-full bg-black/50 backdrop-blur-sm border border-white/15 uppercase tracking-wide mb-2",children:t}),u.jsx("div",{className:"text-white/95 drop-shadow-[0_6px_18px_rgba(0,0,0,0.6)] text-base md:text-lg font-semibold leading-snug",children:e}),u.jsx("div",{className:"text-white/80 text-xs md:text-sm mt-1 max-w-[28ch]",children:n})]})})]})}function F9({tag:t,title:e,subtitle:n,media:i}){return u.jsxs("div",{className:"group relative rounded-3xl border border-white/10 bg-white/5 overflow-hidden transition-all duration-500 hover:border-white/20 hover:bg-white/10 hover:shadow-[0_18px_60px_rgba(0,0,0,0.35)] hover:-translate-y-[2px] min-h-[360px] flex flex-col",children:[i&&u.jsxs("div",{className:"relative h-64 md:h-72 overflow-hidden",children:[i.type==="image"?u.jsx("img",{src:i.src,alt:e,className:"w-full h-full object-cover will-change-transform transition-transform duration-[900ms] ease-out group-hover:scale-[1.06]"}):u.jsx("video",{className:"w-full h-full object-cover",src:i.src,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.18)_0%,transparent_28%,transparent_72%,rgba(255,255,255,0.09)_100%)] opacity-60 mix-blend-overlay transition-transform duration-700 group-hover:translate-y-[-2%]"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/12 via-transparent to-black/50"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-white/10"}),u.jsx("span",{className:"absolute top-3 left-3 text-[10px] px-2 py-1 rounded-full bg-black/50 backdrop-blur-sm border border-white/15 uppercase tracking-wide",children:t})]}),u.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-end gap-2",children:[u.jsx("div",{className:"text-base md:text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400",children:e}),u.jsx("div",{className:"text-white/80 text-sm leading-relaxed max-w-[36ch]",children:n})]})]})}function U9(){return M.useEffect(()=>{(async()=>{const t=await mi("/personalised-merch");t&&gi(t)})()},[]),u.jsxs("div",{className:"relative min-h-screen text-white",children:[u.jsx(Kn,{title:"Personalised Merchandise for Events",description:"On-demand custom merchandise for events and activations with branding, QR flows, and instant fulfillment.",canonical:"/personalised-merch",ogImage:"/images/gift-box-purple.png",keywords:["personalised merch","custom giveaways","event merchandise"],jsonLd:{"@context":"https://schema.org","@type":"Service",name:"Personalised Merchandise",description:"On-demand branded merchandise for events.",provider:{"@type":"Organization",name:"iboothme"}}}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10",children:[u.jsxs("section",{className:"relative w-full min-h-[60vh] sm:min-h-[70vh] overflow-hidden text-center mb-8 sm:mb-14 rounded-[20px] sm:rounded-[28px] flex items-center justify-center",children:[u.jsxs("div",{className:"absolute inset-0 -z-10 opacity-30 overflow-hidden",children:[u.jsx("video",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.78vh] h-[100vh] md:w-[177.78vw] md:h-[56.25vw] max-w-none",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:u.jsx("source",{src:"/videos/customization.mp4"})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_60%,transparent_82%)]"})]}),u.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-14 md:py-20 lg:py-24 flex flex-col items-center justify-center",children:[u.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},className:"inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-5 py-2 rounded-full border border-white/15 bg-white/10 backdrop-blur mb-4 sm:mb-6",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"Real-Time Personalization Technology"})]}),u.jsx(he.h1,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45},className:"text-3xl sm:text-4xl md:text-6xl font-black gradient-text px-3 leading-tight",children:"The Power of Live Personalization"}),u.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05},className:"text-base sm:text-lg md:text-xl text-white/85 mt-3 sm:mt-4 max-w-[34ch] sm:max-w-3xl mx-auto leading-relaxed px-3",children:"Turn every guest into a brand ambassador with live personalization. From precision laser engraving to on-the-spot printing and personalization, we transform giveaways into tangible connections that last well beyond the event."}),u.jsx("div",{className:"mt-6 sm:mt-8 px-3",children:u.jsx($e,{variant:"creativePrimary",size:"lg",className:"w-full md:w-auto text-base sm:text-lg py-6",children:"Personalize for My Event"})})]})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 mb-12",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-3 sm:mb-4 leading-tight",children:"Custom Software & Hardware? Absolutely."}),u.jsx("p",{className:"text-center text-white/80 max-w-3xl mx-auto mb-8 px-2",children:"We can personalize any of your products with bespoke software or hardware solutions. Discover the endless engagement opportunities of live personalization."}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 items-stretch ",children:[u.jsxs("div",{className:"p-5 sm:p-6 md:p-8",children:[u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"NIKE Personalization Experience"}),u.jsx("p",{className:"text-white/80 mb-4",children:"We designed Nike’s end-to-end personalization ecosystem. Bringing digital creativity into the store."}),u.jsx("p",{className:"text-white/80 mb-4",children:"Guests scan a QR code or use interactive kiosks to design their own apparel with graphics."}),u.jsxs("p",{className:"text-white/80 mb-4",children:[" ","Our smart system manages real-time production updates and enables seamless, contactless pickup from lockers. From design to delivery, every step was engineered to make personalization effortless, scalable, and unforgettable."]}),u.jsx("ul",{className:"text-white/85 text-sm space-y-2.5",children:["Custom Software Development","Hardware Integration","Automated Smart Locker Integration","Real-time Engagement"].map(t=>u.jsxs("li",{className:"flex items-start gap-2.5",children:[u.jsx("span",{className:"mt-0.5 inline-flex h-4 w-4 items-center justify-center rounded-full bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-400/30",children:u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:u.jsx("path",{d:"M20 6L9 17l-5-5"})})}),u.jsx("span",{children:u.jsx("b",{children:t})})]},t))})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-3 sm:inset-4 pointer-events-none z-10"}),u.jsx("div",{className:"relative mx-auto my-3 sm:my-4 w-[72%] sm:w-[62%] lg:w-[72%] max-w-[700px]",children:u.jsx("video",{className:"w-full h-full object-cover aspect-[9/16] rounded-[1.25rem]",src:"/videos/Nike.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata"})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/0 via-transparent to-black/30"})]})]})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 mb-12",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-6",children:"Proven Results for Global Brands"}),u.jsx("p",{className:"text-center mb-6",children:"Discover how top brands have elevated their activations through our live personalization technology, turning every interaction into a powerful brand moment."}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[{title:"Philips",desc:"Personalized coffee coasters that kept Philips top of mind.",videoUrl:"/videos/philips-coasters.mp4"},{title:"L’Oréal",desc:"Live serum bottle personalized with guests’ names elegantly engraved on-site.",videoUrl:"/videos/loreal-serum.mp4"},{title:"TATA",desc:"From AI avatar to personalized notebook in minutes.",videoUrl:"/videos/tata-notebook.mp4"}].map(t=>u.jsx(B9,{title:t.title,desc:t.desc,url:t.videoUrl},t.title))})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-6 mb-12",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-4 sm:mb-6 leading-tight",children:"Products We Personalize for Brands"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[u.jsx(Kd,{title:"Beauty & Cosmetics",desc:"Makeup palettes, perfumes, skincare.",media:{type:"image",src:"/images/makeup.png"},chip:"Beauty"}),u.jsx(Kd,{title:"Fashion & Apparel",desc:"Shoes, tees, bags.",media:{type:"image",src:"/images/fashion.png"},chip:"Fashion"}),u.jsx(Kd,{title:"Tech & Accessories",desc:"Phones, headphones, laptops.",media:{type:"image",src:"/images/tech.png"},chip:"Tech"}),u.jsx(Kd,{title:"Lifestyle Products",desc:"Water bottles, mugs, stationery.",media:{type:"image",src:"/images/lifestyle.png"},chip:"Lifestyle"})]})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 mb-12",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-4 sm:mb-6 leading-tight",children:"Works with Your Iboothme Setup"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 sm:gap-6",children:[u.jsx(yc,{title:"Iboothme X",desc:"Touchscreen photo booth integration.",media:{type:"image",src:"/iboothmex.jpg"},chip:"Touchscreen"}),u.jsx(yc,{title:"Retro X",desc:"Retro-styled immersive activation system.",media:{type:"image",src:"/images/retro-x.jpg"},chip:"Retro"}),u.jsx(yc,{title:"Vending X",desc:"Product delivery meets brand engagement.",media:{type:"image",src:"/vendingx.jpg"},chip:"Vending"}),u.jsx(yc,{title:"The Claw",desc:"Gamified engagement and data capture.",media:{type:"image",src:"/TheClaw.jpg"},chip:"Gaming"}),u.jsx(yc,{title:"The GumBall",desc:"Interactive acrylic ball activation.",media:{type:"image",src:"/images/gumball-x-purple.png"},chip:"Interactive"})]})]}),u.jsxs("section",{className:"max-w-6xl mx-auto px-4 sm:px-6 mb-12",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-4 sm:mb-6 leading-tight",children:"Why Live Personalization Wins?"}),u.jsx("p",{className:"text-center mb-6",children:"When guests see your product personalized with their name or photo, it becomes more than a gift; it’s a personal connection. That bond keeps your brand unforgettable and draws them back to you."}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-6 mb-8",children:[{k:"85%",v:"Higher Engagement"},{k:"3x",v:"Brand Recall"},{k:"92%",v:"Keep Rate"},{k:"67%",v:"Social Shares"}].map((t,e)=>u.jsxs("div",{className:"relative rounded-3xl lg:rounded-[2.5rem] border border-white/10 bg-white/5 p-10 text-center overflow-hidden transition-all duration-500 hover:bg-gradient-to-br hover:from-white/10 hover:to-white/5 hover:border-white/20",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(120px_60px_at_50%_0%,rgba(255,255,255,0.12),transparent)]"}),u.jsx("div",{className:"text-4xl md:text-5xl font-black mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400",children:t.k}),u.jsx("div",{className:"text-sm md:text-base text-white/70 tracking-wide uppercase",children:t.v})]},e))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[u.jsx(rg,{title:"Instant Brand Connection",desc:"Guests leave with branded items they love."}),u.jsx(rg,{title:"Social Media Amplification",desc:"Unique shareable moments fuel organic reach."}),u.jsx(rg,{title:"Event Highlights",desc:"Customization creates unforgettable activations."})]})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 mb-16 text-center",children:[u.jsx("div",{className:"text-center mb-8 opacity-60",children:"⸻"}),u.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-semibold mb-2 sm:mb-3 px-2 leading-tight",children:"Ready to Transform Your Brand Activation?"}),u.jsx("p",{className:"text-white/80 max-w-3xl mx-auto mb-5 sm:mb-6 px-2",children:"Join the leading brands who use live personalization to create deeper connections, drive engagement, and amplify their brand visibility at events."}),u.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-3 px-3 sm:px-0",children:u.jsx($e,{variant:"creativePrimary",size:"lg",className:"w-full md:w-auto text-base sm:text-lg py-6",children:"Start Your Personalization Journey"})})]})]}),u.jsx(pi,{})]})}typeof window<"u"&&(window.openInlineVideoModal=t=>{const e=document.createElement("div");e.className="fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4",e.tabIndex=-1;const n=o=>{o.key==="Escape"&&i()},i=()=>{try{document.body.removeChild(e),document.removeEventListener("keydown",n)}catch{}};e.addEventListener("click",o=>{o.target===e&&i()}),document.addEventListener("keydown",n);const s=document.createElement("video");s.className="w-full max-w-5xl aspect-video rounded-xl border border-white/15 bg-black",s.src=t,s.autoplay=!0,s.controls=!0,s.playsInline=!0,s.muted=!1;const r=document.createElement("button");r.setAttribute("aria-label","Close"),r.className="absolute top-4 right-4 h-10 w-10 rounded-full bg-white/90 text-black grid place-items-center",r.innerHTML='<svg width=20 height=20 viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18"></path><path d="M6 6l12 12"></path></svg>',r.addEventListener("click",i),e.appendChild(s),e.appendChild(r),document.body.appendChild(e),setTimeout(()=>{var o;try{(o=s.play)==null||o.call(s)}catch{}},0)});function rg({title:t,desc:e}){return u.jsxs("div",{className:"rounded-2xl p-6 bg-white/5 border border-white/10",children:[u.jsx("div",{className:"font-semibold mb-1",children:t}),u.jsx("div",{className:"text-white/75 text-sm",children:e})]})}function Kd({title:t,desc:e,media:n,chip:i}){return u.jsxs("div",{className:"group relative overflow-hidden transition-all duration-500",children:[n&&u.jsx("div",{className:"relative h-40 md:h-50 overflow-hidden",children:n.type==="image"?u.jsx("img",{src:n.src,alt:t,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-[1.05]"}):u.jsx("video",{className:"w-full h-full object-cover",src:n.src,autoPlay:!0,loop:!0,muted:!0,playsInline:!0})}),u.jsxs("div",{className:"p-5",children:[u.jsx("h4",{className:"text-lg font-semibold mb-1",children:t}),u.jsx("p",{className:"text-white/75 text-sm",children:e})]})]})}function yc({title:t,desc:e,media:n,chip:i}){return u.jsxs("div",{className:"group relative aspect-[7/12] w-full rounded-[34px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.35)] transition-transform duration-500 ease-out will-change-transform hover:scale-[1.02] hover:-rotate-[0.6deg]",children:[n&&u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.type==="image"?u.jsx("img",{src:n.src,alt:t,className:"w-full h-full object-cover will-change-transform transition-transform duration-[900ms] ease-out group-hover:scale-[1.06]"}):u.jsx("video",{className:"w-full h-full object-cover",src:n.src,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.18)_0%,transparent_28%,transparent_72%,rgba(255,255,255,0.09)_100%)] opacity-60 mix-blend-overlay transition-transform duration-700 group-hover:translate-y-[-2%]"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-black/10 to-black/80 sm:from-black/35 sm:via-black/15 sm:to-black/85"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-white/10"}),u.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-[36px] shadow-[0_40px_120px_rgba(0,0,0,0.45)]"})]}),u.jsx("div",{className:"absolute inset-0 flex items-end p-5 md:p-6",children:u.jsxs("div",{children:[i&&u.jsx("span",{className:"inline-block text-[10px] px-2 py-1 rounded-full bg-black/50 backdrop-blur-sm border border-white/15 uppercase tracking-wide mb-2",children:i}),u.jsx("div",{className:"text-white/95 drop-shadow-[0_6px_18px_rgba(0,0,0,0.6)] text-base md:text-lg font-semibold leading-snug",children:t}),u.jsx("div",{className:"text-white/80 text-xs md:text-sm mt-1 max-w-[30ch] line-clamp-2",children:e})]})})]})}function B9({title:t,desc:e,url:n}){const[i,s]=M.useState(!1);return M.useEffect(()=>{if(!i)return;const r=document.body.style.overflow;document.body.style.overflow="hidden";const o=a=>{a.key==="Escape"&&s(!1)};return document.addEventListener("keydown",o),()=>{document.body.style.overflow=r,document.removeEventListener("keydown",o)}},[i]),u.jsxs("div",{className:"group rounded-2xl sm:rounded-3xl border border-white/10 bg-white/5 overflow-hidden",children:[u.jsxs("div",{className:"relative aspect-[16/10]",children:[u.jsx("video",{className:"absolute inset-0 z-0 w-full h-full object-cover",src:n,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata"}),u.jsx("button",{type:"button",className:"group absolute inset-0 z-20 grid place-items-center bg-black/0 hover:bg-black/10 transition-colors","aria-label":`Play ${t}`,onClick:()=>s(!0),children:u.jsx("span",{className:"inline-flex items-center justify-center h-14 w-14 sm:h-16 sm:w-16 rounded-full bg-white/90 text-black shadow-lg group-hover:scale-105 transition-transform",children:u.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:u.jsx("path",{d:"M8 5v14l11-7z"})})})}),u.jsx("div",{className:"absolute inset-0 z-10 bg-gradient-to-b from-black/10 via-transparent to-black/50"})]}),u.jsxs("div",{className:"p-5",children:[u.jsx("h4",{className:"text-lg font-semibold mb-1",children:t}),u.jsx("p",{className:"text-white/80 text-sm",children:e})]}),i&&u.jsx(M2,{children:u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/80",onClick:()=>s(!1)}),u.jsxs("div",{className:"relative w-full max-w-5xl",children:[u.jsx("video",{className:"w-full aspect-video rounded-xl border border-white/15 bg-black",src:n,autoPlay:!0,controls:!0,playsInline:!0}),u.jsx("button",{"aria-label":"Close",className:"absolute -top-3 -right-3 h-10 w-10 rounded-full bg-white/90 text-black grid place-items-center",onClick:()=>s(!1),children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M18 6L6 18"}),u.jsx("path",{d:"M6 6l12 12"})]})})]})]})})]})}function z9(){return M.useEffect(()=>{(async()=>{const t=await mi("/experiential-marketing");t&&gi(t)})()},[]),u.jsxs("div",{className:"relative min-h-screen text-white",children:[u.jsx(Kn,{title:"Experiential Marketing Solutions",description:"Immersive brand activations, interactive experiences, and measurable engagement across physical and digital touchpoints.",canonical:"/experiential-marketing",ogImage:"/images/Brand Activation.jpg",keywords:["experiential marketing","brand activations","interactive experiences"],jsonLd:{"@context":"https://schema.org","@type":"Service",name:"Experiential Marketing",description:"Immersive brand activations and interactive experiences.",provider:{"@type":"Organization",name:"iboothme"}}}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10",children:[u.jsxs("section",{className:"relative w-full overflow-hidden min-h-[60vh] sm:min-h-[70vh] text-center mb-0 flex items-center justify-center",children:[u.jsx("video",{className:"absolute inset-0 w-full h-full object-cover bg-black -z-10",src:"/videos/h-tech.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata"}),u.jsxs("div",{className:"absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(120%_120%_at_50%_-20%,transparent_0%,rgba(3,7,18,0.38)_45%,rgba(3,7,18,0.92)_70%,rgba(3,7,18,0.99)_90%)]"}),u.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_70%,transparent_85%)]"}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-black/80 via-black/50 to-transparent"})]}),u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-16 md:py-24 lg:py-28 min-h-[60vh] sm:min-h-[70vh] flex flex-col items-center justify-center",children:[u.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},className:"inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-5 py-2 rounded-full border border-white/15 bg-white/10 backdrop-blur mb-4 sm:mb-6",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"Hybrid Experience"})]}),u.jsx(he.h1,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.05},className:"text-3xl sm:text-5xl md:text-6xl font-black mt-1 gradient-text leading-tight",children:"Experiential Marketing"}),u.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},className:"max-w-3xl mx-auto mt-4 sm:mt-6 text-white/80 px-2 text-base sm:text-lg md:text-xl",children:"Crafting immersive experiences with bespoke hardware and software integrations. These aren’t off-the-shelf integrations; they’re one-of-a-kind solutions, impossible to replicate and meticulously built around your brand’s story. Every gesture, every interaction, every outcome is deliberately designed to create experiences your audience will never forget."})]})]}),u.jsx("section",{className:"relative px-6 py-12 md:py-16",children:u.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8 items-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full border border-white/15 bg-white/5 text-xs uppercase tracking-widest mb-4",children:u.jsx("span",{children:"Deep Customization"})}),u.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:"Hardware + Software Deeply Customized"}),u.jsx("p",{className:"text-white/80 mb-6",children:"We don’t just integrate existing solutions. We design and build custom hardware, develop proprietary software, and create unique experiences that are impossible to replicate. Every motion, every interaction, every outcome is precisely engineered for your brand."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"font-semibold",children:"Custom Hardware Integration"}),u.jsx("p",{className:"text-sm text-white/75",children:"Sensors, controllers, and mechanics engineered exclusively for your activation."})]}),u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[u.jsx("h3",{className:"font-semibold",children:"Unlimited Possibilities"}),u.jsx("p",{className:"text-sm text-white/75",children:"Every action can trigger any outcome—no limits, no boundaries."})]})]})]}),u.jsx("div",{className:"rounded-[28px] border border-white/10 bg-white/5 p-3",children:u.jsxs("div",{className:"relative aspect-[3/4] w-full rounded-2xl overflow-hidden",children:[u.jsx("video",{className:"absolute inset-0 h-full w-full object-cover",src:"/videos/expt-demo.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),u.jsx("div",{className:"absolute bottom-3 left-3 right-3 text-[11px] text-white/85",children:"Custom Racing Simulator — Motion-controlled gaming experience"})]})})]})}),u.jsxs("section",{className:"relative px-6 py-12 md:py-16",children:[u.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[u.jsxs("h2",{className:"text-2xl md:text-3xl font-bold",children:["Every Motion ",u.jsx("span",{className:"gradient-text",children:"Produces Something"})]}),u.jsx("p",{className:"text-white/80 max-w-3xl mx-auto mt-3",children:"We engineer solutions that transform physical actions into remarkable digital experiences, creating brand activations the world hasn’t seen before. The sky is the limit."})]}),u.jsx("div",{className:"max-w-6xl mx-auto mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{t:"Motion → Digital Art",d:"Cycling creates animations, dancing generates visuals, movement becomes interactive art."},{t:"Fitness → Rewards",d:"Push-ups unlock prizes, workouts earn points, effort gets rewarded instantly."},{t:"Voice → Control",d:"Speak to control environments; sing to create music; voice becomes interface."},{t:"Gestures → Control",d:"Hand movements control interfaces, gestures trigger precise automations."},{t:"Heartbeat → Visuals",d:"Biometrics create personalized art; emotions become visual experiences."},{t:"Custom → Anything",d:"Your concept, our engineering — we build any idea into reality."}].map(({t,d:e})=>u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[u.jsx("h3",{className:"font-semibold mb-1",children:t}),u.jsx("p",{className:"text-sm text-white/75",children:e})]},t))})]}),u.jsxs("section",{className:"relative px-6 py-12 md:py-16",children:[u.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[u.jsxs("h2",{className:"text-2xl md:text-3xl font-bold",children:["Real Experiences ",u.jsx("span",{className:"gradient-text",children:"We’ve Created"})]}),u.jsx("p",{className:"text-white/80 mt-3",children:"Explore our custom-built activations in action—from Philips’ bike-powered smoothie blending to an AI-enhanced foosball table with live commentary."})]}),u.jsx("div",{className:"max-w-6xl mx-auto mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:["Philips Bike Smoothie Blending","Enhanced Foosball Experience","Phone Booth Challenge","Autotune Karaoke Experience","Scoring Challenge Game","Nike Hybrid Brand Activation"].map(t=>u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[u.jsx("div",{className:"aspect-video rounded-xl bg-black/40 mb-3"}),u.jsx("h3",{className:"font-semibold text-sm",children:t})]},t))})]}),u.jsx("section",{className:"relative px-6 py-16",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsxs("h2",{className:"text-2xl md:text-3xl font-bold",children:["Got a Vision? ",u.jsx("span",{className:"gradient-text",children:"Let’s Make It Happen."})]}),u.jsx("p",{className:"text-white/80 mt-3",children:"Let’s collaborate to design a brand activation that’s both share-worthy and strategically aligned with your marketing goals. We engineer the extraordinary—turning bold ideas into reality."}),u.jsxs(Yi,{breakpoint:"md",className:"justify-center mt-6",children:[u.jsx($e,{variant:"creativePrimary",size:"lg",children:"Let’s Talk & Create"}),u.jsx($e,{asChild:!0,variant:"creativeSecondary",size:"lg",children:u.jsx("a",{href:"/ideas#concepts",children:"View More Concepts"})})]})]})}),u.jsx(pi,{})]})]})}const UP="utm_capture_v1";function V9(t){try{const n=new URL(t,window.location.origin).searchParams,i={utm_source:n.get("utm_source")||void 0,utm_medium:n.get("utm_medium")||void 0,utm_campaign:n.get("utm_campaign")||void 0,utm_term:n.get("utm_term")||void 0,utm_content:n.get("utm_content")||void 0,gclid:n.get("gclid")||void 0,fbclid:n.get("fbclid")||void 0,ts:Date.now()};(i.utm_source||i.utm_medium||i.utm_campaign||i.utm_term||i.utm_content||i.gclid||i.fbclid)&&localStorage.setItem(UP,JSON.stringify(i))}catch{}}function H9(){try{const t=localStorage.getItem(UP);return t?JSON.parse(t):null}catch{return null}}function G9(){M.useEffect(()=>{(async()=>{const h=await mi("/contact-us");h&&gi(h)})()},[]);const[,t]=ta(),{toast:e}=Sv(),i=M.useMemo(()=>new URLSearchParams(window.location.search),[]).get("product")||"",s=Sl.find(h=>h.id===i),[r,o]=M.useState({name:"",email:"",phone:"",company:"",product:i,message:""}),[a,l]=M.useState(!1);function c(h,f){o(p=>({...p,[h]:f}))}async function d(h){if(h.preventDefault(),!r.name.trim()||!r.email.trim()){e({title:"Missing required fields",description:"Please provide your name and email to continue.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)){e({title:"Invalid email address",description:"Please enter a valid email.",variant:"destructive"});return}l(!0);try{const f=new URLSearchParams(window.location.search),p=H9();await _L("POST","/api/leads",{name:r.name.trim(),email:r.email.trim(),phone:r.phone.trim()||void 0,company:r.company.trim()||void 0,product:r.product||void 0,message:r.message.trim()||void 0,source_path:window.location.pathname,utm_source:f.get("utm_source")||(p==null?void 0:p.utm_source)||void 0,utm_medium:f.get("utm_medium")||(p==null?void 0:p.utm_medium)||void 0,utm_campaign:f.get("utm_campaign")||(p==null?void 0:p.utm_campaign)||void 0,utm_term:f.get("utm_term")||(p==null?void 0:p.utm_term)||void 0,utm_content:f.get("utm_content")||(p==null?void 0:p.utm_content)||void 0,gclid:f.get("gclid")||(p==null?void 0:p.gclid)||void 0,fbclid:f.get("fbclid")||(p==null?void 0:p.fbclid)||void 0}),Sf("generate_lead",{form_id:"contact_us",method:"contact_form",value:1,currency:"USD",items:r.product?[{item_id:r.product,item_name:s==null?void 0:s.name}]:void 0}),e({title:"Request sent",description:"We will contact you shortly."}),o({name:"",email:"",phone:"",company:"",product:"",message:""}),t("/")}catch(f){const p=typeof(f==null?void 0:f.message)=="string"?f.message:"Please try again.",x=p.includes("Missing SUPABASE")||p.includes("Invalid API key")?"Server configuration error. Please try again later or email info@iboothme.com.":p;e({title:"Failed to send",description:x,variant:"destructive"})}finally{l(!1)}}return u.jsxs("div",{className:"relative min-h-screen text-white",children:[u.jsx(Kn,{title:"Contact Us",description:"Talk to iboothme about your next activation. Get a demo or tailored quote.",canonical:"/contact-us",ogImage:"/images/icon.svg",keywords:["contact","demo","quote","brand activation"],jsonLd:{"@context":"https://schema.org","@type":"ContactPage",name:"Contact iboothme",description:"Get in touch for demos and quotes.",mainEntity:{"@type":"Organization",name:"iboothme"}}}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10",children:[u.jsxs("section",{className:"relative w-full overflow-hidden min-h-[70vh] text-center mb-12 rounded-[28px] flex items-center justify-center",children:[u.jsxs("div",{className:"absolute inset-0 -z-10 opacity-30 overflow-hidden",children:[u.jsx("video",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.78vh] h-[100vh] md:w-[177.78vw] md:h-[56.25vw] max-w-none",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:u.jsx("source",{src:"/videos/contact-hero.mp4"})}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_60%,transparent_82%)]"})]}),u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-20 md:py-24 lg:py-28 min-h-[70vh] flex flex-col items-center justify-center",children:[u.jsx("div",{className:"mt-6 mb-6 flex justify-center",children:u.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold text-white/90 bg-white/10 backdrop-blur-md border border-white/20 shadow-[0_8px_30px_rgba(112,66,210,0.25)] ring-1 ring-inset ring-[#7042D2]/25",children:"14 Years Experience Since 2011"})}),u.jsx("h1",{className:"text-4xl md:text-6xl font-black gradient-text px-3",children:"Ready to activate your brand?"}),u.jsx("p",{className:"text-lg md:text-xl text-white/85 mt-4 max-w-3xl mx-auto px-3",children:"Let’s create something extraordinary together."})]})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-6 mb-12 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 rounded-3xl border border-white/10 bg-white/5 p-6 md:p-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Get Your Quote"}),s&&u.jsxs("div",{className:"mb-4 p-3 rounded-2xl border border-white/10 bg-white/5 flex items-center gap-3",children:[u.jsx("img",{src:s.image,alt:s.name,className:"w-12 h-12 rounded object-cover border border-white/10"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-white/70",children:"Selected Product"}),u.jsx("div",{className:"font-semibold",children:s.name})]})]}),u.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"col-span-1 md:col-span-1",children:[u.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Full Name *"}),u.jsx("input",{required:!0,value:r.name,onChange:h=>c("name",h.target.value),className:"w-full rounded-xl bg-black/40 border border-white/15 px-4 py-3 outline-none focus:ring-2 focus:ring-[#7042D2]",placeholder:"Jane Doe"})]}),u.jsxs("div",{className:"col-span-1 md:col-span-1",children:[u.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Email Address *"}),u.jsx("input",{required:!0,type:"email",value:r.email,onChange:h=>c("email",h.target.value),className:"w-full rounded-xl bg-black/40 border border-white/15 px-4 py-3 outline-none focus:ring-2 focus:ring-[#7042D2]",placeholder:"you@company.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Phone Number"}),u.jsx("input",{value:r.phone,onChange:h=>c("phone",h.target.value),className:"w-full rounded-xl bg-black/40 border border-white/15 px-4 py-3 outline-none focus:ring-2 focus:ring-[#7042D2]",placeholder:"+971 4 44 88 563"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Company"}),u.jsx("input",{value:r.company,onChange:h=>c("company",h.target.value),className:"w-full rounded-xl bg-black/40 border border-white/15 px-4 py-3 outline-none focus:ring-2 focus:ring-[#7042D2]",placeholder:"Your Company"})]}),!s&&u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Product Interest"}),u.jsxs("select",{value:r.product,onChange:h=>c("product",h.target.value),className:"w-full rounded-xl bg-black/40 border border-white/15 px-4 py-3 outline-none focus:ring-2 focus:ring-[#7042D2]",children:[u.jsx("option",{value:"",children:"Select a product (optional)"}),Sl.map(h=>u.jsx("option",{value:h.id,children:h.name},h.id))]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm text-white/80 mb-1",children:"Message"}),u.jsx("textarea",{value:r.message,onChange:h=>c("message",h.target.value),rows:6,className:"w-full rounded-xl bg-black/40 border border-white/15 px-4 py-3 outline-none focus:ring-2 focus:ring-[#7042D2]",placeholder:"Tell us about your event or activation needs…"})]}),u.jsx("div",{className:"md:col-span-2 mt-2",children:u.jsx($e,{type:"submit",variant:"creativePrimary",size:"lg",disabled:a,children:a?"Sending…":"Send Message"})})]})]}),u.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 md:p-8 space-y-6",children:[u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Our Offices"}),u.jsx(og,{title:"UAE",address:"Mazaya Business Avenue AA1, 1402, Jumeirah Lakes Towers, Dubai, UAE",phone:"+971 4 44 88 563"}),u.jsx(og,{title:"Qatar",address:"Al Mirqab Complex, Ground Floor, Office 01, Doha, Qatar",phone:"+974 4001 7012"}),u.jsx(og,{title:"Saudi Arabia",address:"Spring Towers, 3rd Floor, Office 314, Building B, Riyadh, KSA",phone:"+966 53 168 5546"})]})]}),u.jsxs("section",{className:"max-w-7xl mx-auto px-6 mb-10 grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(ag,{label:"Email",value:"info@iboothme.com"}),u.jsx(ag,{label:"Phone",value:"+971 4 44 88 563"}),u.jsx(ag,{label:"Hours",value:"Sun – Thu: 9:00 AM – 6:00 PM"})]}),u.jsx("section",{className:"max-w-6xl mx-auto px-6 pb-16 grid grid-cols-1 sm:grid-cols-4 gap-6",children:[{k:"14",v:"Years Experience"},{k:"45K+",v:"Activations Powered"},{k:"AI First",v:"Technology"},{k:"Custom",v:"Solutions"}].map((h,f)=>u.jsxs("div",{className:"relative rounded-3xl lg:rounded-[2.5rem] border border-white/10 bg-white/5 p-10 text-center overflow-hidden transition-all duration-500 hover:bg-gradient-to-br hover:from-white/10 hover:to-white/5 hover:border-white/20",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(120px_60px_at_50%_0%,rgba(255,255,255,0.12),transparent)]"}),u.jsx("div",{className:"text-3xl md:text-4xl font-black mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400",children:h.k}),u.jsx("div",{className:"text-sm md:text-base text-white/70 tracking-wide uppercase",children:h.v})]},f))})]}),u.jsx(pi,{})]})}function og({title:t,address:e,phone:n}){return u.jsxs("div",{className:"group relative rounded-3xl border border-white/10 bg-white/5 p-5 overflow-hidden transition-all duration-500 hover:border-white/20 hover:bg-white/10 hover:shadow-[0_18px_60px_rgba(0,0,0,0.35)]",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.18)_0%,transparent_28%,transparent_72%,rgba(255,255,255,0.09)_100%)] opacity-60 mix-blend-overlay transition-transform duration-700 group-hover:translate-y-[-2%]"}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"mt-0.5 inline-flex items-center justify-center w-8 h-8 text-white/90",children:u.jsx(rA,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-lg font-semibold",children:t}),u.jsx("div",{className:"text-white/80 text-sm mt-1 mb-2 leading-relaxed max-w-prose",children:e}),u.jsxs("a",{href:`tel:${n.replace(/\s+/g,"")}`,className:"inline-flex items-center gap-2 text-sm font-medium text-white/90 hover:text-white",children:[u.jsx(Rv,{className:"w-4 h-4"}),n]})]})]})]})}function ag({label:t,value:e}){return u.jsxs("div",{className:"group relative rounded-3xl border border-white/10 bg-white/5 p-6 text-center overflow-hidden transition-all duration-500 hover:border-white/20 hover:bg-white/10 hover:shadow-[0_18px_60px_rgba(0,0,0,0.35)] hover:-translate-y-[2px]",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.18)_0%,transparent_28%,transparent_72%,rgba(255,255,255,0.09)_100%)] opacity-60 mix-blend-overlay transition-transform duration-700 group-hover:translate-y-[-2%]"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(120px_60px_at_50%_0%,rgba(255,255,255,0.12),transparent)]"}),u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("span",{"aria-hidden":!0,className:"inline-flex items-center justify-center w-10 h-10 text-white/90",children:t.toLowerCase().includes("email")?u.jsx(sA,{className:"w-5 h-5"}):t.toLowerCase().includes("phone")?u.jsx(Rv,{className:"w-5 h-5"}):u.jsx(AD,{className:"w-5 h-5"})}),u.jsx("div",{className:"text-xs uppercase tracking-wide text-white/70",children:t}),t.toLowerCase().includes("email")?u.jsx("a",{href:`mailto:${e}`,className:"text-xl font-bold mt-1 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 underline-offset-4 hover:underline",children:e}):t.toLowerCase().includes("phone")?u.jsx("a",{href:`tel:${e.replace(/\s+/g,"")}`,className:"text-xl font-bold mt-1 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 underline-offset-4 hover:underline",children:e}):u.jsx("div",{className:"text-xl font-bold mt-1 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400",children:e})]})]})}function W9(){return M.useEffect(()=>{(async()=>{const t=await mi("/gamifications");t&&gi(t)})()},[]),u.jsxs("div",{className:"relative min-h-screen text-white",children:[u.jsx(Kn,{title:"Gamifications for Events",description:"Interactive games and challenges that boost engagement and create shareable brand moments.",canonical:"/gamifications",ogImage:"/images/gumball-x-purple.png",keywords:["gamification","interactive games","event engagement"],jsonLd:{"@context":"https://schema.org","@type":"Service",name:"Gamifications",description:"Interactive games for events.",provider:{"@type":"Organization",name:"iboothme"}}}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10",children:[u.jsxs("section",{className:"relative w-full overflow-hidden min-h-[60vh] sm:min-h-[70vh] text-center mb-0 flex items-center justify-center",children:[u.jsx("video",{className:"absolute inset-0 w-full h-full object-cover bg-black -z-10",src:"/videos/gamification-iboothme.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata"}),u.jsxs("div",{className:"absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(120%_120%_at_50%_-20%,transparent_0%,rgba(3,7,18,0.38)_45%,rgba(3,7,18,0.92)_70%,rgba(3,7,18,0.99)_90%)]"}),u.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-black/80 via-black/50 to-transparent"})]}),u.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-16 md:py-24 lg:py-28 flex flex-col items-center justify-center",children:[u.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},className:"inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-5 py-2 rounded-full border border-white/15 bg-white/10 backdrop-blur mb-4 sm:mb-6",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"Engagement Boost"})]}),u.jsx(he.h1,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.05},className:"text-3xl sm:text-5xl md:text-6xl font-black mt-1 gradient-text leading-tight",children:"Gamification"}),u.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},className:"max-w-3xl mx-auto mt-4 sm:mt-6 text-white/80 px-2 text-base sm:text-lg md:text-xl",children:"Deliver your marketing message in a way that feels natural and engaging. Games hold attention longer. Spark genuine interaction and create brand experiences that leave a lasting impression."})]})]}),u.jsxs("section",{className:"relative px-6 py-12 md:py-16",children:[u.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-8",children:[u.jsxs("h2",{className:"text-2xl md:text-3xl font-bold",children:["Gamification ",u.jsx("span",{className:"gradient-text",children:"For Your Event"})]}),u.jsx("p",{className:"text-white/80 mt-3",children:"We design and develop games tailored specifically to your brand activation, ensuring maximum impact and engagement. Every element is crafted with your marketing objectives in mind, turning play into powerful brand storytelling."})]}),u.jsx("div",{className:"max-w-6xl mx-auto grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{t:"Brand Story",d:"Brand-integrated visuals and mechanics that reinforce your message."},{t:"Multi-Platform",d:"Playable across mobile, screens, kiosks, and online."},{t:"Hardware Compatible",d:"Works with sensors, controllers, cameras, and custom devices."},{t:"Engagement Focused",d:"Drive dwell time, data capture, and share-worthy moments."}].map(({t,d:e})=>u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[u.jsx("h3",{className:"font-semibold mb-1",children:t}),u.jsx("p",{className:"text-sm text-white/75",children:e})]},t))})]}),u.jsxs("section",{className:"relative px-6 py-12 md:py-16",children:[u.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[u.jsxs("h2",{className:"text-2xl md:text-3xl font-bold",children:["Engagement ",u.jsx("span",{className:"gradient-text",children:"Focused"})]}),u.jsx("p",{className:"text-white/80 mt-3",children:"Hold audience attention up to three times longer, delivering your message seamlessly, without it ever feeling like selling."})]}),u.jsx("div",{className:"max-w-6xl mx-auto mt-8 grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{t:"Sephora Mobile Game",d:"Quiz + mini-game for product discovery; data capture ready."},{t:"Samsung Quiz Game",d:"Timed challenge with scores and shareable results."},{t:"F1 Fan Experience",d:"Reaction-based pit stop game; leaderboard enabled."},{t:"Virgin Game Integration",d:"Brand story woven into casual gameplay moments."}].map(({t,d:e})=>u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[u.jsx("div",{className:"aspect-video rounded-xl bg-black/40 mb-3"}),u.jsx("h3",{className:"font-semibold text-sm",children:t}),u.jsx("p",{className:"text-xs text-white/70",children:e})]},t))})]}),u.jsx("section",{className:"relative px-6 py-16",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsxs("h2",{className:"text-2xl md:text-3xl font-bold",children:["Ready to Create ",u.jsx("span",{className:"gradient-text",children:"Your Custom Game?"})]}),u.jsx("p",{className:"text-white/80 mt-3",children:"Transform your marketing message into an engaging, interactive experience. We design and build games tailored to your brand activation, ensuring maximum impact and audience connection."}),u.jsx(Yi,{breakpoint:"md",className:"justify-center mt-6",children:u.jsx($e,{asChild:!0,variant:"creativePrimary",size:"lg",children:u.jsx("a",{href:"/contact-us",children:"Bring My Game to Life"})})})]})}),u.jsx(pi,{})]})]})}function X9(){return M.useEffect(()=>{(async()=>{const t=await mi("/tailored-software-solutions");t&&gi(t)})()},[]),u.jsxs("div",{className:"relative min-h-screen text-white",children:[u.jsx(Kn,{title:"Tailored Software Solutions for Brand Activations",description:"Custom event software: web apps, AR/AI, games, registration, integrations, and real-time analytics to power your brand activations.",canonical:"/tailored-software-solutions",ogImage:"/images/tech.png",keywords:["custom software","event tech","brand activation software","experiential software","AR","AI","gamification"],jsonLd:{"@context":"https://schema.org","@type":"Service",name:"Tailored Software Solutions",description:"Custom software for events and brand activations.",provider:{"@type":"Organization",name:"iboothme"}}}),u.jsx(fi,{}),u.jsxs("main",{className:"relative z-10",children:[u.jsxs("section",{className:"relative w-full overflow-hidden min-h-[60vh] sm:min-h-[70vh] text-center mb-0 flex items-center justify-center",children:[u.jsx("video",{className:"absolute inset-0 w-full h-full object-cover bg-black -z-10",src:"/videos/tailored.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata"}),u.jsxs("div",{className:"absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(120%_120%_at_50%_-20%,transparent_0%,rgba(3,7,18,0.38)_45%,rgba(3,7,18,0.92)_70%,rgba(3,7,18,0.99)_90%)]"}),u.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,rgba(0,0,0,1)_0%,rgba(0,0,0,0.85)_10%,rgba(0,0,0,0)_40%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.85)_90%,rgba(0,0,0,1)_100%)]"}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-black/80 via-black/50 to-transparent"})]}),u.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-16 md:py-24 lg:py-28 flex flex-col items-center justify-center",children:[u.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.4},className:"inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-5 py-2 rounded-full border border-white/15 bg-white/10 backdrop-blur mb-4 sm:mb-6",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),u.jsx("span",{className:"text-sm font-semibold tracking-wide uppercase",children:"Software Solutions"})]}),u.jsx(he.h1,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,delay:.05},className:"text-3xl sm:text-5xl md:text-6xl font-black mt-1 gradient-text leading-tight",children:"Tailored Software Solutions"}),u.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},className:"max-w-4xl mx-auto mt-4 sm:mt-6 text-white/80 px-2 text-base sm:text-lg md:text-xl",children:"From visitors to remote audiences, our tailored software solutions connect everyone to your event through custom WebApps, interactive games, AI photo booths, and real-time data tracking. Every click, scan, and interaction is designed to maximise engagement, extend reach, and create a unified journey."})]})]}),u.jsxs("section",{className:"relative px-6 py-12 md:py-16",children:[u.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-5",children:[u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 overflow-hidden",children:[u.jsx("div",{className:"aspect-video w-full bg-black/30 border-b border-white/10",children:u.jsx("img",{src:"/images/ar-image.jpg",alt:"AR Solution",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-5",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"AR Solution"}),u.jsx("p",{className:"text-white/80 mt-2",children:"From transforming guests’ looks to building an immersive world around them, our AR activations turn every event moment into a brand experience."})]})]}),u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 overflow-hidden",children:[u.jsx("div",{className:"aspect-video w-full bg-black/30 border-b border-white/10",children:u.jsx("img",{src:"/images/hybrid.jpg",alt:"Hybrid Experience",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-5",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Hybrid Experience"}),u.jsx("p",{className:"text-white/80 mt-2",children:"Seamlessly unite physical presence and digital engagements with technology that connects every touchpoint."})]})]}),u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 overflow-hidden",children:[u.jsx("div",{className:"aspect-video w-full bg-black/30 border-b border-white/10",children:u.jsx("img",{src:"/images/tata.jpg",alt:"Registration & Check-in",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-5",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Registration & Check-in System"}),u.jsx("p",{className:"text-white/80 mt-2",children:"From invitation to exit, track every guest’s journey. Our registration and check-in apps make it effortless to welcome, manage, and engage your audience."})]})]})]}),u.jsx("p",{className:"text-white/85 max-w-4xl mx-auto mt-8 text-center",children:"Our in-house team turns bold ideas into custom-built digital experiences that captivate and convert."})]}),u.jsx("section",{className:"relative px-6 py-12 md:py-16",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-8",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Drive Traffic Straight To Your Store"}),u.jsx("p",{className:"text-white/80 mt-3",children:"Our software solutions go beyond digital engagement. They inspire in-person visits. After completing a digital experience, customers receive a unique 4-digit code. They visit your location, enter the code, and instantly unlock their reward. Perfect for driving foot traffic and creating a seamless digital-to-physical experience."})]}),u.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{t:"Engage Online",d:"Customer engages with your digital experience."},{t:"Receive Code",d:"Upon completion, they get a unique 4-digit code."},{t:"Visit Store",d:"Customer visits your store or event location."},{t:"Unlock Reward",d:"They enter the code to unlock and get the reward"}].map(({t,d:e})=>u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[u.jsx("h3",{className:"font-semibold mb-1",children:t}),u.jsx("p",{className:"text-sm text-white/75",children:e})]},t))})]})}),u.jsx("section",{className:"relative px-6 py-12 md:py-16",children:u.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-5 sm:gap-6",children:(()=>{const t=new Set(["locker-x","gift-box"]);return Sl.filter(i=>t.has(i.id)).map(i=>({...i,href:`/products#${i.id}`}))})().map(t=>u.jsxs("article",{className:"group cursor-pointer relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-2xl border border-white/10 bg-black/10 ring-1 ring-white/5 hover:ring-white/15 transition-all duration-500",children:[u.jsx("a",{href:t.href,className:"absolute inset-0","aria-label":`Learn more about ${t.name}`}),u.jsx("div",{className:"absolute inset-0 bg-cover bg-center transform-gpu transition-transform duration-700 will-change-transform group-hover:scale-[1.06]",style:{backgroundImage:`url('${t.image}')`}}),u.jsxs("div",{className:"absolute inset-0 z-10 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-black/25"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/15 to-transparent mix-blend-overlay opacity-70 group-hover:opacity-90 transition-opacity duration-500"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(60%_60%_at_50%_70%,rgba(0,0,0,0.55),transparent_60%)]"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-44 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-90 group-hover:opacity-100 transition-opacity duration-500"}),u.jsx("div",{className:"absolute top-0 left-0 right-0 h-24 bg-gradient-to-b from-black/45 to-transparent"})]}),u.jsx("div",{className:"relative z-20 pt-48 sm:pt-56 pb-7 sm:pb-9 px-6 sm:px-8 flex flex-col h-[460px] sm:h-[500px]",children:u.jsxs("div",{className:"space-y-2 mt-auto drop-shadow-[0_0_18px_rgba(0,0,0,0.16)]",children:[u.jsx("div",{className:"text-[11px] sm:text-xs text-purple-300/90 mb-1 font-medium",children:t.meta}),u.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold leading-tight text-white",children:t.name}),u.jsx("p",{className:"text-sm sm:text-base text-white/92 line-clamp-2",children:t.description})]})}),u.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 px-2.5 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium text-white bg-black/50 backdrop-blur-sm z-20 border border-white/10",children:t.tier})]},t.id))})}),u.jsx("section",{className:"relative px-6 py-16",children:u.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Ready to Build Your Custom Software Solution?"}),u.jsx("p",{className:"text-white/80 mt-3",children:"Turn your boldest activation ideas into powerful, interactive tools. we design and develop software built specifically for your brand, your audience, and your goals. Every line of code, feature, interaction, is crafted to maximise engagement and deliver measurable results."}),u.jsx(Yi,{breakpoint:"md",className:"justify-center mt-6",children:u.jsx($e,{asChild:!0,variant:"creativePrimary",size:"lg",children:u.jsx("a",{href:"/contact-us",children:"Develop My Custom Software"})})})]})}),u.jsx(pi,{})]})]})}function $9(){const[t,e]=M.useState(""),[n,i]=M.useState("");async function s(r){r.preventDefault(),i("");try{if(localStorage.setItem("adminKey",t),!(await fetch("/api/seo",{headers:{"x-admin-key":t}})).ok)throw new Error("Invalid key");window.location.href="/admin"}catch(o){i(o.message||"Login failed")}}return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white p-6",children:u.jsxs("form",{onSubmit:s,className:"w-full max-w-sm space-y-4 bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsx("h1",{className:"text-xl font-bold",children:"Admin Login"}),u.jsx("input",{value:t,onChange:r=>e(r.target.value),placeholder:"Admin Key",className:"w-full rounded-xl bg-black/40 border border-white/15 px-4 py-3 outline-none"}),n&&u.jsx("div",{className:"text-red-400 text-sm",children:n}),u.jsx("button",{type:"submit",className:"w-full rounded-xl bg-[#7042D2] px-4 py-3 font-semibold",children:"Login"})]})})}function Wu(){try{return localStorage.getItem("adminKey")||""}catch{return""}}async function wn(t,e,n){const i={"Content-Type":"application/json"},s=Wu();s&&(i["x-admin-key"]=s);const r=await fetch(e,{method:t,headers:i,body:n?JSON.stringify(n):void 0});if(!r.ok){const a=await r.text();throw new Error(a||r.statusText)}return(r.headers.get("content-type")||"").includes("application/json")?r.json():void 0}function cp(){const[t]=ta(),e="px-3 py-1.5 rounded-full border transition",n=s=>{const r=t===s||s!=="/admin"&&t.startsWith(s);return[e,r?"bg-white/15 border-white/25 text-white":"bg-white/5 border-white/15 hover:bg-white/10"].join(" ")};function i(){localStorage.removeItem("adminKey"),window.location.href="/admin/login"}return u.jsx("header",{className:"sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-black/40 bg-black/60 border-b border-white/10 text-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:u.jsxs("div",{className:"h-14 flex items-center gap-3",children:[u.jsxs(Hi,{href:"/admin",className:"flex items-center gap-2",children:[u.jsx("img",{src:"/images/icon.svg",alt:"iboothme logo",className:"w-7 h-7 rounded"}),u.jsx("span",{className:"font-semibold tracking-wide gradient-text",children:"iboothme Admin"})]}),u.jsxs("nav",{className:"ml-6 flex items-center gap-2",children:[u.jsx(Hi,{href:"/admin",className:n("/admin"),children:"Dashboard"}),u.jsx(Hi,{href:"/admin/leads",className:n("/admin/leads"),children:"Leads"}),u.jsx(Hi,{href:"/admin/seo",className:n("/admin/seo"),children:"SEO"}),u.jsx(Hi,{href:"/admin/settings",className:n("/admin/settings"),children:"Settings"})]}),u.jsx("div",{className:"flex-1"}),u.jsx("button",{onClick:i,className:"text-sm px-3 py-1.5 rounded-full border border-white/15 bg-white/5 hover:bg-white/10 transition",children:"Logout"})]})})})}function q9(){const[t,e]=M.useState([]),[n,i]=M.useState(0),[s,r]=M.useState(null);return M.useEffect(()=>{if(!Wu()){window.location.href="/admin/login";return}(async()=>{const o=await wn("GET","/api/leads?page=1&pageSize=5");e(o.data||[]),i(o.count||0);try{const a=await wn("GET","/api/ga/summary");r(a)}catch{r({available:!1,message:"Unavailable"})}})().catch(console.error)},[]),u.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[u.jsx(cp,{}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"Dashboard"}),u.jsxs("div",{className:"text-sm opacity-80",children:["Total Leads: ",n]})]}),u.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur p-4",children:[u.jsx("div",{className:"font-semibold mb-3",children:"Recent Leads"}),u.jsxs("div",{className:"divide-y divide-white/10",children:[t.map(o=>u.jsxs("div",{className:"py-2 flex items-center justify-between text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:o.name}),u.jsx("div",{className:"text-white/70",children:o.email})]}),u.jsx("div",{className:"text-white/60",children:new Date(o.created_at).toLocaleString()})]},o.id)),t.length===0&&u.jsx("div",{className:"py-6 text-white/60",children:"No leads yet."})]})]}),u.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur p-4",children:[u.jsx("div",{className:"font-semibold mb-3",children:"GA Summary (7 days)"}),!s||!s.available?u.jsx("div",{className:"text-white/70 text-sm",children:(s==null?void 0:s.message)||"No GA data. Configure GA4 in Settings."}):u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(s.summary||{}).map(([o,a])=>u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"text-xs text-white/60",children:o}),u.jsx("div",{className:"text-lg font-semibold",children:a})]},o))})]})]})})]})}function Y9(){const[t,e]=M.useState([]),[n,i]=M.useState(""),[s,r]=M.useState(1),[o,a]=M.useState(0),[l,c]=M.useState(null),[d,h]=M.useState(!1);async function f(){const v=await wn("GET",`/api/leads?page=${s}&pageSize=20${n?`&q=${encodeURIComponent(n)}`:""}`);e(v.data||[]),a(v.count||0)}M.useEffect(()=>{if(!Wu()){window.location.href="/admin/login";return}f().catch(console.error)},[s]),M.useEffect(()=>{function v(g){g.key==="Escape"&&c(null)}return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]);async function p(v){try{h(!0);const g=await wn("GET",`/api/leads/${v}`);c(g)}catch(g){console.error(g)}finally{h(!1)}}function x(v){const g=["id","name","email","phone","company","product","status","created_at"],m=[g.join(",")].concat(v.map(w=>g.map(T=>JSON.stringify(w[T]??"")).join(","))).join(`
`),y=new Blob([m],{type:"text/csv"}),b=URL.createObjectURL(y),_=document.createElement("a");_.href=b,_.download="leads.csv",_.click(),URL.revokeObjectURL(b)}return u.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[u.jsx(cp,{}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"Leads"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:n,onChange:v=>i(v.target.value),placeholder:"Search name/email",className:"rounded-xl bg-black/40 border border-white/15 px-3 py-2"}),u.jsx("button",{onClick:()=>{r(1),f()},className:"rounded-xl bg-white/10 px-3 py-2",children:"Search"}),u.jsx("button",{onClick:()=>x(t),className:"rounded-xl bg-white/10 px-3 py-2",children:"Export CSV"})]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-white/5",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-2",children:"Name"}),u.jsx("th",{className:"text-left p-2",children:"Email"}),u.jsx("th",{className:"text-left p-2",children:"Company"}),u.jsx("th",{className:"text-left p-2",children:"Product"}),u.jsx("th",{className:"text-left p-2",children:"Status"}),u.jsx("th",{className:"text-left p-2",children:"Created"}),u.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),u.jsxs("tbody",{children:[t.map(v=>u.jsxs("tr",{className:"border-t border-white/10",children:[u.jsx("td",{className:"p-2",children:v.name}),u.jsx("td",{className:"p-2",children:v.email}),u.jsx("td",{className:"p-2",children:v.company}),u.jsx("td",{className:"p-2",children:v.product}),u.jsx("td",{className:"p-2",children:u.jsx("select",{value:v.status,onChange:async g=>{const m=g.target.value;await wn("PATCH",`/api/leads/${v.id}`,{status:m}),e(y=>y.map(b=>b.id===v.id?{...b,status:m}:b))},className:"bg-black/40 border border-white/15 rounded px-2 py-1",children:["new","in_progress","closed"].map(g=>u.jsx("option",{value:g,children:g},g))})}),u.jsx("td",{className:"p-2",children:new Date(v.created_at).toLocaleString()}),u.jsx("td",{className:"p-2",children:u.jsx("button",{onClick:()=>p(v.id),className:"rounded bg-white/10 px-2 py-1 hover:bg-white/15",children:"View"})})]},v.id)),t.length===0&&u.jsx("tr",{children:u.jsx("td",{className:"p-4 text-white/60",colSpan:6,children:"No leads found."})})]})]})}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{disabled:s===1,onClick:()=>r(v=>Math.max(1,v-1)),className:"rounded-xl bg-white/10 px-3 py-2 disabled:opacity-40",children:"Prev"}),u.jsx("button",{disabled:s*20>=o,onClick:()=>r(v=>v+1),className:"rounded-xl bg-white/10 px-3 py-2 disabled:opacity-40",children:"Next"})]}),l&&u.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/60 backdrop-blur-sm",onClick:()=>c(null),children:u.jsxs("div",{className:"w-[90vw] max-w-xl rounded-2xl border border-white/15 bg-black/85 text-white p-5 shadow-[0_30px_120px_rgba(0,0,0,0.6)]",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Lead Details"}),u.jsx("button",{onClick:()=>c(null),className:"rounded bg-white/10 px-2 py-1 hover:bg-white/15",children:"Close"})]}),d?u.jsx("div",{className:"py-10 text-center text-white/70",children:"Loading…"}):u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsx(Mr,{label:"Name",value:l.name}),u.jsx(Mr,{label:"Email",value:u.jsx("a",{href:`mailto:${l.email}`,className:"underline hover:no-underline",children:l.email})}),l.phone&&u.jsx(Mr,{label:"Phone",value:u.jsx("a",{href:`tel:${(l.phone||"").replace(/\s+/g,"")}`,className:"underline hover:no-underline",children:l.phone})}),l.company&&u.jsx(Mr,{label:"Company",value:l.company}),l.product&&u.jsx(Mr,{label:"Product",value:l.product}),l.source_path&&u.jsx(Mr,{label:"Source",value:l.source_path}),(l.utm_source||l.utm_medium||l.utm_campaign)&&u.jsx(Mr,{label:"UTM",value:`${l.utm_source||"-"} / ${l.utm_medium||"-"} / ${l.utm_campaign||"-"}`}),l.message&&u.jsxs("div",{children:[u.jsx("div",{className:"text-white/60",children:"Message"}),u.jsx("div",{className:"whitespace-pre-wrap rounded-lg border border-white/10 bg-white/5 p-3",children:l.message})]}),u.jsx(Mr,{label:"Created",value:new Date(l.created_at).toLocaleString()})]})]})})]})]})}function Mr({label:t,value:e}){return u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-24 shrink-0 text-white/60",children:t}),u.jsx("div",{className:"flex-1 break-words",children:e??"-"})]})}function K9(){const[t,e]=M.useState([]),[n,i]=M.useState(null);async function s(){const o=await wn("GET","/api/seo");e(o)}M.useEffect(()=>{if(!Wu()){window.location.href="/admin/login";return}s().catch(console.error)},[]);async function r(o){const a={...o};if(typeof a.json_ld=="string"&&a.json_ld.trim())try{a.json_ld=JSON.parse(a.json_ld)}catch{}a.id&&(await wn("POST","/api/seo",a),i(null),await s())}return u.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[u.jsx(cp,{}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"SEO Manager"}),u.jsx("button",{onClick:()=>i({id:""}),className:"rounded-xl bg-white/10 px-3 py-2",children:"New Entry"})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-white/5",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-2",children:"Route (id)"}),u.jsx("th",{className:"text-left p-2",children:"Title"}),u.jsx("th",{className:"text-left p-2",children:"Updated"}),u.jsx("th",{className:"text-left p-2"})]})}),u.jsxs("tbody",{children:[t.map(o=>u.jsxs("tr",{className:"border-t border-white/10",children:[u.jsx("td",{className:"p-2 font-mono",children:o.id}),u.jsx("td",{className:"p-2",children:o.title}),u.jsx("td",{className:"p-2 text-white/70"}),u.jsx("td",{className:"p-2 text-right",children:u.jsx("button",{className:"rounded bg-white/10 px-2 py-1",onClick:()=>i(o),children:"Edit"})})]},o.id)),t.length===0&&u.jsx("tr",{children:u.jsx("td",{className:"p-4 text-white/60",colSpan:4,children:"No entries yet."})})]})]})}),n&&u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"space-y-1",children:[u.jsx("div",{className:"text-xs text-white/70",children:"Route (e.g., /, /products)"}),u.jsx("input",{value:n.id,onChange:o=>i({...n,id:o.target.value}),className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"})]}),u.jsxs("label",{className:"space-y-1",children:[u.jsx("div",{className:"text-xs text-white/70",children:"Title"}),u.jsx("input",{value:n.title||"",onChange:o=>i({...n,title:o.target.value}),className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"})]}),u.jsxs("label",{className:"space-y-1",children:[u.jsx("div",{className:"text-xs text-white/70",children:"Description"}),u.jsx("input",{value:n.description||"",onChange:o=>i({...n,description:o.target.value}),className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"})]}),u.jsxs("label",{className:"space-y-1",children:[u.jsx("div",{className:"text-xs text-white/70",children:"Canonical"}),u.jsx("input",{value:n.canonical||"",onChange:o=>i({...n,canonical:o.target.value}),className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"})]}),u.jsxs("label",{className:"space-y-1",children:[u.jsx("div",{className:"text-xs text-white/70",children:"OG Image"}),u.jsx("input",{value:n.og_image||"",onChange:o=>i({...n,og_image:o.target.value}),className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"})]}),u.jsxs("label",{className:"space-y-1",children:[u.jsx("div",{className:"text-xs text-white/70",children:"Robots"}),u.jsx("input",{value:n.robots||"",onChange:o=>i({...n,robots:o.target.value}),className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"})]}),u.jsxs("label",{className:"space-y-1 md:col-span-2",children:[u.jsx("div",{className:"text-xs text-white/70",children:"Keywords (comma separated)"}),u.jsx("input",{value:(n.keywords||[]).join(", "),onChange:o=>i({...n,keywords:o.target.value.split(",").map(a=>a.trim()).filter(Boolean)}),className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"})]}),u.jsxs("label",{className:"space-y-1 md:col-span-2",children:[u.jsx("div",{className:"text-xs text-white/70",children:"JSON-LD (object or string)"}),u.jsx("textarea",{value:typeof n.json_ld=="string"?n.json_ld:JSON.stringify(n.json_ld||"",null,2),onChange:o=>i({...n,json_ld:o.target.value}),rows:8,className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2 font-mono text-xs"})]})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{className:"rounded bg-white/10 px-3 py-2",onClick:()=>i(null),children:"Cancel"}),u.jsx("button",{className:"rounded bg-[#7042D2] px-3 py-2",onClick:()=>n&&r(n),children:"Save"})]})]})]})]})}function Z9(){const[t,e]=M.useState(""),[n,i]=M.useState(!1),[s,r]=M.useState(""),[o,a]=M.useState(""),[l,c]=M.useState(""),[d,h]=M.useState(!0),[f,p]=M.useState(!0),[x,v]=M.useState(!0),[g,m]=M.useState(!0),[y,b]=M.useState(!0);M.useEffect(()=>{if(!Wu()){window.location.href="/admin/login";return}(async()=>{try{const w=await fetch("/api/settings/ga");if(w.ok){const{id:C}=await w.json();e(C||"")}const T=await fetch("/api/settings/public");if(T.ok){const C=await T.json();a(C.google_site_verification||""),c(C.bing_site_verification||"")}const A=await wn("GET","/api/settings"),E={};(A||[]).forEach(C=>{C&&C.key&&(E[C.key]=C.value)}),h((E.allow_gptbot??"true")!=="false"),p((E.allow_google_extended??"true")!=="false"),v((E.allow_ccbot??"true")!=="false"),m((E.allow_anthropic_ai??"true")!=="false"),b((E.allow_perplexitybot??"true")!=="false")}catch{}})()},[]);async function _(){i(!0),r("");try{await wn("POST","/api/settings",{key:"ga_measurement_id",value:t.trim()||null}),await wn("POST","/api/settings",{key:"google_site_verification",value:o.trim()||null}),await wn("POST","/api/settings",{key:"bing_site_verification",value:l.trim()||null}),await wn("POST","/api/settings",{key:"allow_gptbot",value:String(d)}),await wn("POST","/api/settings",{key:"allow_google_extended",value:String(f)}),await wn("POST","/api/settings",{key:"allow_ccbot",value:String(x)}),await wn("POST","/api/settings",{key:"allow_anthropic_ai",value:String(g)}),await wn("POST","/api/settings",{key:"allow_perplexitybot",value:String(y)}),r("Saved")}catch(w){r((w==null?void 0:w.message)||"Failed to save")}finally{i(!1)}}return u.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[u.jsx(cp,{}),u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(70%_50%_at_50%_0%,rgba(112,66,210,0.12),transparent_60%),radial-gradient(60%_40%_at_80%_100%,rgba(34,212,253,0.10),transparent_60%)]"}),u.jsxs("div",{className:"p-6 max-w-xl mx-auto space-y-4",children:[u.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"Settings"}),u.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 space-y-3",children:[u.jsxs("label",{className:"space-y-1 block",children:[u.jsx("div",{className:"text-sm text-white/80",children:"GA4 Measurement ID"}),u.jsx("input",{value:t,onChange:w=>e(w.target.value),placeholder:"G-XXXXXXXXXX",className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"}),u.jsx("div",{className:"text-xs text-white/60",children:"Example: G-ABCDE12345. Leave empty to disable tracking."})]}),u.jsx("div",{className:"h-px w-full bg-white/10 my-2"}),u.jsxs("label",{className:"space-y-1 block",children:[u.jsx("div",{className:"text-sm text-white/80",children:"Google Search Console Verification Token"}),u.jsx("input",{value:o,onChange:w=>a(w.target.value),placeholder:"paste token (not full meta tag)",className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"}),u.jsx("div",{className:"text-xs text-white/60",children:'Enter the value for meta name="google-site-verification" content="…"'})]}),u.jsxs("label",{className:"space-y-1 block",children:[u.jsx("div",{className:"text-sm text-white/80",children:"Bing Webmaster Verification Token (optional)"}),u.jsx("input",{value:l,onChange:w=>c(w.target.value),placeholder:"paste token",className:"w-full rounded bg-black/40 border border-white/15 px-3 py-2"}),u.jsx("div",{className:"text-xs text-white/60",children:'Enter the value for meta name="msvalidate.01" content="…"'})]}),u.jsx("div",{className:"h-px w-full bg-white/10 my-2"}),u.jsx("div",{className:"text-sm font-semibold",children:"Crawlers"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:d,onChange:w=>h(w.target.checked)})," GPTBot (OpenAI)"]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:f,onChange:w=>p(w.target.checked)})," Google-Extended (Google AI)"]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:w=>v(w.target.checked)})," CCBot (CommonCrawl)"]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:w=>m(w.target.checked)})," anthropic-ai (Claude)"]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:y,onChange:w=>b(w.target.checked)})," PerplexityBot"]})]}),u.jsx("div",{className:"text-xs text-white/60",children:"Changes apply on next build/deploy (robots.txt and .well-known/ai.txt regenerated)."}),u.jsx("div",{className:"flex gap-2 justify-end",children:u.jsx("button",{onClick:_,disabled:n,className:"rounded bg-white/10 px-3 py-2 disabled:opacity-50",children:n?"Saving…":"Save"})}),s&&u.jsx("div",{className:"text-sm text-white/70",children:s})]})]})]})}function Q9(){const[t]=ta();return M.useEffect(()=>{const e=window.setTimeout(()=>{try{window.scrollTo({top:0,left:0,behavior:"smooth"})}catch{window.scrollTo(0,0)}},0);return()=>window.clearTimeout(e)},[t]),null}const J9={fade:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},"slide-up":{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:-24}},"scale-blur":{initial:{opacity:0,scale:.98,filter:"blur(4px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},exit:{opacity:0,scale:1.01,filter:"blur(6px)"}}};function Kt({children:t,type:e="scale-blur"}){const n=J9[e];return u.jsx(he.div,{initial:n.initial,animate:n.animate,exit:n.exit,transition:{duration:.45,ease:[.22,1,.36,1]},style:{willChange:"opacity, transform, filter"},children:t})}function eX(){const[t]=ta();return u.jsx(v2,{mode:"wait",initial:!1,children:u.jsxs(KI,{children:[u.jsx(qt,{path:"/",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(_9,{})},t)}),u.jsx(qt,{path:"/gamifications",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(W9,{})},t)}),u.jsx(qt,{path:"/experiential-marketing",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(z9,{})},t)}),u.jsx(qt,{path:"/products",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(T9,{})},t)}),u.jsx(qt,{path:"/products/:id",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(E9,{})},t)}),u.jsx(qt,{path:"/analytics",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(P9,{})},t)}),u.jsx(qt,{path:"/ai-technology",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(M9,{})},t)}),u.jsx(qt,{path:"/our-story",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(I9,{})},t)}),u.jsx(qt,{path:"/robotics",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(L9,{})},t)}),u.jsx(qt,{path:"/personalised-merch",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(U9,{})},t)}),u.jsx(qt,{path:"/get-ideas",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(O9,{})},t)}),u.jsx(qt,{path:"/tailored-software-solutions",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(X9,{})},t)}),u.jsx(qt,{path:"/contact-us",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(G9,{})},t)}),u.jsx(qt,{path:"/admin/login",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx($9,{})},t)}),u.jsx(qt,{path:"/admin",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(q9,{})},t)}),u.jsx(qt,{path:"/admin/leads",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(Y9,{})},t)}),u.jsx(qt,{path:"/admin/seo",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(K9,{})},t)}),u.jsx(qt,{path:"/admin/settings",children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(Z9,{})},t)}),u.jsx(qt,{children:u.jsx(Kt,{type:"scale-blur",children:u.jsx(k9,{})},t)})]})})}function tX(){const[t,e]=M.useState(!1),[n]=ta();return M.useEffect(()=>{typeof window<"u"&&V9(window.location.href),(async()=>{try{const i=await fetch("/api/settings/ga");if(i.ok){const{id:s}=await i.json();s&&(w9(s),e(!0))}}catch{}try{const i=await fetch("/api/settings/public");if(i.ok){const s=await i.json(),r=(o,a)=>{if(!a)return;let l=document.querySelector(`meta[name="${o}"]`);l||(l=document.createElement("meta"),l.setAttribute("name",o),document.head.appendChild(l)),l.setAttribute("content",a)};r("google-site-verification",s.google_site_verification),r("msvalidate.01",s.bing_site_verification)}}catch{}})()},[]),M.useEffect(()=>{t&&S9(n)},[n,t]),u.jsx(bL,{client:SL,children:u.jsxs(Hk,{children:[u.jsx(x3,{}),u.jsx(Q9,{}),u.jsx(eX,{})]})})}cM(document.getElementById("root")).render(u.jsx(tX,{}));
